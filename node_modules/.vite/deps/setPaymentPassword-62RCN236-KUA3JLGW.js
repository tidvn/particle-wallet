import {
  Q
} from "./chunk-GB7HPUPG.js";
import {
  C
} from "./chunk-2DY4KXZF.js";
import "./chunk-3KDTPZMW.js";
import {
  i0
} from "./chunk-LGSFMKB7.js";
import "./chunk-HFPUBT3M.js";
import "./chunk-QHFOOEJW.js";
import "./chunk-52K3MTCP.js";
import {
  Na,
  button_default,
  updatePaymentPassword,
  useRequest_default,
  useTranslation
} from "./chunk-5K5SNHHZ.js";
import "./chunk-TL65SHMZ.js";
import "./chunk-XTL3VBNC.js";
import "./chunk-6SATDP2A.js";
import "./chunk-OKCYEHW4.js";
import "./chunk-YM32VLGM.js";
import "./chunk-E7F3KV4Y.js";
import "./chunk-WN444VHT.js";
import "./chunk-IXJJAVWB.js";
import "./chunk-GEJW2VKU.js";
import "./chunk-4YCFGIGR.js";
import "./chunk-XBOBPJUC.js";
import "./chunk-ZNXRVEFR.js";
import "./chunk-7Z7TKVC7.js";
import "./chunk-5JEUK2R2.js";
import "./chunk-QUUJLUTV.js";
import "./chunk-E4YFJ4DO.js";
import "./chunk-ZFG3MDGT.js";
import "./chunk-ZS6JYA4T.js";
import "./chunk-THPC5MR7.js";
import {
  require_react
} from "./chunk-YVDZNGKE.js";
import {
  __toESM
} from "./chunk-IKJM6GHQ.js";

// node_modules/@particle-network/auth-core-modal/esm/setPaymentPassword-62RCN236.js
var import_react = __toESM(require_react(), 1);
var import_react2 = __toESM(require_react(), 1);
"use client";
var y = `.set-password-container {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100%;
  overflow: hidden;
  color: var(--text-color);
}
.set-password-container .display-none {
  display: none;
}
.set-password-container .password-mistake {
  width: 100%;
  height: auto;
  padding-bottom: 20px;
  margin-top: 50px;
  text-align: center;
  color: var(--error-color);
}
.set-password-container .payment-title {
  margin-top: 60px;
  font-size: 22px;
  color: var(--text-color);
}
.set-password-container .patment-tips1 {
  width: 80vw;
  margin-top: 30px;
  font-size: 14px;
  text-align: center;
  color: var(--text-color);
}
@media (min-width: 600px) {
  .set-password-container .patment-tips1 {
    width: calc(80 * var(--vw));
  }
}
.set-password-container .payment-buttons2 {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: auto;
  margin-top: 50px;
}
.set-password-container .payment-buttons2 .payment-main-button2 {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 90%;
  height: 47px;
  border: none !important;
  border-radius: var(--primary-btn-border-radius);
  outline: none;
  font-weight: 500;
  font-size: var(--primary-btn-font-size);
  color: var(--primary-btn-color);
  background: var(--primary-btn-background-color);
  opacity: 1;
}
.set-password-container .payment-buttons2 .payment-main-button2:hover {
  color: var(--primary-btn-color);
  background: var(--primary-btn-background-color);
}
.set-password-container .payment-buttons2 .payment-main-button2:disabled {
  opacity: 0.5;
}
@media (max-width: 565px) {
  .set-password-container .payment-buttons2 {
    height: calc(var(--doc-height) - 245px - 106px - 31px - 42px);
    margin-top: 0;
  }
}
.set-password-container .success-icon {
  width: 50px;
  height: 50px;
  margin-top: 60px;
}
.set-password-container .payment-desc-1 {
  box-sizing: border-box;
  margin: 15px 0 0;
  font-weight: 400;
  font-size: 14px;
  line-height: 16px;
  text-align: center;
  color: var(--text-color);
}
.set-password-container .keyboard-container {
  width: 100%;
  padding-right: 30px;
  padding-left: 30px;
  margin-top: 50px;
}
@media (max-width: 565px) {
  .set-password-container .keyboard-container {
    margin-top: 10px;
  }
}
`;
var V = (h) => {
  let e = Na(), { t: s } = useTranslation(), t = h, [x, r] = (0, import_react.useState)("loading"), [d, i] = (0, import_react.useState)(""), [u, c] = (0, import_react.useState)(""), [b, m] = (0, import_react.useState)(), [v, p] = (0, import_react.useState)(false), { errorHandle: k } = C(), { loading: P, run: _ } = useRequest_default(updatePaymentPassword, { manual: true, onSuccess: () => {
    e(-1);
  }, onError: (a) => {
    k(a), (a == null ? void 0 : a.error_code) === 50104 && (i(""), c(""), m(false), r("password"));
  } });
  (0, import_react.useEffect)(() => {
    r("password");
  }, []);
  let N = (a) => {
    a.length === 6 ? a === u ? (i(a), p(true)) : (i(""), c(""), m(true), r("password"), p(false)) : (i(a), p(false));
  }, C2 = () => {
    if (t != null && t.account)
      e("/account/verify", { state: { account: t == null ? void 0 : t.account, password: d, pageType: "reset_payment_password" } });
    else if (t != null && t.oldPassword) {
      let a = t == null ? void 0 : t.oldPassword;
      _({ password: d, oldPassword: a });
    }
  };
  return x === "confirm" ? import_react2.default.createElement("div", { className: "set-password-container" }, import_react2.default.createElement("style", null, y), import_react2.default.createElement(i0, { className: "icon-navigation-back", name: "circle_back", onClick: () => e(-1) }), import_react2.default.createElement("h2", { className: "payment-title" }, s("account.set_payment_password")), import_react2.default.createElement("p", { className: "payment-desc-1" }, s("account.re_enter_confirm")), import_react2.default.createElement("div", { className: "keyboard-container" }, import_react2.default.createElement(Q, { onChange: N, value: d })), import_react2.default.createElement("div", { className: "payment-buttons2" }, import_react2.default.createElement(button_default, { className: "payment-main-button2", disabled: !v, loading: t != null && t.oldPassword ? P : false, onClick: C2 }, s("account.done")))) : import_react2.default.createElement(import_react2.default.Fragment, null, import_react2.default.createElement("style", null, y), import_react2.default.createElement("div", { className: "set-password-container" }, import_react2.default.createElement(i0, { className: "icon-navigation-back", name: "circle_back", onClick: () => e(-1) }), import_react2.default.createElement("h2", { className: "payment-title" }, s("account.set_payment_password")), import_react2.default.createElement("p", { className: "payment-desc-1" }, s("account.set_payment_password_tip")), import_react2.default.createElement("div", { className: "keyboard-container" }, import_react2.default.createElement(Q, { onChange: (a) => {
    c(a), a.length > 5 && (m(false), p(false), r("confirm"));
  }, value: u })), b && import_react2.default.createElement("div", { className: "password-mistake" }, s("account.password_do_not_match"))));
};
var Q2 = V;
export {
  Q2 as default
};
//# sourceMappingURL=setPaymentPassword-62RCN236-KUA3JLGW.js.map
