import {
  te
} from "./chunk-QHFOOEJW.js";
import "./chunk-52K3MTCP.js";
import {
  Fa,
  L,
  Na,
  isConnected,
  message_default,
  require_base64url,
  require_lib
} from "./chunk-5K5SNHHZ.js";
import "./chunk-TL65SHMZ.js";
import "./chunk-XTL3VBNC.js";
import "./chunk-6SATDP2A.js";
import "./chunk-OKCYEHW4.js";
import "./chunk-YM32VLGM.js";
import "./chunk-E7F3KV4Y.js";
import "./chunk-WN444VHT.js";
import "./chunk-IXJJAVWB.js";
import "./chunk-GEJW2VKU.js";
import "./chunk-4YCFGIGR.js";
import "./chunk-XBOBPJUC.js";
import "./chunk-ZNXRVEFR.js";
import "./chunk-7Z7TKVC7.js";
import "./chunk-5JEUK2R2.js";
import "./chunk-QUUJLUTV.js";
import "./chunk-E4YFJ4DO.js";
import "./chunk-ZFG3MDGT.js";
import "./chunk-ZS6JYA4T.js";
import "./chunk-THPC5MR7.js";
import {
  require_react
} from "./chunk-YVDZNGKE.js";
import {
  __toESM
} from "./chunk-IKJM6GHQ.js";

// node_modules/@particle-network/auth-core-modal/esm/index-OAY467OJ.js
var import_base64url = __toESM(require_base64url(), 1);
var import_qs = __toESM(require_lib(), 1);
var import_react = __toESM(require_react(), 1);
"use client";
var h = `.index-container {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
}
`;
var I = () => {
  let { connect: S } = te(), v = Na(), { setConnectionStatus: r, socialConnectCallback: e } = Fa(), x = async () => {
    var s;
    try {
      let t = import_qs.default.parse(L() ? "" : window.location.search, { ignoreQueryPrefix: true }), a = t == null ? void 0 : t.particleThirdpartyParams;
      if (!a) {
        isConnected() || r("disconnected");
        return;
      }
      delete t.particleThirdpartyParams;
      let c = (window.location.origin + window.location.pathname + "?" + import_qs.default.stringify(t)).replace(/\?$/, "");
      window.history.replaceState({}, document.title, c), document.title = document.title || c;
      let N = JSON.parse(import_base64url.default.decode(a)), { code: d, nonce: o, appState: p, error: i } = N, E = p ? JSON.parse(import_base64url.default.decode(p)) : {}, { authorization: O, chain: b, purpose: m, verifyToken: j } = E;
      if (i) {
        isConnected() || r("disconnected"), m ? message_default.error(i) : (s = e == null ? void 0 : e.onError) == null || s.call(e, new Error(i));
        return;
      }
      let u = o.split("@")[0];
      m === "bindLoginAccount" ? v("/login-account/bind-loading", { state: { authType: u, verifyToken: j, code: d, nonce: o }, replace: true }) : (await new Promise((A) => {
        setTimeout(() => {
          A(true);
        }, 20);
      }), await S({ socialType: u, code: d, nonce: o, authorization: O, chain: b }));
    } catch {
      isConnected() || r("disconnected");
    }
  };
  return (0, import_react.useEffect)(() => {
    x();
  }, []), import_react.default.createElement("div", { className: "index-container" }, import_react.default.createElement("style", null, h));
};
var M = I;
export {
  M as default
};
//# sourceMappingURL=index-OAY467OJ-TAANB5T4.js.map
