import {
  w
} from "./chunk-TEXHGKQR.js";
import {
  $,
  G,
  T,
  l,
  v
} from "./chunk-SBZW2YII.js";
import {
  x
} from "./chunk-3KDTPZMW.js";
import {
  i0
} from "./chunk-LGSFMKB7.js";
import {
  N
} from "./chunk-HFPUBT3M.js";
import {
  AuthType,
  Fa,
  Na,
  parsePhoneNumberWithError,
  useThrottleFn_default,
  useTranslation
} from "./chunk-5K5SNHHZ.js";
import {
  require_react
} from "./chunk-YVDZNGKE.js";
import {
  __toESM
} from "./chunk-IKJM6GHQ.js";

// node_modules/@particle-network/auth-core-modal/esm/chunk-GVI7HDAH.js
var import_react = __toESM(require_react(), 1);
"use client";
var S = `.login-account-box {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  height: 100%;
  overflow: auto;
  color: var(--text-color);
}
.login-account-box .login-account-title {
  font-weight: 500;
  font-size: 18px;
}
.login-account-box .login-account-description {
  margin: 32px 18px 40px;
  font-weight: 400;
  font-size: 13px;
  color: var(--secondary-text-color);
}
.login-account-box .account-list {
  width: 100%;
  padding: 0 18px;
}
.login-account-box .account-list .login-account-item {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  height: 60px;
  padding: 0 12px 0 14px;
  margin-bottom: 10px;
  border-radius: var(--card-border-radius);
  background: var(--card-unclickable-background-color);
  cursor: pointer;
}
.login-account-box .account-list .login-account-item img {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  background-color: white;
}
.login-account-box .account-list .login-account-item .login-account-name {
  flex-grow: 1;
  margin-left: 8px;
  font-weight: 500;
  font-size: 14px;
}
.login-account-box .account-list .login-account-item .login-account-value {
  flex-grow: 2;
  max-width: 180px;
  margin-right: 8px;
  overflow: hidden;
  text-align: right;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: var(--text-color);
}
.login-account-box .account-list .login-account-item .login-account-value[data-no-linked='true'] {
  color: var(--secondary-text-color);
}
.login-account-box .account-list .login-account-item:hover {
  opacity: var(--hover-opacity);
}
.login-account-box .account-list .arrow-right-icon {
  color: var(--text-color);
}
.login-account-box .account-list .arrow-right-icon svg {
  width: 12px;
  height: 12px;
}
.login-account-box .footer-box {
  position: absolute;
  bottom: 0;
}
`;
var z = (e) => {
  let { userInfo: o, t } = e;
  return [{ type: AuthType.phone, icon: $, name: t("account.mobile"), value: o.phone, id: void 0, isOriginal: false }, { type: AuthType.email, icon: v, name: t("account.email"), value: o.email, id: void 0, isOriginal: false }, { type: AuthType.google, icon: G, name: t("login.google"), value: o.google_email, id: o.google_id, isOriginal: false }, { type: AuthType.facebook, icon: T, name: t("login.facebook"), value: o.facebook_email, id: o.facebook_id, isOriginal: false }, { type: AuthType.twitter, icon: l, name: t("login.twitter"), value: o.twitter_email, id: o.twitter_id, isOriginal: false }];
};
var j = (e) => {
  var t, r, s, u;
  let o = e == null ? void 0 : e.replace(" ", "");
  if (o)
    if ((t = o == null ? void 0 : o.includes) != null && t.call(o, "@"))
      o = `${o.split("@")[0].substr(0, 3)}****@${o.split("@")[1]}`;
    else if ((r = o == null ? void 0 : o.includes) != null && r.call(o, "+")) {
      let a = parsePhoneNumberWithError(o), c = a.nationalNumber.toString();
      o = `+${a.countryCallingCode} ${(s = c == null ? void 0 : c.substr) == null ? void 0 : s.call(c, 0, 3)}****${(u = c == null ? void 0 : c.substr) == null ? void 0 : u.call(c, -4)}`;
    } else
      o && (o = `${o.substr(0, 3)}****${o.substr(-4)}`);
  else
    return o;
  return o;
};
var p;
var F = () => {
  let { t: e } = useTranslation(), o = Na(), { userInfo: t, showSelectSecurityAccount: r } = Fa(), s = x(), { run: u } = useThrottleFn_default((i) => {
    o("/account/verify", { state: { account: i.account, authType: p, pageType: "verify_security_account_bind_login_account" } });
  }, { wait: 3e3 }), a = (0, import_react.useMemo)(() => z({ userInfo: t, t: e }), [t]), c = (i) => {
    var g, d, m, f, x2, y;
    i.value || i.id ? o("/login-account/bind", { state: { authType: i.type } }) : !((g = t == null ? void 0 : t.security_account) != null && g.email) && !((d = t == null ? void 0 : t.security_account) != null && d.phone) ? s.error("Please bind security account first.") : ((m = t == null ? void 0 : t.security_account) == null ? void 0 : m.email) && ((f = t == null ? void 0 : t.security_account) == null ? void 0 : f.phone) ? r(true, { authType: p, pageType: "verify_security_account_bind_login_account" }) : u({ account: ((x2 = t == null ? void 0 : t.security_account) == null ? void 0 : x2.email) || ((y = t == null ? void 0 : t.security_account) == null ? void 0 : y.phone) });
  };
  return import_react.default.createElement("div", { className: "login-account-box" }, import_react.default.createElement("style", null, S), import_react.default.createElement(w, { displayBackBtn: true }, e("account.login_account")), import_react.default.createElement("div", { className: "scroll-content" }, import_react.default.createElement("div", { className: "login-account-description" }, e("account.login_account_hint")), import_react.default.createElement("div", { className: "account-list" }, a == null ? void 0 : a.map((i, g) => import_react.default.createElement("div", { className: "login-account-item", onClick: () => {
    p = i.type, c(i);
  }, key: g }, import_react.default.createElement("img", { src: i.icon }), import_react.default.createElement("div", { className: "login-account-name" }, i.name), import_react.default.createElement("div", { className: "login-account-value", "data-no-linked": !(i.value || i.id) }, j(i.value || i.id) || e("account.not_linked")), import_react.default.createElement(i0, { className: "arrow-right-icon", name: "arrow_right_icon" }))))), import_react.default.createElement(N, { className: "footer-box-v2" }));
};
var to = F;

export {
  z,
  j,
  to
};
//# sourceMappingURL=chunk-3IHPIA4A.js.map
