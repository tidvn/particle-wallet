{
  "version": 3,
  "sources": ["../src/pages/account/changePaymentPassword/index.tsx"],
  "sourcesContent": ["import { useRequest } from 'ahooks';\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useCustomNavigate, useParticleAuth } from '../../../context';\nimport ParticleKeywords from '../ParticleKeywords/index';\n\nimport { ApiError, verifyPaymentPassword } from '@particle-network/auth-core';\nimport Header from '../../../components/header';\nimport styles from './index.less';\nconst ChangePaymentPassword = (prop: any) => {\n    const navigate = useCustomNavigate();\n    const { t } = useTranslation();\n    const [pwd, setPwd] = useState('');\n\n    const { setWrongPassword } = useParticleAuth();\n\n    const { loading: verifyLoading, run: runVerify } = useRequest(verifyPaymentPassword, {\n        manual: true,\n        onSuccess: (result, params) => {\n            navigate('/account/set-password', {\n                state: {\n                    oldPassword: pwd,\n                },\n                replace: true,\n            });\n        },\n        onError: (error: any) => {\n            console.log('verify password error', error);\n            setPwd('');\n            if (error?.error_code === ApiError.WrongPaymentPassword) {\n                setWrongPassword({ visible: true });\n            } else if (error?.error_code === ApiError.SecurityAccountFrozen) {\n                const seconds = error.extra.seconds || 0;\n                setWrongPassword({\n                    visible: true,\n                    accountFrozen: {\n                        seconds: seconds,\n                    },\n                });\n            }\n        },\n    });\n\n    const checkInputPwd = (value: string) => {\n        setPwd(value);\n        if (value.length === 6) {\n            runVerify(value);\n        }\n    };\n\n    return (\n        <>\n            <style>{styles as unknown as string}</style>\n            <div className=\"payment-password-container\">\n                <Header displayBackBtn={true}></Header>\n                <div className=\"wrapper\">\n                    <div className=\"page-title\">{t('account.change_payment_password')}</div>\n                    <p className=\"payment-desc-1\">{t('account.change_enter_payment')}</p>\n                    <ParticleKeywords onChange={checkInputPwd} value={pwd} keyboardInvisible={verifyLoading} />\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default ChangePaymentPassword;\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA,SAAS,kBAAkB;AAC3B,OAAO,SAAS,gBAAgB;AAChC,SAAS,sBAAsB;AAI/B,SAAS,UAAU,6BAA6B;;;;;;AAGhD,IAAM,wBAAwB,CAAC,SAAc;AACzC,QAAM,WAAW,kBAAkB;AACnC,QAAM,EAAE,EAAE,IAAI,eAAe;AAC7B,QAAM,CAAC,KAAK,MAAM,IAAI,SAAS,EAAE;AAEjC,QAAM,EAAE,iBAAiB,IAAI,gBAAgB;AAE7C,QAAM,EAAE,SAAS,eAAe,KAAK,UAAU,IAAI,WAAW,uBAAuB;AAAA,IACjF,QAAQ;AAAA,IACR,WAAW,CAAC,QAAQ,WAAW;AAC3B,eAAS,yBAAyB;AAAA,QAC9B,OAAO;AAAA,UACH,aAAa;AAAA,QACjB;AAAA,QACA,SAAS;AAAA,MACb,CAAC;AAAA,IACL;AAAA,IACA,SAAS,CAAC,UAAe;AACrB,cAAQ,IAAI,yBAAyB,KAAK;AAC1C,aAAO,EAAE;AACT,WAAI,+BAAO,gBAAe,SAAS,sBAAsB;AACrD,yBAAiB,EAAE,SAAS,KAAK,CAAC;AAAA,MACtC,YAAW,+BAAO,gBAAe,SAAS,uBAAuB;AAC7D,cAAM,UAAU,MAAM,MAAM,WAAW;AACvC,yBAAiB;AAAA,UACb,SAAS;AAAA,UACT,eAAe;AAAA,YACX;AAAA,UACJ;AAAA,QACJ,CAAC;AAAA,MACL;AAAA,IACJ;AAAA,EACJ,CAAC;AAED,QAAM,gBAAgB,CAAC,UAAkB;AACrC,WAAO,KAAK;AACZ,QAAI,MAAM,WAAW,GAAG;AACpB,gBAAU,KAAK;AAAA,IACnB;AAAA,EACJ;AAEA,SACI,0DACI,oCAAC,eAAO,6BAA4B,GACpC,oCAAC,SAAI,WAAU,gCACX,oCAAC,kBAAO,gBAAgB,MAAM,GAC9B,oCAAC,SAAI,WAAU,aACX,oCAAC,SAAI,WAAU,gBAAc,EAAE,iCAAiC,CAAE,GAClE,oCAAC,OAAE,WAAU,oBAAkB,EAAE,8BAA8B,CAAE,GACjE,oCAAC,4BAAiB,UAAU,eAAe,OAAO,KAAK,mBAAmB,eAAe,CAC7F,CACJ,CACJ;AAER;AAEA,IAAOA,iCAAQ;",
  "names": ["changePaymentPassword_default"]
}
