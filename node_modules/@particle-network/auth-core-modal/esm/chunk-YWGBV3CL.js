"use client";
import{a as l}from"./chunk-4SMRMVPX.js";import{H as m}from"./chunk-ZHONLBSB.js";import{ApiError as n}from"@particle-network/auth-core";import{Modal as d}from"antd";function f(e){var a,o,t;if(e&&e.error_code){let s=(o=(a=window==null?void 0:window.particleI18n)==null?void 0:a.t)==null?void 0:o.call(a,`error.server_${e.error_code}`);return s&&s.startsWith("error.server_")&&((e==null?void 0:e.extra)&&Array.isArray(e==null?void 0:e.extra)&&(e==null?void 0:e.extra.length)?s=e==null?void 0:e.extra[0]:s=(t=e==null?void 0:e.extra)!=null?t:e.message,s=s.charAt(0).toUpperCase()+s.slice(1)),s}else return e==null?void 0:e.message}var C=()=>{let{authCoreModal:e}=m(),a=l();function o(t){var i;let s=(i=t.error_code)!=null?i:t.code;if(s&&typeof s=="number"){if(!(s===n.InvalidCode||s===n.ResendCode||s===n.SecurityAccountFrozen||s===n.WrongPaymentPassword)){let c=f(t);c&&d.error({title:c,wrapClassName:"auth-core-modal-error",getContainer:()=>e.rootBody})}}else if(t.code==="ECONNABORTED")t.message?a.error(t.message):a.error("Network Error");else switch(t.status){case 401:case 403:case 404:case 500:a.error("Http Error: "+t.status);break;default:t.message&&typeof t.message=="string"&&a.error(t.message);break}}return{errorHandle:o}};export{C as a};
