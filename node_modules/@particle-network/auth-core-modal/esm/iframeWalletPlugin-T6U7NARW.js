"use client";
import{a as m,f as y,w as A,y as h}from"./chunk-PZJW4BGW.js";import"./chunk-O6HTNRMG.js";import{L as g}from"./chunk-ZHONLBSB.js";import"./chunk-L535NPP3.js";import{AuthCoreEvent as o,getUserInfo as I,isConnected as E}from"@particle-network/auth-core";import{walletEntryPlugin as t}from"@particle-network/wallet";import P,{useCallback as v,useEffect as C}from"react";var O=()=>{let{provider:c}=A(),{wallet:r}=h(),{openAccountAndSecurity:i}=m(),{modalOptions:e}=g(),{connected:l}=y(),a=v(async n=>{if(n==="open-account-and-security")i();else if(n==="get-user-info")return I()},[i]);return C(()=>{var d,p;let n={...e.wallet,erc4337:e.erc4337,language:e.language};t.init({projectId:e.projectId,clientKey:e.clientKey,appId:e.appId},n);let u=()=>{t.walletEntryCreate()},s=()=>{t.walletEntryDestroy()};return typeof window!="undefined"&&((d=window.particleAuth)==null||d.on(o.ParticleAuthDisconnect,s),(p=window.particleAuth)==null||p.on(o.ParticleAuthConnect,u)),E()&&t.walletEntryCreate(),()=>{var f,w;typeof window!="undefined"&&((f=window.particleAuth)==null||f.off(o.ParticleAuthDisconnect,s),(w=window.particleAuth)==null||w.off(o.ParticleAuthConnect,u))}},[e.projectId,e.clientKey,e.appId,e.wallet,e.erc4337,e.language]),C(()=>{l&&t.setWalletCore({ethereum:c,solana:r},a)},[l,c,r,a]),P.createElement("div",{id:"auth-core-modal-wallet-plugin",style:{display:"none"}},"Wallet Plugin")},W=O;export{W as default};
