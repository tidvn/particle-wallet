"use client";
import{a as w,b as _,c as k,d as A,e as T}from"./chunk-IKGID5DT.js";import{a as $}from"./chunk-WN72JIRK.js";import{a as b}from"./chunk-4SMRMVPX.js";import{b as v}from"./chunk-QNAXMJIS.js";import{a as h}from"./chunk-AMOVWUCP.js";import{J as C,K as N}from"./chunk-ZHONLBSB.js";import{AuthType as l}from"@particle-network/auth-core";import{useThrottleFn as O}from"ahooks";import{parsePhoneNumber as P}from"libphonenumber-js/max";import n,{useMemo as V}from"react";import{useTranslation as L}from"react-i18next";var S=`.login-account-box {
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  height: 100%;
  overflow: auto;
  color: var(--text-color);
}
.login-account-box .login-account-title {
  font-weight: 500;
  font-size: 18px;
}
.login-account-box .login-account-description {
  margin: 32px 18px 40px;
  font-weight: 400;
  font-size: 13px;
  color: var(--secondary-text-color);
}
.login-account-box .account-list {
  width: 100%;
  padding: 0 18px;
}
.login-account-box .account-list .login-account-item {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  width: 100%;
  height: 60px;
  padding: 0 12px 0 14px;
  margin-bottom: 10px;
  border-radius: var(--card-border-radius);
  background: var(--card-unclickable-background-color);
  cursor: pointer;
}
.login-account-box .account-list .login-account-item img {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  background-color: white;
}
.login-account-box .account-list .login-account-item .login-account-name {
  flex-grow: 1;
  margin-left: 8px;
  font-weight: 500;
  font-size: 14px;
}
.login-account-box .account-list .login-account-item .login-account-value {
  flex-grow: 2;
  max-width: 180px;
  margin-right: 8px;
  overflow: hidden;
  text-align: right;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: var(--text-color);
}
.login-account-box .account-list .login-account-item .login-account-value[data-no-linked='true'] {
  color: var(--secondary-text-color);
}
.login-account-box .account-list .login-account-item:hover {
  opacity: var(--hover-opacity);
}
.login-account-box .account-list .arrow-right-icon {
  color: var(--text-color);
}
.login-account-box .account-list .arrow-right-icon svg {
  width: 12px;
  height: 12px;
}
.login-account-box .footer-box {
  position: absolute;
  bottom: 0;
}
`;var z=e=>{let{userInfo:o,t}=e;return[{type:l.phone,icon:A,name:t("account.mobile"),value:o.phone,id:void 0,isOriginal:!1},{type:l.email,icon:w,name:t("account.email"),value:o.email,id:void 0,isOriginal:!1},{type:l.google,icon:k,name:t("login.google"),value:o.google_email,id:o.google_id,isOriginal:!1},{type:l.facebook,icon:_,name:t("login.facebook"),value:o.facebook_email,id:o.facebook_id,isOriginal:!1},{type:l.twitter,icon:T,name:t("login.twitter"),value:o.twitter_email,id:o.twitter_id,isOriginal:!1}]},j=e=>{var t,r,s,u;let o=e==null?void 0:e.replace(" ","");if(o)if((t=o==null?void 0:o.includes)!=null&&t.call(o,"@"))o=`${o.split("@")[0].substr(0,3)}****@${o.split("@")[1]}`;else if((r=o==null?void 0:o.includes)!=null&&r.call(o,"+")){let a=P(o),c=a.nationalNumber.toString();o=`+${a.countryCallingCode} ${(s=c==null?void 0:c.substr)==null?void 0:s.call(c,0,3)}****${(u=c==null?void 0:c.substr)==null?void 0:u.call(c,-4)}`}else o&&(o=`${o.substr(0,3)}****${o.substr(-4)}`);else return o;return o},p,F=()=>{let{t:e}=L(),o=C(),{userInfo:t,showSelectSecurityAccount:r}=N(),s=b(),{run:u}=O(i=>{o("/account/verify",{state:{account:i.account,authType:p,pageType:"verify_security_account_bind_login_account"}})},{wait:3e3}),a=V(()=>z({userInfo:t,t:e}),[t]),c=i=>{var g,d,m,f,x,y;i.value||i.id?o("/login-account/bind",{state:{authType:i.type}}):!((g=t==null?void 0:t.security_account)!=null&&g.email)&&!((d=t==null?void 0:t.security_account)!=null&&d.phone)?s.error("Please bind security account first."):((m=t==null?void 0:t.security_account)==null?void 0:m.email)&&((f=t==null?void 0:t.security_account)==null?void 0:f.phone)?r(!0,{authType:p,pageType:"verify_security_account_bind_login_account"}):u({account:((x=t==null?void 0:t.security_account)==null?void 0:x.email)||((y=t==null?void 0:t.security_account)==null?void 0:y.phone)})};return n.createElement("div",{className:"login-account-box"},n.createElement("style",null,S),n.createElement($,{displayBackBtn:!0},e("account.login_account")),n.createElement("div",{className:"scroll-content"},n.createElement("div",{className:"login-account-description"},e("account.login_account_hint")),n.createElement("div",{className:"account-list"},a==null?void 0:a.map((i,g)=>n.createElement("div",{className:"login-account-item",onClick:()=>{p=i.type,c(i)},key:g},n.createElement("img",{src:i.icon}),n.createElement("div",{className:"login-account-name"},i.name),n.createElement("div",{className:"login-account-value","data-no-linked":!(i.value||i.id)},j(i.value||i.id)||e("account.not_linked")),n.createElement(v,{className:"arrow-right-icon",name:"arrow_right_icon"}))))),n.createElement(h,{className:"footer-box-v2"}))},to=F;export{z as a,j as b,to as c};
