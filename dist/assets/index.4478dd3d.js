import{e as ba,f as yl,s as ar,i as ut,a as gf,c as B,b as vi,d as ga,r as wl,g as cr,h as _f,l as mf,j as Vr,t as vf,k as yf}from"./index.fbf0f355.js";import{r as vc}from"./string_decoder.df1d72d8.js";function wf(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var _a={},pn={},yi={};Object.defineProperty(yi,"__esModule",{value:!0});yi.walletLogo=void 0;const Sf=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};yi.walletLogo=Sf;var wi={};Object.defineProperty(wi,"__esModule",{value:!0});wi.LINK_API_URL=void 0;wi.LINK_API_URL="https://www.walletlink.org";var Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.ScopedLocalStorage=void 0;class Ef{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}Si.ScopedLocalStorage=Ef;var kr={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});const Rf=ba.exports;function yc(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Cf(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class If extends Rf.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")yc(s,this,r);else{const o=s.length,a=Cf(s);for(let c=0;c<o;c+=1)yc(a[c],this,r)}return!0}}ur.default=If;var Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.EVENTS=void 0;Hr.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var wn={},Sl={},Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.EthereumProviderError=Wt.EthereumRpcError=void 0;const xf=yl;class El extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return xf.default(this.serialize(),Mf,2)}}Wt.EthereumRpcError=El;class kf extends El{constructor(e,r,n){if(!Af(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Wt.EthereumProviderError=kf;function Af(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Mf(t,e){if(e!=="[Circular]")return e}var ma={},Vt={};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.errorValues=Vt.errorCodes=void 0;Vt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Vt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=Vt,r=Wt,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(d,p=i){if(Number.isInteger(d)){const g=d.toString();if(l(e.errorValues,g))return e.errorValues[g].message;if(u(d))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}t.getMessageFromCode=o;function a(d){if(!Number.isInteger(d))return!1;const p=d.toString();return!!(e.errorValues[p]||u(d))}t.isValidCode=a;function c(d,{fallbackError:p=s,shouldIncludeStack:g=!1}={}){var E,w;if(!p||!Number.isInteger(p.code)||typeof p.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof r.EthereumRpcError)return d.serialize();const _={};if(d&&typeof d=="object"&&!Array.isArray(d)&&l(d,"code")&&a(d.code)){const S=d;_.code=S.code,S.message&&typeof S.message=="string"?(_.message=S.message,l(S,"data")&&(_.data=S.data)):(_.message=o(_.code),_.data={originalError:h(d)})}else{_.code=p.code;const S=(E=d)===null||E===void 0?void 0:E.message;_.message=S&&typeof S=="string"?S:p.message,_.data={originalError:h(d)}}const y=(w=d)===null||w===void 0?void 0:w.stack;return g&&d&&y&&typeof y=="string"&&(_.stack=y),_}t.serializeError=c;function u(d){return d>=-32099&&d<=-32e3}function h(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function l(d,p){return Object.prototype.hasOwnProperty.call(d,p)}})(ma);var Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.ethErrors=void 0;const va=Wt,Rl=ma,Ne=Vt;Ei.ethErrors={rpc:{parse:t=>Ge(Ne.errorCodes.rpc.parse,t),invalidRequest:t=>Ge(Ne.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Ge(Ne.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Ge(Ne.errorCodes.rpc.methodNotFound,t),internal:t=>Ge(Ne.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Ge(e,t)},invalidInput:t=>Ge(Ne.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Ge(Ne.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Ge(Ne.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Ge(Ne.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Ge(Ne.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Ge(Ne.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>rn(Ne.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>rn(Ne.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>rn(Ne.errorCodes.provider.unsupportedMethod,t),disconnected:t=>rn(Ne.errorCodes.provider.disconnected,t),chainDisconnected:t=>rn(Ne.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new va.EthereumProviderError(e,r,n)}}};function Ge(t,e){const[r,n]=Cl(e);return new va.EthereumRpcError(t,r||Rl.getMessageFromCode(t),n)}function rn(t,e){const[r,n]=Cl(e);return new va.EthereumProviderError(t,r||Rl.getMessageFromCode(t),n)}function Cl(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Wt;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=ma;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Ei;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Vt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Sl);var fe={},Ri={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Ri);Object.defineProperty(fe,"__esModule",{value:!0});fe.EthereumAddressFromSignedMessageResponse=fe.SubmitEthereumTransactionResponse=fe.SignEthereumTransactionResponse=fe.SignEthereumMessageResponse=fe.isRequestEthereumAccountsResponse=fe.SelectProviderResponse=fe.WatchAssetReponse=fe.RequestEthereumAccountsResponse=fe.SwitchEthereumChainResponse=fe.AddEthereumChainResponse=fe.isErrorResponse=void 0;const Et=Ri;function Tf(t){var e,r;return((e=t)===null||e===void 0?void 0:e.method)!==void 0&&((r=t)===null||r===void 0?void 0:r.errorMessage)!==void 0}fe.isErrorResponse=Tf;function Nf(t){return{method:Et.Web3Method.addEthereumChain,result:t}}fe.AddEthereumChainResponse=Nf;function Of(t){return{method:Et.Web3Method.switchEthereumChain,result:t}}fe.SwitchEthereumChainResponse=Of;function Lf(t){return{method:Et.Web3Method.requestEthereumAccounts,result:t}}fe.RequestEthereumAccountsResponse=Lf;function Pf(t){return{method:Et.Web3Method.watchAsset,result:t}}fe.WatchAssetReponse=Pf;function Df(t){return{method:Et.Web3Method.selectProvider,result:t}}fe.SelectProviderResponse=Df;function jf(t){return t&&t.method===Et.Web3Method.requestEthereumAccounts}fe.isRequestEthereumAccountsResponse=jf;function $f(t){return{method:Et.Web3Method.signEthereumMessage,result:t}}fe.SignEthereumMessageResponse=$f;function Bf(t){return{method:Et.Web3Method.signEthereumTransaction,result:t}}fe.SignEthereumTransactionResponse=Bf;function Ff(t){return{method:Et.Web3Method.submitEthereumTransaction,result:t}}fe.SubmitEthereumTransactionResponse=Ff;function Wf(t){return{method:Et.Web3Method.ethereumAddressFromSignedMessage,result:t}}fe.EthereumAddressFromSignedMessageResponse=Wf;var zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.LIB_VERSION=void 0;zr.LIB_VERSION="3.7.2";(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.serializeError=t.standardErrors=t.standardErrorMessage=t.standardErrorCodes=void 0;const e=Sl,r=fe,n=zr;t.standardErrorCodes=Object.freeze(Object.assign(Object.assign({},e.errorCodes),{provider:Object.freeze(Object.assign(Object.assign({},e.errorCodes.provider),{unsupportedChain:4902}))}));function i(h){return h!==void 0?(0,e.getMessageFromCode)(h):"Unknown error"}t.standardErrorMessage=i,t.standardErrors=Object.freeze(Object.assign(Object.assign({},e.ethErrors),{provider:Object.freeze(Object.assign(Object.assign({},e.ethErrors.provider),{unsupportedChain:(h="")=>e.ethErrors.provider.custom({code:t.standardErrorCodes.provider.unsupportedChain,message:`Unrecognized chain ID ${h}. Try adding the chain using wallet_addEthereumChain first.`})}))}));function s(h,l){const d=(0,e.serializeError)(o(h),{shouldIncludeStack:!0}),p=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");p.searchParams.set("version",n.LIB_VERSION),p.searchParams.set("code",d.code.toString());const g=a(d.data,l);return g&&p.searchParams.set("method",g),p.searchParams.set("message",d.message),Object.assign(Object.assign({},d),{docUrl:p.href})}t.serializeError=s;function o(h){return typeof h=="string"?{message:h,code:t.standardErrorCodes.rpc.internal}:(0,r.isErrorResponse)(h)?Object.assign(Object.assign({},h),{message:h.errorMessage,code:h.errorCode,data:{method:h.method,result:h.result}}):h}function a(h,l){var d;const p=(d=h)===null||d===void 0?void 0:d.method;if(p)return p;if(l!==void 0)return typeof l=="string"?l:Array.isArray(l)?l.length>0?l[0].method:void 0:l.method}function c(h){var l;if(typeof h=="number")return h;if(u(h))return(l=h.code)!==null&&l!==void 0?l:h.errorCode}t.getErrorCode=c;function u(h){return typeof h=="object"&&h!==null&&(typeof h.code=="number"||typeof h.errorCode=="number")}})(wn);var Ur={},Il={exports:{}},xl=ar.exports.Buffer;function Ci(t,e){this._block=xl.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Ci.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=xl.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,c=Math.min(i-o,n-a),u=0;u<c;u++)r[a+u]=t[o+u];s+=c,o+=c,s%n===0&&this._update(r)}return this._len+=i,this};Ci.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};Ci.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var qr=Ci,Vf=ut.exports,kl=qr,Hf=ar.exports.Buffer,zf=[1518500249,1859775393,-1894007588,-899497514],Uf=new Array(80);function Sn(){this.init(),this._w=Uf,kl.call(this,64,56)}Vf(Sn,kl);Sn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function qf(t){return t<<5|t>>>27}function Gf(t){return t<<30|t>>>2}function Jf(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Sn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var c=0;c<80;++c){var u=~~(c/20),h=qf(r)+Jf(u,n,i,s)+o+e[c]+zf[u]|0;o=s,s=i,i=Gf(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Sn.prototype._hash=function(){var t=Hf.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Qf=Sn,Zf=ut.exports,Al=qr,Yf=ar.exports.Buffer,Kf=[1518500249,1859775393,-1894007588,-899497514],Xf=new Array(80);function En(){this.init(),this._w=Xf,Al.call(this,64,56)}Zf(En,Al);En.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ep(t){return t<<1|t>>>31}function tp(t){return t<<5|t>>>27}function rp(t){return t<<30|t>>>2}function np(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}En.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=ep(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var c=0;c<80;++c){var u=~~(c/20),h=tp(r)+np(u,n,i,s)+o+e[c]+Kf[u]|0;o=s,s=i,i=rp(n),n=r,r=h}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};En.prototype._hash=function(){var t=Yf.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var ip=En,sp=ut.exports,Ml=qr,op=ar.exports.Buffer,ap=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],cp=new Array(64);function Rn(){this.init(),this._w=cp,Ml.call(this,64,56)}sp(Rn,Ml);Rn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function up(t,e,r){return r^t&(e^r)}function lp(t,e,r){return t&e|r&(t|e)}function hp(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function dp(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function fp(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function pp(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Rn.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,c=this._g|0,u=this._h|0,h=0;h<16;++h)e[h]=t.readInt32BE(h*4);for(;h<64;++h)e[h]=pp(e[h-2])+e[h-7]+fp(e[h-15])+e[h-16]|0;for(var l=0;l<64;++l){var d=u+dp(o)+up(o,a,c)+ap[l]+e[l]|0,p=hp(r)+lp(r,n,i)|0;u=c,c=a,a=o,o=s+d|0,s=i,i=n,n=r,r=d+p|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0};Rn.prototype._hash=function(){var t=op.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var Tl=Rn,bp=ut.exports,gp=Tl,_p=qr,mp=ar.exports.Buffer,vp=new Array(64);function Ii(){this.init(),this._w=vp,_p.call(this,64,56)}bp(Ii,gp);Ii.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Ii.prototype._hash=function(){var t=mp.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var yp=Ii,wp=ut.exports,Nl=qr,Sp=ar.exports.Buffer,wc=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Ep=new Array(160);function Cn(){this.init(),this._w=Ep,Nl.call(this,128,112)}wp(Cn,Nl);Cn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Sc(t,e,r){return r^t&(e^r)}function Ec(t,e,r){return t&e|r&(t|e)}function Rc(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Cc(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Rp(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Cp(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Ip(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function xp(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Ce(t,e){return t>>>0<e>>>0?1:0}Cn.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,c=this._gh|0,u=this._hh|0,h=this._al|0,l=this._bl|0,d=this._cl|0,p=this._dl|0,g=this._el|0,E=this._fl|0,w=this._gl|0,_=this._hl|0,y=0;y<32;y+=2)e[y]=t.readInt32BE(y*4),e[y+1]=t.readInt32BE(y*4+4);for(;y<160;y+=2){var S=e[y-30],C=e[y-15*2+1],R=Rp(S,C),N=Cp(C,S);S=e[y-2*2],C=e[y-2*2+1];var W=Ip(S,C),$=xp(C,S),A=e[y-7*2],U=e[y-7*2+1],oe=e[y-16*2],Q=e[y-16*2+1],M=N+U|0,k=R+A+Ce(M,N)|0;M=M+$|0,k=k+W+Ce(M,$)|0,M=M+Q|0,k=k+oe+Ce(M,Q)|0,e[y]=k,e[y+1]=M}for(var O=0;O<160;O+=2){k=e[O],M=e[O+1];var P=Ec(r,n,i),j=Ec(h,l,d),D=Rc(r,h),V=Rc(h,r),Z=Cc(o,g),G=Cc(g,o),ne=wc[O],le=wc[O+1],ae=Sc(o,a,c),De=Sc(g,E,w),m=_+G|0,v=u+Z+Ce(m,_)|0;m=m+De|0,v=v+ae+Ce(m,De)|0,m=m+le|0,v=v+ne+Ce(m,le)|0,m=m+M|0,v=v+k+Ce(m,M)|0;var T=V+j|0,z=D+P+Ce(T,V)|0;u=c,_=w,c=a,w=E,a=o,E=g,g=p+m|0,o=s+v+Ce(g,p)|0,s=i,p=d,i=n,d=l,n=r,l=h,h=m+T|0,r=v+z+Ce(h,m)|0}this._al=this._al+h|0,this._bl=this._bl+l|0,this._cl=this._cl+d|0,this._dl=this._dl+p|0,this._el=this._el+g|0,this._fl=this._fl+E|0,this._gl=this._gl+w|0,this._hl=this._hl+_|0,this._ah=this._ah+r+Ce(this._al,h)|0,this._bh=this._bh+n+Ce(this._bl,l)|0,this._ch=this._ch+i+Ce(this._cl,d)|0,this._dh=this._dh+s+Ce(this._dl,p)|0,this._eh=this._eh+o+Ce(this._el,g)|0,this._fh=this._fh+a+Ce(this._fl,E)|0,this._gh=this._gh+c+Ce(this._gl,w)|0,this._hh=this._hh+u+Ce(this._hl,_)|0};Cn.prototype._hash=function(){var t=Sp.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var Ol=Cn,kp=ut.exports,Ap=Ol,Mp=qr,Tp=ar.exports.Buffer,Np=new Array(160);function xi(){this.init(),this._w=Np,Mp.call(this,128,112)}kp(xi,Ap);xi.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};xi.prototype._hash=function(){var t=Tp.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Op=xi,lr=Il.exports=function(e){e=e.toLowerCase();var r=lr[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};lr.sha=Qf;lr.sha1=ip;lr.sha224=yp;lr.sha256=Tl;lr.sha384=Op;lr.sha512=Ol;var F={},Lp=String.prototype.replace,Pp=/%20/g,yo={RFC1738:"RFC1738",RFC3986:"RFC3986"},ya={default:yo.RFC3986,formatters:{RFC1738:function(t){return Lp.call(t,Pp,"+")},RFC3986:function(t){return String(t)}},RFC1738:yo.RFC1738,RFC3986:yo.RFC3986},Dp=ya,wo=Object.prototype.hasOwnProperty,Kt=Array.isArray,ft=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),jp=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Kt(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Ll=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},$p=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Kt(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!wo.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Kt(e)&&!Kt(r)&&(i=Ll(e,n)),Kt(e)&&Kt(r)?(r.forEach(function(s,o){if(wo.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return wo.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},Bp=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},Fp=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Wp=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;++c){var u=o.charCodeAt(c);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===Dp.RFC1738&&(u===40||u===41)){a+=o.charAt(c);continue}if(u<128){a=a+ft[u];continue}if(u<2048){a=a+(ft[192|u>>6]+ft[128|u&63]);continue}if(u<55296||u>=57344){a=a+(ft[224|u>>12]+ft[128|u>>6&63]+ft[128|u&63]);continue}c+=1,u=65536+((u&1023)<<10|o.charCodeAt(c)&1023),a+=ft[240|u>>18]+ft[128|u>>12&63]+ft[128|u>>6&63]+ft[128|u&63]}return a},Vp=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var u=a[c],h=o[u];typeof h=="object"&&h!==null&&n.indexOf(h)===-1&&(r.push({obj:o,prop:u}),n.push(h))}return jp(r),e},Hp=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},zp=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Up=function(e,r){return[].concat(e,r)},qp=function(e,r){if(Kt(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Pl={arrayToObject:Ll,assign:Bp,combine:Up,compact:Vp,decode:Fp,encode:Wp,isBuffer:zp,isRegExp:Hp,maybeMap:qp,merge:$p},Dl=gf,ii=Pl,un=ya,Gp=Object.prototype.hasOwnProperty,Ic={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},xt=Array.isArray,Jp=Array.prototype.push,jl=function(t,e){Jp.apply(t,xt(e)?e:[e])},Qp=Date.prototype.toISOString,xc=un.default,Pe={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ii.encode,encodeValuesOnly:!1,format:xc,formatter:un.formatters[xc],indices:!1,serializeDate:function(e){return Qp.call(e)},skipNulls:!1,strictNullHandling:!1},Zp=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},So={},Yp=function t(e,r,n,i,s,o,a,c,u,h,l,d,p,g,E,w){for(var _=e,y=w,S=0,C=!1;(y=y.get(So))!==void 0&&!C;){var R=y.get(e);if(S+=1,typeof R<"u"){if(R===S)throw new RangeError("Cyclic object value");C=!0}typeof y.get(So)>"u"&&(S=0)}if(typeof c=="function"?_=c(r,_):_ instanceof Date?_=l(_):n==="comma"&&xt(_)&&(_=ii.maybeMap(_,function(P){return P instanceof Date?l(P):P})),_===null){if(s)return a&&!g?a(r,Pe.encoder,E,"key",d):r;_=""}if(Zp(_)||ii.isBuffer(_)){if(a){var N=g?r:a(r,Pe.encoder,E,"key",d);return[p(N)+"="+p(a(_,Pe.encoder,E,"value",d))]}return[p(r)+"="+p(String(_))]}var W=[];if(typeof _>"u")return W;var $;if(n==="comma"&&xt(_))g&&a&&(_=ii.maybeMap(_,a)),$=[{value:_.length>0?_.join(",")||null:void 0}];else if(xt(c))$=c;else{var A=Object.keys(_);$=u?A.sort(u):A}for(var U=i&&xt(_)&&_.length===1?r+"[]":r,oe=0;oe<$.length;++oe){var Q=$[oe],M=typeof Q=="object"&&typeof Q.value<"u"?Q.value:_[Q];if(!(o&&M===null)){var k=xt(_)?typeof n=="function"?n(U,Q):U:U+(h?"."+Q:"["+Q+"]");w.set(e,S);var O=Dl();O.set(So,w),jl(W,t(M,k,n,i,s,o,n==="comma"&&g&&xt(_)?null:a,c,u,h,l,d,p,g,E,O))}}return W},Kp=function(e){if(!e)return Pe;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Pe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=un.default;if(typeof e.format<"u"){if(!Gp.call(un.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=un.formatters[n],s=Pe.filter;return(typeof e.filter=="function"||xt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Pe.addQueryPrefix,allowDots:typeof e.allowDots>"u"?Pe.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Pe.charsetSentinel,delimiter:typeof e.delimiter>"u"?Pe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Pe.encode,encoder:typeof e.encoder=="function"?e.encoder:Pe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Pe.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Pe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Pe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Pe.strictNullHandling}},Xp=function(t,e){var r=t,n=Kp(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):xt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Ic?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var c=Ic[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var h=Dl(),l=0;l<i.length;++l){var d=i[l];n.skipNulls&&r[d]===null||jl(o,Yp(r[d],d,c,u,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,h))}var p=o.join(n.delimiter),g=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),p.length>0?g+p:""},Ar=Pl,Ko=Object.prototype.hasOwnProperty,e0=Array.isArray,Ie={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ar.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},t0=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},$l=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},r0="utf8=%26%2310003%3B",n0="utf8=%E2%9C%93",i0=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,u=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===n0?u="utf-8":o[c]===r0&&(u="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var h=o[c],l=h.indexOf("]="),d=l===-1?h.indexOf("="):l+1,p,g;d===-1?(p=r.decoder(h,Ie.decoder,u,"key"),g=r.strictNullHandling?null:""):(p=r.decoder(h.slice(0,d),Ie.decoder,u,"key"),g=Ar.maybeMap($l(h.slice(d+1),r),function(E){return r.decoder(E,Ie.decoder,u,"value")})),g&&r.interpretNumericEntities&&u==="iso-8859-1"&&(g=t0(g)),h.indexOf("[]=")>-1&&(g=e0(g)?[g]:g),Ko.call(n,p)?n[p]=Ar.combine(n[p],g):n[p]=g}return n},s0=function(t,e,r,n){for(var i=n?e:$l(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[],o[u]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},o0=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),u=c?s.slice(0,c.index):s,h=[];if(u){if(!n.plainObjects&&Ko.call(Object.prototype,u)&&!n.allowPrototypes)return;h.push(u)}for(var l=0;n.depth>0&&(c=a.exec(s))!==null&&l<n.depth;){if(l+=1,!n.plainObjects&&Ko.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+s.slice(c.index)+"]"),s0(h,r,n,i)}},a0=function(e){if(!e)return Ie;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Ie.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?Ie.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ie.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ie.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ie.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ie.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ie.comma,decoder:typeof e.decoder=="function"?e.decoder:Ie.decoder,delimiter:typeof e.delimiter=="string"||Ar.isRegExp(e.delimiter)?e.delimiter:Ie.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ie.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ie.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ie.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ie.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ie.strictNullHandling}},c0=function(t,e){var r=a0(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?i0(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=o0(a,n[a],r,typeof t=="string");i=Ar.merge(i,c,r)}return r.allowSparse===!0?i:Ar.compact(i)},u0=Xp,l0=c0,h0=ya,d0={formats:h0,parse:l0,stringify:u0},In={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(In);var f0=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(F,"__esModule",{value:!0});F.isInIFrame=F.createQrUrl=F.getFavicon=F.range=F.isBigNumber=F.ensureParsedJSONObject=F.ensureBN=F.ensureRegExpString=F.ensureIntNumber=F.ensureBuffer=F.ensureAddressString=F.ensureEvenLengthHexString=F.ensureHexString=F.isHexString=F.prepend0x=F.strip0x=F.has0xPrefix=F.hexStringFromIntNumber=F.intNumberFromHexString=F.bigIntStringFromBN=F.hexStringFromBuffer=F.hexStringToUint8Array=F.uint8ArrayToHex=F.randomBytesHex=void 0;const $t=f0(vi.exports),p0=d0,hr=wn,et=In,Bl=/^[0-9]*$/,Fl=/^[a-f0-9]*$/;function b0(t){return Wl(crypto.getRandomValues(new Uint8Array(t)))}F.randomBytesHex=b0;function Wl(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}F.uint8ArrayToHex=Wl;function g0(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}F.hexStringToUint8Array=g0;function _0(t,e=!1){const r=t.toString("hex");return(0,et.HexString)(e?"0x"+r:r)}F.hexStringFromBuffer=_0;function m0(t){return(0,et.BigIntString)(t.toString(10))}F.bigIntStringFromBN=m0;function v0(t){return(0,et.IntNumber)(new $t.default(kn(t,!1),16).toNumber())}F.intNumberFromHexString=v0;function y0(t){return(0,et.HexString)("0x"+new $t.default(t).toString(16))}F.hexStringFromIntNumber=y0;function wa(t){return t.startsWith("0x")||t.startsWith("0X")}F.has0xPrefix=wa;function ki(t){return wa(t)?t.slice(2):t}F.strip0x=ki;function Vl(t){return wa(t)?"0x"+t.slice(2):"0x"+t}F.prepend0x=Vl;function xn(t){if(typeof t!="string")return!1;const e=ki(t).toLowerCase();return Fl.test(e)}F.isHexString=xn;function Hl(t,e=!1){if(typeof t=="string"){const r=ki(t).toLowerCase();if(Fl.test(r))return(0,et.HexString)(e?"0x"+r:r)}throw hr.standardErrors.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}F.ensureHexString=Hl;function kn(t,e=!1){let r=Hl(t,!1);return r.length%2===1&&(r=(0,et.HexString)("0"+r)),e?(0,et.HexString)("0x"+r):r}F.ensureEvenLengthHexString=kn;function w0(t){if(typeof t=="string"){const e=ki(t).toLowerCase();if(xn(e)&&e.length===40)return(0,et.AddressString)(Vl(e))}throw hr.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}F.ensureAddressString=w0;function S0(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(xn(t)){const e=kn(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw hr.standardErrors.rpc.invalidParams(`Not binary data: ${String(t)}`)}F.ensureBuffer=S0;function zl(t){if(typeof t=="number"&&Number.isInteger(t))return(0,et.IntNumber)(t);if(typeof t=="string"){if(Bl.test(t))return(0,et.IntNumber)(Number(t));if(xn(t))return(0,et.IntNumber)(new $t.default(kn(t,!1),16).toNumber())}throw hr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}F.ensureIntNumber=zl;function E0(t){if(t instanceof RegExp)return(0,et.RegExpString)(t.toString());throw hr.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(t)}`)}F.ensureRegExpString=E0;function R0(t){if(t!==null&&($t.default.isBN(t)||Ul(t)))return new $t.default(t.toString(10),10);if(typeof t=="number")return new $t.default(zl(t));if(typeof t=="string"){if(Bl.test(t))return new $t.default(t,10);if(xn(t))return new $t.default(kn(t,!1),16)}throw hr.standardErrors.rpc.invalidParams(`Not an integer: ${String(t)}`)}F.ensureBN=R0;function C0(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw hr.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}F.ensureParsedJSONObject=C0;function Ul(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}F.isBigNumber=Ul;function I0(t,e){return Array.from({length:e-t},(r,n)=>t+n)}F.range=I0;function x0(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}F.getFavicon=x0;function k0(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,p0.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}F.createQrUrl=k0;function A0(){try{return window.frameElement!==null}catch{return!1}}F.isInIFrame=A0;Object.defineProperty(Ur,"__esModule",{value:!0});Ur.Session=void 0;const kc=Il.exports,Ac=F,Mc="session:id",Tc="session:secret",Nc="session:linked";class Sa{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Ac.randomBytesHex)(16),this._secret=n||(0,Ac.randomBytesHex)(32),this._key=new kc.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Mc),n=e.getItem(Nc),i=e.getItem(Tc);return r&&i?new Sa(e,r,i,n==="1"):null}static hash(e){return new kc.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Mc,this._id),this._storage.setItem(Tc,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Nc,this._linked?"1":"0")}}Ur.Session=Sa;var ct={};Object.defineProperty(ct,"__esModule",{value:!0});ct.WalletSDKRelayAbstract=ct.APP_VERSION_KEY=ct.LOCAL_STORAGE_ADDRESSES_KEY=ct.WALLET_USER_NAME_KEY=void 0;const Oc=wn;ct.WALLET_USER_NAME_KEY="walletUsername";ct.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";ct.APP_VERSION_KEY="AppVersion";class M0{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Oc.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Oc.serializeError)(s,e.method);return i})}}ct.WalletSDKRelayAbstract=M0;var li={exports:{}},ql=ba.exports.EventEmitter,Eo,Lc;function T0(){if(Lc)return Eo;Lc=1;function t(g,E){var w=Object.keys(g);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(g);E&&(_=_.filter(function(y){return Object.getOwnPropertyDescriptor(g,y).enumerable})),w.push.apply(w,_)}return w}function e(g){for(var E=1;E<arguments.length;E++){var w=arguments[E]!=null?arguments[E]:{};E%2?t(Object(w),!0).forEach(function(_){r(g,_,w[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(w)):t(Object(w)).forEach(function(_){Object.defineProperty(g,_,Object.getOwnPropertyDescriptor(w,_))})}return g}function r(g,E,w){return E=o(E),E in g?Object.defineProperty(g,E,{value:w,enumerable:!0,configurable:!0,writable:!0}):g[E]=w,g}function n(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function i(g,E){for(var w=0;w<E.length;w++){var _=E[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,o(_.key),_)}}function s(g,E,w){return E&&i(g.prototype,E),w&&i(g,w),Object.defineProperty(g,"prototype",{writable:!1}),g}function o(g){var E=a(g,"string");return typeof E=="symbol"?E:String(E)}function a(g,E){if(typeof g!="object"||g===null)return g;var w=g[Symbol.toPrimitive];if(w!==void 0){var _=w.call(g,E||"default");if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(g)}var c=ga,u=c.Buffer,h=wl,l=h.inspect,d=l&&l.custom||"inspect";function p(g,E,w){u.prototype.copy.call(g,E,w)}return Eo=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return s(g,[{key:"push",value:function(w){var _={data:w,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(w){var _={data:w,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var w=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,w}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(w){if(this.length===0)return"";for(var _=this.head,y=""+_.data;_=_.next;)y+=w+_.data;return y}},{key:"concat",value:function(w){if(this.length===0)return u.alloc(0);for(var _=u.allocUnsafe(w>>>0),y=this.head,S=0;y;)p(y.data,_,S),S+=y.data.length,y=y.next;return _}},{key:"consume",value:function(w,_){var y;return w<this.head.data.length?(y=this.head.data.slice(0,w),this.head.data=this.head.data.slice(w)):w===this.head.data.length?y=this.shift():y=_?this._getString(w):this._getBuffer(w),y}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(w){var _=this.head,y=1,S=_.data;for(w-=S.length;_=_.next;){var C=_.data,R=w>C.length?C.length:w;if(R===C.length?S+=C:S+=C.slice(0,w),w-=R,w===0){R===C.length?(++y,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=C.slice(R));break}++y}return this.length-=y,S}},{key:"_getBuffer",value:function(w){var _=u.allocUnsafe(w),y=this.head,S=1;for(y.data.copy(_),w-=y.data.length;y=y.next;){var C=y.data,R=w>C.length?C.length:w;if(C.copy(_,_.length-w,0,R),w-=R,w===0){R===C.length?(++S,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=C.slice(R));break}++S}return this.length-=S,_}},{key:d,value:function(w,_){return l(this,e(e({},_),{},{depth:0,customInspect:!1}))}}]),g}(),Eo}function N0(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Xo,this,t)):process.nextTick(Xo,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(si,r):(r._writableState.errorEmitted=!0,process.nextTick(Pc,r,s)):process.nextTick(Pc,r,s):e?(process.nextTick(si,r),e(s)):process.nextTick(si,r)}),this)}function Pc(t,e){Xo(t,e),si(t)}function si(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function O0(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Xo(t,e){t.emit("error",e)}function L0(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Gl={destroy:N0,undestroy:O0,errorOrDestroy:L0},dr={};function P0(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Jl={};function tt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){P0(o,s);function o(a,c,u){return s.call(this,n(a,c,u))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Jl[t]=i}function Dc(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function D0(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function j0(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function $0(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}tt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);tt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&D0(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(j0(t," argument"))i="The ".concat(t," ").concat(n," ").concat(Dc(e,"type"));else{var s=$0(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(Dc(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);tt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");tt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});tt("ERR_STREAM_PREMATURE_CLOSE","Premature close");tt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});tt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");tt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");tt("ERR_STREAM_WRITE_AFTER_END","write after end");tt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);tt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);tt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");dr.codes=Jl;var B0=dr.codes.ERR_INVALID_OPT_VALUE;function F0(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function W0(t,e,r,n){var i=F0(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new B0(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Ql={getHighWaterMark:W0},V0=H0;function H0(t,e){if(Ro("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Ro("throwDeprecation"))throw new Error(e);Ro("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Ro(t){try{if(!B.localStorage)return!1}catch{return!1}var e=B.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Co,jc;function Zl(){if(jc)return Co;jc=1,Co=$;function t(m){var v=this;this.next=null,this.entry=null,this.finish=function(){De(v,m)}}var e;$.WritableState=N;var r={deprecate:V0},n=ql,i=ga.Buffer,s=(typeof B<"u"?B:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(m){return i.from(m)}function a(m){return i.isBuffer(m)||m instanceof s}var c=Gl,u=Ql,h=u.getHighWaterMark,l=dr.codes,d=l.ERR_INVALID_ARG_TYPE,p=l.ERR_METHOD_NOT_IMPLEMENTED,g=l.ERR_MULTIPLE_CALLBACK,E=l.ERR_STREAM_CANNOT_PIPE,w=l.ERR_STREAM_DESTROYED,_=l.ERR_STREAM_NULL_VALUES,y=l.ERR_STREAM_WRITE_AFTER_END,S=l.ERR_UNKNOWN_ENCODING,C=c.errorOrDestroy;ut.exports($,n);function R(){}function N(m,v,T){e=e||Mr(),m=m||{},typeof T!="boolean"&&(T=v instanceof e),this.objectMode=!!m.objectMode,T&&(this.objectMode=this.objectMode||!!m.writableObjectMode),this.highWaterMark=h(this,m,"writableHighWaterMark",T),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var z=m.decodeStrings===!1;this.decodeStrings=!z,this.defaultEncoding=m.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ee){P(v,ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=m.emitClose!==!1,this.autoDestroy=!!m.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}N.prototype.getBuffer=function(){for(var v=this.bufferedRequest,T=[];v;)T.push(v),v=v.next;return T},function(){try{Object.defineProperty(N.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var W;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(W=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(v){return W.call(this,v)?!0:this!==$?!1:v&&v._writableState instanceof N}})):W=function(v){return v instanceof this};function $(m){e=e||Mr();var v=this instanceof e;if(!v&&!W.call($,this))return new $(m);this._writableState=new N(m,this,v),this.writable=!0,m&&(typeof m.write=="function"&&(this._write=m.write),typeof m.writev=="function"&&(this._writev=m.writev),typeof m.destroy=="function"&&(this._destroy=m.destroy),typeof m.final=="function"&&(this._final=m.final)),n.call(this)}$.prototype.pipe=function(){C(this,new E)};function A(m,v){var T=new y;C(m,T),process.nextTick(v,T)}function U(m,v,T,z){var ee;return T===null?ee=new _:typeof T!="string"&&!v.objectMode&&(ee=new d("chunk",["string","Buffer"],T)),ee?(C(m,ee),process.nextTick(z,ee),!1):!0}$.prototype.write=function(m,v,T){var z=this._writableState,ee=!1,f=!z.objectMode&&a(m);return f&&!i.isBuffer(m)&&(m=o(m)),typeof v=="function"&&(T=v,v=null),f?v="buffer":v||(v=z.defaultEncoding),typeof T!="function"&&(T=R),z.ending?A(this,T):(f||U(this,z,m,T))&&(z.pendingcb++,ee=Q(this,z,f,m,v,T)),ee},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){var m=this._writableState;m.corked&&(m.corked--,!m.writing&&!m.corked&&!m.bufferProcessing&&m.bufferedRequest&&V(this,m))},$.prototype.setDefaultEncoding=function(v){if(typeof v=="string"&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new S(v);return this._writableState.defaultEncoding=v,this},Object.defineProperty($.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function oe(m,v,T){return!m.objectMode&&m.decodeStrings!==!1&&typeof v=="string"&&(v=i.from(v,T)),v}Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Q(m,v,T,z,ee,f){if(!T){var b=oe(v,z,ee);z!==b&&(T=!0,ee="buffer",z=b)}var x=v.objectMode?1:z.length;v.length+=x;var L=v.length<v.highWaterMark;if(L||(v.needDrain=!0),v.writing||v.corked){var pe=v.lastBufferedRequest;v.lastBufferedRequest={chunk:z,encoding:ee,isBuf:T,callback:f,next:null},pe?pe.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else M(m,v,!1,x,z,ee,f);return L}function M(m,v,T,z,ee,f,b){v.writelen=z,v.writecb=b,v.writing=!0,v.sync=!0,v.destroyed?v.onwrite(new w("write")):T?m._writev(ee,v.onwrite):m._write(ee,f,v.onwrite),v.sync=!1}function k(m,v,T,z,ee){--v.pendingcb,T?(process.nextTick(ee,z),process.nextTick(le,m,v),m._writableState.errorEmitted=!0,C(m,z)):(ee(z),m._writableState.errorEmitted=!0,C(m,z),le(m,v))}function O(m){m.writing=!1,m.writecb=null,m.length-=m.writelen,m.writelen=0}function P(m,v){var T=m._writableState,z=T.sync,ee=T.writecb;if(typeof ee!="function")throw new g;if(O(T),v)k(m,T,z,v,ee);else{var f=Z(T)||m.destroyed;!f&&!T.corked&&!T.bufferProcessing&&T.bufferedRequest&&V(m,T),z?process.nextTick(j,m,T,f,ee):j(m,T,f,ee)}}function j(m,v,T,z){T||D(m,v),v.pendingcb--,z(),le(m,v)}function D(m,v){v.length===0&&v.needDrain&&(v.needDrain=!1,m.emit("drain"))}function V(m,v){v.bufferProcessing=!0;var T=v.bufferedRequest;if(m._writev&&T&&T.next){var z=v.bufferedRequestCount,ee=new Array(z),f=v.corkedRequestsFree;f.entry=T;for(var b=0,x=!0;T;)ee[b]=T,T.isBuf||(x=!1),T=T.next,b+=1;ee.allBuffers=x,M(m,v,!0,v.length,ee,"",f.finish),v.pendingcb++,v.lastBufferedRequest=null,f.next?(v.corkedRequestsFree=f.next,f.next=null):v.corkedRequestsFree=new t(v),v.bufferedRequestCount=0}else{for(;T;){var L=T.chunk,pe=T.encoding,Y=T.callback,ce=v.objectMode?1:L.length;if(M(m,v,!1,ce,L,pe,Y),T=T.next,v.bufferedRequestCount--,v.writing)break}T===null&&(v.lastBufferedRequest=null)}v.bufferedRequest=T,v.bufferProcessing=!1}$.prototype._write=function(m,v,T){T(new p("_write()"))},$.prototype._writev=null,$.prototype.end=function(m,v,T){var z=this._writableState;return typeof m=="function"?(T=m,m=null,v=null):typeof v=="function"&&(T=v,v=null),m!=null&&this.write(m,v),z.corked&&(z.corked=1,this.uncork()),z.ending||ae(this,z,T),this},Object.defineProperty($.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Z(m){return m.ending&&m.length===0&&m.bufferedRequest===null&&!m.finished&&!m.writing}function G(m,v){m._final(function(T){v.pendingcb--,T&&C(m,T),v.prefinished=!0,m.emit("prefinish"),le(m,v)})}function ne(m,v){!v.prefinished&&!v.finalCalled&&(typeof m._final=="function"&&!v.destroyed?(v.pendingcb++,v.finalCalled=!0,process.nextTick(G,m,v)):(v.prefinished=!0,m.emit("prefinish")))}function le(m,v){var T=Z(v);if(T&&(ne(m,v),v.pendingcb===0&&(v.finished=!0,m.emit("finish"),v.autoDestroy))){var z=m._readableState;(!z||z.autoDestroy&&z.endEmitted)&&m.destroy()}return T}function ae(m,v,T){v.ending=!0,le(m,v),T&&(v.finished?process.nextTick(T):m.once("finish",T)),v.ended=!0,m.writable=!1}function De(m,v,T){var z=m.entry;for(m.entry=null;z;){var ee=z.callback;v.pendingcb--,ee(T),z=z.next}v.corkedRequestsFree.next=m}return Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(v){!this._writableState||(this._writableState.destroyed=v)}}),$.prototype.destroy=c.destroy,$.prototype._undestroy=c.undestroy,$.prototype._destroy=function(m,v){v(m)},Co}var Io,$c;function Mr(){if($c)return Io;$c=1;var t=Object.keys||function(u){var h=[];for(var l in u)h.push(l);return h};Io=o;var e=Kl(),r=Zl();ut.exports(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),Io}var Bc=dr.codes.ERR_STREAM_PREMATURE_CLOSE;function z0(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function U0(){}function q0(t){return t.setHeader&&typeof t.abort=="function"}function Yl(t,e,r){if(typeof e=="function")return Yl(t,null,e);e||(e={}),r=z0(r||U0);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},c=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,c=!0,i||r.call(t)},h=function(g){r.call(t,g)},l=function(){var g;if(n&&!c)return(!t._readableState||!t._readableState.ended)&&(g=new Bc),r.call(t,g);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(g=new Bc),r.call(t,g)},d=function(){t.req.on("finish",a)};return q0(t)?(t.on("complete",a),t.on("abort",l),t.req?d():t.on("request",d)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",u),t.on("finish",a),e.error!==!1&&t.on("error",h),t.on("close",l),function(){t.removeListener("complete",a),t.removeListener("abort",l),t.removeListener("request",d),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",u),t.removeListener("error",h),t.removeListener("close",l)}}var Ea=Yl,xo,Fc;function G0(){if(Fc)return xo;Fc=1;var t;function e(S,C,R){return C=r(C),C in S?Object.defineProperty(S,C,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[C]=R,S}function r(S){var C=n(S,"string");return typeof C=="symbol"?C:String(C)}function n(S,C){if(typeof S!="object"||S===null)return S;var R=S[Symbol.toPrimitive];if(R!==void 0){var N=R.call(S,C||"default");if(typeof N!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(S)}var i=Ea,s=Symbol("lastResolve"),o=Symbol("lastReject"),a=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),l=Symbol("stream");function d(S,C){return{value:S,done:C}}function p(S){var C=S[s];if(C!==null){var R=S[l].read();R!==null&&(S[u]=null,S[s]=null,S[o]=null,C(d(R,!1)))}}function g(S){process.nextTick(p,S)}function E(S,C){return function(R,N){S.then(function(){if(C[c]){R(d(void 0,!0));return}C[h](R,N)},N)}}var w=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((t={get stream(){return this[l]},next:function(){var C=this,R=this[a];if(R!==null)return Promise.reject(R);if(this[c])return Promise.resolve(d(void 0,!0));if(this[l].destroyed)return new Promise(function(A,U){process.nextTick(function(){C[a]?U(C[a]):A(d(void 0,!0))})});var N=this[u],W;if(N)W=new Promise(E(N,this));else{var $=this[l].read();if($!==null)return Promise.resolve(d($,!1));W=new Promise(this[h])}return this[u]=W,W}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var C=this;return new Promise(function(R,N){C[l].destroy(null,function(W){if(W){N(W);return}R(d(void 0,!0))})})}),t),w),y=function(C){var R,N=Object.create(_,(R={},e(R,l,{value:C,writable:!0}),e(R,s,{value:null,writable:!0}),e(R,o,{value:null,writable:!0}),e(R,a,{value:null,writable:!0}),e(R,c,{value:C._readableState.endEmitted,writable:!0}),e(R,h,{value:function($,A){var U=N[l].read();U?(N[u]=null,N[s]=null,N[o]=null,$(d(U,!1))):(N[s]=$,N[o]=A)},writable:!0}),R));return N[u]=null,i(C,function(W){if(W&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $=N[o];$!==null&&(N[u]=null,N[s]=null,N[o]=null,$(W)),N[a]=W;return}var A=N[s];A!==null&&(N[u]=null,N[s]=null,N[o]=null,A(d(void 0,!0))),N[c]=!0}),C.on("readable",g.bind(null,N)),N};return xo=y,xo}var ko,Wc;function J0(){return Wc||(Wc=1,ko=function(){throw new Error("Readable.from is not available in the browser")}),ko}var Ao,Vc;function Kl(){if(Vc)return Ao;Vc=1,Ao=A;var t;A.ReadableState=$,ba.exports.EventEmitter;var e=function(b,x){return b.listeners(x).length},r=ql,n=ga.Buffer,i=(typeof B<"u"?B:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(f){return n.from(f)}function o(f){return n.isBuffer(f)||f instanceof i}var a=wl,c;a&&a.debuglog?c=a.debuglog("stream"):c=function(){};var u=T0(),h=Gl,l=Ql,d=l.getHighWaterMark,p=dr.codes,g=p.ERR_INVALID_ARG_TYPE,E=p.ERR_STREAM_PUSH_AFTER_EOF,w=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,y,S,C;ut.exports(A,r);var R=h.errorOrDestroy,N=["error","close","destroy","pause","resume"];function W(f,b,x){if(typeof f.prependListener=="function")return f.prependListener(b,x);!f._events||!f._events[b]?f.on(b,x):Array.isArray(f._events[b])?f._events[b].unshift(x):f._events[b]=[x,f._events[b]]}function $(f,b,x){t=t||Mr(),f=f||{},typeof x!="boolean"&&(x=b instanceof t),this.objectMode=!!f.objectMode,x&&(this.objectMode=this.objectMode||!!f.readableObjectMode),this.highWaterMark=d(this,f,"readableHighWaterMark",x),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=f.emitClose!==!1,this.autoDestroy=!!f.autoDestroy,this.destroyed=!1,this.defaultEncoding=f.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,f.encoding&&(y||(y=vc().StringDecoder),this.decoder=new y(f.encoding),this.encoding=f.encoding)}function A(f){if(t=t||Mr(),!(this instanceof A))return new A(f);var b=this instanceof t;this._readableState=new $(f,this,b),this.readable=!0,f&&(typeof f.read=="function"&&(this._read=f.read),typeof f.destroy=="function"&&(this._destroy=f.destroy)),r.call(this)}Object.defineProperty(A.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(b){!this._readableState||(this._readableState.destroyed=b)}}),A.prototype.destroy=h.destroy,A.prototype._undestroy=h.undestroy,A.prototype._destroy=function(f,b){b(f)},A.prototype.push=function(f,b){var x=this._readableState,L;return x.objectMode?L=!0:typeof f=="string"&&(b=b||x.defaultEncoding,b!==x.encoding&&(f=n.from(f,b),b=""),L=!0),U(this,f,b,!1,L)},A.prototype.unshift=function(f){return U(this,f,null,!0,!1)};function U(f,b,x,L,pe){c("readableAddChunk",b);var Y=f._readableState;if(b===null)Y.reading=!1,P(f,Y);else{var ce;if(pe||(ce=Q(Y,b)),ce)R(f,ce);else if(Y.objectMode||b&&b.length>0)if(typeof b!="string"&&!Y.objectMode&&Object.getPrototypeOf(b)!==n.prototype&&(b=s(b)),L)Y.endEmitted?R(f,new _):oe(f,Y,b,!0);else if(Y.ended)R(f,new E);else{if(Y.destroyed)return!1;Y.reading=!1,Y.decoder&&!x?(b=Y.decoder.write(b),Y.objectMode||b.length!==0?oe(f,Y,b,!1):V(f,Y)):oe(f,Y,b,!1)}else L||(Y.reading=!1,V(f,Y))}return!Y.ended&&(Y.length<Y.highWaterMark||Y.length===0)}function oe(f,b,x,L){b.flowing&&b.length===0&&!b.sync?(b.awaitDrain=0,f.emit("data",x)):(b.length+=b.objectMode?1:x.length,L?b.buffer.unshift(x):b.buffer.push(x),b.needReadable&&j(f)),V(f,b)}function Q(f,b){var x;return!o(b)&&typeof b!="string"&&b!==void 0&&!f.objectMode&&(x=new g("chunk",["string","Buffer","Uint8Array"],b)),x}A.prototype.isPaused=function(){return this._readableState.flowing===!1},A.prototype.setEncoding=function(f){y||(y=vc().StringDecoder);var b=new y(f);this._readableState.decoder=b,this._readableState.encoding=this._readableState.decoder.encoding;for(var x=this._readableState.buffer.head,L="";x!==null;)L+=b.write(x.data),x=x.next;return this._readableState.buffer.clear(),L!==""&&this._readableState.buffer.push(L),this._readableState.length=L.length,this};var M=1073741824;function k(f){return f>=M?f=M:(f--,f|=f>>>1,f|=f>>>2,f|=f>>>4,f|=f>>>8,f|=f>>>16,f++),f}function O(f,b){return f<=0||b.length===0&&b.ended?0:b.objectMode?1:f!==f?b.flowing&&b.length?b.buffer.head.data.length:b.length:(f>b.highWaterMark&&(b.highWaterMark=k(f)),f<=b.length?f:b.ended?b.length:(b.needReadable=!0,0))}A.prototype.read=function(f){c("read",f),f=parseInt(f,10);var b=this._readableState,x=f;if(f!==0&&(b.emittedReadable=!1),f===0&&b.needReadable&&((b.highWaterMark!==0?b.length>=b.highWaterMark:b.length>0)||b.ended))return c("read: emitReadable",b.length,b.ended),b.length===0&&b.ended?T(this):j(this),null;if(f=O(f,b),f===0&&b.ended)return b.length===0&&T(this),null;var L=b.needReadable;c("need readable",L),(b.length===0||b.length-f<b.highWaterMark)&&(L=!0,c("length less than watermark",L)),b.ended||b.reading?(L=!1,c("reading or ended",L)):L&&(c("do read"),b.reading=!0,b.sync=!0,b.length===0&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(f=O(x,b)));var pe;return f>0?pe=v(f,b):pe=null,pe===null?(b.needReadable=b.length<=b.highWaterMark,f=0):(b.length-=f,b.awaitDrain=0),b.length===0&&(b.ended||(b.needReadable=!0),x!==f&&b.ended&&T(this)),pe!==null&&this.emit("data",pe),pe};function P(f,b){if(c("onEofChunk"),!b.ended){if(b.decoder){var x=b.decoder.end();x&&x.length&&(b.buffer.push(x),b.length+=b.objectMode?1:x.length)}b.ended=!0,b.sync?j(f):(b.needReadable=!1,b.emittedReadable||(b.emittedReadable=!0,D(f)))}}function j(f){var b=f._readableState;c("emitReadable",b.needReadable,b.emittedReadable),b.needReadable=!1,b.emittedReadable||(c("emitReadable",b.flowing),b.emittedReadable=!0,process.nextTick(D,f))}function D(f){var b=f._readableState;c("emitReadable_",b.destroyed,b.length,b.ended),!b.destroyed&&(b.length||b.ended)&&(f.emit("readable"),b.emittedReadable=!1),b.needReadable=!b.flowing&&!b.ended&&b.length<=b.highWaterMark,m(f)}function V(f,b){b.readingMore||(b.readingMore=!0,process.nextTick(Z,f,b))}function Z(f,b){for(;!b.reading&&!b.ended&&(b.length<b.highWaterMark||b.flowing&&b.length===0);){var x=b.length;if(c("maybeReadMore read 0"),f.read(0),x===b.length)break}b.readingMore=!1}A.prototype._read=function(f){R(this,new w("_read()"))},A.prototype.pipe=function(f,b){var x=this,L=this._readableState;switch(L.pipesCount){case 0:L.pipes=f;break;case 1:L.pipes=[L.pipes,f];break;default:L.pipes.push(f);break}L.pipesCount+=1,c("pipe count=%d opts=%j",L.pipesCount,b);var pe=(!b||b.end!==!1)&&f!==process.stdout&&f!==process.stderr,Y=pe?Rt:Lt;L.endEmitted?process.nextTick(Y):x.once("end",Y),f.on("unpipe",ce);function ce(Ct,dt){c("onunpipe"),Ct===x&&dt&&dt.hasUnpiped===!1&&(dt.hasUnpiped=!0,zn())}function Rt(){c("onend"),f.end()}var Jt=G(x);f.on("drain",Jt);var en=!1;function zn(){c("cleanup"),f.removeListener("close",gr),f.removeListener("finish",_r),f.removeListener("drain",Jt),f.removeListener("error",br),f.removeListener("unpipe",ce),x.removeListener("end",Rt),x.removeListener("end",Lt),x.removeListener("data",tn),en=!0,L.awaitDrain&&(!f._writableState||f._writableState.needDrain)&&Jt()}x.on("data",tn);function tn(Ct){c("ondata");var dt=f.write(Ct);c("dest.write",dt),dt===!1&&((L.pipesCount===1&&L.pipes===f||L.pipesCount>1&&ee(L.pipes,f)!==-1)&&!en&&(c("false write response, pause",L.awaitDrain),L.awaitDrain++),x.pause())}function br(Ct){c("onerror",Ct),Lt(),f.removeListener("error",br),e(f,"error")===0&&R(f,Ct)}W(f,"error",br);function gr(){f.removeListener("finish",_r),Lt()}f.once("close",gr);function _r(){c("onfinish"),f.removeListener("close",gr),Lt()}f.once("finish",_r);function Lt(){c("unpipe"),x.unpipe(f)}return f.emit("pipe",x),L.flowing||(c("pipe resume"),x.resume()),f};function G(f){return function(){var x=f._readableState;c("pipeOnDrain",x.awaitDrain),x.awaitDrain&&x.awaitDrain--,x.awaitDrain===0&&e(f,"data")&&(x.flowing=!0,m(f))}}A.prototype.unpipe=function(f){var b=this._readableState,x={hasUnpiped:!1};if(b.pipesCount===0)return this;if(b.pipesCount===1)return f&&f!==b.pipes?this:(f||(f=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,f&&f.emit("unpipe",this,x),this);if(!f){var L=b.pipes,pe=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var Y=0;Y<pe;Y++)L[Y].emit("unpipe",this,{hasUnpiped:!1});return this}var ce=ee(b.pipes,f);return ce===-1?this:(b.pipes.splice(ce,1),b.pipesCount-=1,b.pipesCount===1&&(b.pipes=b.pipes[0]),f.emit("unpipe",this,x),this)},A.prototype.on=function(f,b){var x=r.prototype.on.call(this,f,b),L=this._readableState;return f==="data"?(L.readableListening=this.listenerCount("readable")>0,L.flowing!==!1&&this.resume()):f==="readable"&&!L.endEmitted&&!L.readableListening&&(L.readableListening=L.needReadable=!0,L.flowing=!1,L.emittedReadable=!1,c("on readable",L.length,L.reading),L.length?j(this):L.reading||process.nextTick(le,this)),x},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(f,b){var x=r.prototype.removeListener.call(this,f,b);return f==="readable"&&process.nextTick(ne,this),x},A.prototype.removeAllListeners=function(f){var b=r.prototype.removeAllListeners.apply(this,arguments);return(f==="readable"||f===void 0)&&process.nextTick(ne,this),b};function ne(f){var b=f._readableState;b.readableListening=f.listenerCount("readable")>0,b.resumeScheduled&&!b.paused?b.flowing=!0:f.listenerCount("data")>0&&f.resume()}function le(f){c("readable nexttick read 0"),f.read(0)}A.prototype.resume=function(){var f=this._readableState;return f.flowing||(c("resume"),f.flowing=!f.readableListening,ae(this,f)),f.paused=!1,this};function ae(f,b){b.resumeScheduled||(b.resumeScheduled=!0,process.nextTick(De,f,b))}function De(f,b){c("resume",b.reading),b.reading||f.read(0),b.resumeScheduled=!1,f.emit("resume"),m(f),b.flowing&&!b.reading&&f.read(0)}A.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function m(f){var b=f._readableState;for(c("flow",b.flowing);b.flowing&&f.read()!==null;);}A.prototype.wrap=function(f){var b=this,x=this._readableState,L=!1;f.on("end",function(){if(c("wrapped end"),x.decoder&&!x.ended){var ce=x.decoder.end();ce&&ce.length&&b.push(ce)}b.push(null)}),f.on("data",function(ce){if(c("wrapped data"),x.decoder&&(ce=x.decoder.write(ce)),!(x.objectMode&&ce==null)&&!(!x.objectMode&&(!ce||!ce.length))){var Rt=b.push(ce);Rt||(L=!0,f.pause())}});for(var pe in f)this[pe]===void 0&&typeof f[pe]=="function"&&(this[pe]=function(Rt){return function(){return f[Rt].apply(f,arguments)}}(pe));for(var Y=0;Y<N.length;Y++)f.on(N[Y],this.emit.bind(this,N[Y]));return this._read=function(ce){c("wrapped _read",ce),L&&(L=!1,f.resume())},this},typeof Symbol=="function"&&(A.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=G0()),S(this)}),Object.defineProperty(A.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(b){this._readableState&&(this._readableState.flowing=b)}}),A._fromList=v,Object.defineProperty(A.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function v(f,b){if(b.length===0)return null;var x;return b.objectMode?x=b.buffer.shift():!f||f>=b.length?(b.decoder?x=b.buffer.join(""):b.buffer.length===1?x=b.buffer.first():x=b.buffer.concat(b.length),b.buffer.clear()):x=b.buffer.consume(f,b.decoder),x}function T(f){var b=f._readableState;c("endReadable",b.endEmitted),b.endEmitted||(b.ended=!0,process.nextTick(z,b,f))}function z(f,b){if(c("endReadableNT",f.endEmitted,f.length),!f.endEmitted&&f.length===0&&(f.endEmitted=!0,b.readable=!1,b.emit("end"),f.autoDestroy)){var x=b._writableState;(!x||x.autoDestroy&&x.finished)&&b.destroy()}}typeof Symbol=="function"&&(A.from=function(f,b){return C===void 0&&(C=J0()),C(A,f,b)});function ee(f,b){for(var x=0,L=f.length;x<L;x++)if(f[x]===b)return x;return-1}return Ao}var Xl=Mt,Ai=dr.codes,Q0=Ai.ERR_METHOD_NOT_IMPLEMENTED,Z0=Ai.ERR_MULTIPLE_CALLBACK,Y0=Ai.ERR_TRANSFORM_ALREADY_TRANSFORMING,K0=Ai.ERR_TRANSFORM_WITH_LENGTH_0,Mi=Mr();ut.exports(Mt,Mi);function X0(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Z0);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Mt(t){if(!(this instanceof Mt))return new Mt(t);Mi.call(this,t),this._transformState={afterTransform:X0.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",eb)}function eb(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){Hc(t,e,r)}):Hc(this,null,null)}Mt.prototype.push=function(t,e){return this._transformState.needTransform=!1,Mi.prototype.push.call(this,t,e)};Mt.prototype._transform=function(t,e,r){r(new Q0("_transform()"))};Mt.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Mt.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Mt.prototype._destroy=function(t,e){Mi.prototype._destroy.call(this,t,function(r){e(r)})};function Hc(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new K0;if(t._transformState.transforming)throw new Y0;return t.push(null)}var tb=bn,eh=Xl;ut.exports(bn,eh);function bn(t){if(!(this instanceof bn))return new bn(t);eh.call(this,t)}bn.prototype._transform=function(t,e,r){r(null,t)};var Mo;function rb(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var th=dr.codes,nb=th.ERR_MISSING_ARGS,ib=th.ERR_STREAM_DESTROYED;function zc(t){if(t)throw t}function sb(t){return t.setHeader&&typeof t.abort=="function"}function ob(t,e,r,n){n=rb(n);var i=!1;t.on("close",function(){i=!0}),Mo===void 0&&(Mo=Ea),Mo(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,sb(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new ib("pipe"))}}}function Uc(t){t()}function ab(t,e){return t.pipe(e)}function cb(t){return!t.length||typeof t[t.length-1]!="function"?zc:t.pop()}function ub(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=cb(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new nb("streams");var i,s=e.map(function(o,a){var c=a<e.length-1,u=a>0;return ob(o,c,u,function(h){i||(i=h),h&&s.forEach(Uc),!c&&(s.forEach(Uc),n(i))})});return e.reduce(ab)}var lb=ub;(function(t,e){e=t.exports=Kl(),e.Stream=e,e.Readable=e,e.Writable=Zl(),e.Duplex=Mr(),e.Transform=Xl,e.PassThrough=tb,e.finished=Ea,e.pipeline=lb})(li,li.exports);const{Transform:hb}=li.exports;var db=t=>class rh extends hb{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new rh(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:fb}=li.exports;var pb=t=>class nh extends fb{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new nh(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const bb=db,gb=pb;var _b=function(t){const e=bb(t),r=gb(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},ih={};const qc=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];ih.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],u=t[7]^t[17]^t[27]^t[37]^t[47],h=t[8]^t[18]^t[28]^t[38]^t[48],l=t[9]^t[19]^t[29]^t[39]^t[49];let d=h^(i<<1|s>>>31),p=l^(s<<1|i>>>31);const g=t[0]^d,E=t[1]^p,w=t[10]^d,_=t[11]^p,y=t[20]^d,S=t[21]^p,C=t[30]^d,R=t[31]^p,N=t[40]^d,W=t[41]^p;d=r^(o<<1|a>>>31),p=n^(a<<1|o>>>31);const $=t[2]^d,A=t[3]^p,U=t[12]^d,oe=t[13]^p,Q=t[22]^d,M=t[23]^p,k=t[32]^d,O=t[33]^p,P=t[42]^d,j=t[43]^p;d=i^(c<<1|u>>>31),p=s^(u<<1|c>>>31);const D=t[4]^d,V=t[5]^p,Z=t[14]^d,G=t[15]^p,ne=t[24]^d,le=t[25]^p,ae=t[34]^d,De=t[35]^p,m=t[44]^d,v=t[45]^p;d=o^(h<<1|l>>>31),p=a^(l<<1|h>>>31);const T=t[6]^d,z=t[7]^p,ee=t[16]^d,f=t[17]^p,b=t[26]^d,x=t[27]^p,L=t[36]^d,pe=t[37]^p,Y=t[46]^d,ce=t[47]^p;d=c^(r<<1|n>>>31),p=u^(n<<1|r>>>31);const Rt=t[8]^d,Jt=t[9]^p,en=t[18]^d,zn=t[19]^p,tn=t[28]^d,br=t[29]^p,gr=t[38]^d,_r=t[39]^p,Lt=t[48]^d,Ct=t[49]^p,dt=g,Rs=E,Cs=_<<4|w>>>28,Is=w<<4|_>>>28,xs=y<<3|S>>>29,ks=S<<3|y>>>29,As=R<<9|C>>>23,Ms=C<<9|R>>>23,Ts=N<<18|W>>>14,Ns=W<<18|N>>>14,Os=$<<1|A>>>31,Ls=A<<1|$>>>31,Ps=oe<<12|U>>>20,Ds=U<<12|oe>>>20,js=Q<<10|M>>>22,$s=M<<10|Q>>>22,Bs=O<<13|k>>>19,Fs=k<<13|O>>>19,Ws=P<<2|j>>>30,Vs=j<<2|P>>>30,Hs=V<<30|D>>>2,zs=D<<30|V>>>2,Us=Z<<6|G>>>26,qs=G<<6|Z>>>26,Gs=le<<11|ne>>>21,Js=ne<<11|le>>>21,Qs=ae<<15|De>>>17,Zs=De<<15|ae>>>17,Ys=v<<29|m>>>3,Ks=m<<29|v>>>3,Xs=T<<28|z>>>4,eo=z<<28|T>>>4,to=f<<23|ee>>>9,ro=ee<<23|f>>>9,no=b<<25|x>>>7,io=x<<25|b>>>7,so=L<<21|pe>>>11,oo=pe<<21|L>>>11,ao=ce<<24|Y>>>8,co=Y<<24|ce>>>8,uo=Rt<<27|Jt>>>5,lo=Jt<<27|Rt>>>5,ho=en<<20|zn>>>12,fo=zn<<20|en>>>12,po=br<<7|tn>>>25,bo=tn<<7|br>>>25,go=gr<<8|_r>>>24,_o=_r<<8|gr>>>24,mo=Lt<<14|Ct>>>18,vo=Ct<<14|Lt>>>18;t[0]=dt^~Ps&Gs,t[1]=Rs^~Ds&Js,t[10]=Xs^~ho&xs,t[11]=eo^~fo&ks,t[20]=Os^~Us&no,t[21]=Ls^~qs&io,t[30]=uo^~Cs&js,t[31]=lo^~Is&$s,t[40]=Hs^~to&po,t[41]=zs^~ro&bo,t[2]=Ps^~Gs&so,t[3]=Ds^~Js&oo,t[12]=ho^~xs&Bs,t[13]=fo^~ks&Fs,t[22]=Us^~no&go,t[23]=qs^~io&_o,t[32]=Cs^~js&Qs,t[33]=Is^~$s&Zs,t[42]=to^~po&As,t[43]=ro^~bo&Ms,t[4]=Gs^~so&mo,t[5]=Js^~oo&vo,t[14]=xs^~Bs&Ys,t[15]=ks^~Fs&Ks,t[24]=no^~go&Ts,t[25]=io^~_o&Ns,t[34]=js^~Qs&ao,t[35]=$s^~Zs&co,t[44]=po^~As&Ws,t[45]=bo^~Ms&Vs,t[6]=so^~mo&dt,t[7]=oo^~vo&Rs,t[16]=Bs^~Ys&Xs,t[17]=Fs^~Ks&eo,t[26]=go^~Ts&Os,t[27]=_o^~Ns&Ls,t[36]=Qs^~ao&uo,t[37]=Zs^~co&lo,t[46]=As^~Ws&Hs,t[47]=Ms^~Vs&zs,t[8]=mo^~dt&Ps,t[9]=vo^~Rs&Ds,t[18]=Ys^~Xs&ho,t[19]=Ks^~eo&fo,t[28]=Ts^~Os&Us,t[29]=Ns^~Ls&qs,t[38]=ao^~uo&Cs,t[39]=co^~lo&Is,t[48]=Ws^~Hs&to,t[49]=Vs^~zs&ro,t[0]^=qc[e*2],t[1]^=qc[e*2+1]}};const hi=ih;function Gr(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Gr.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Gr.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(hi.p1600(this.state),this.count=0)};Gr.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),(t&128)!==0&&this.count===this.blockSize-1&&hi.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),hi.p1600(this.state),this.count=0,this.squeezing=!0};Gr.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(hi.p1600(this.state),this.count=0);return e};Gr.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var mb=Gr,vb=_b(mb);const yb=vb,wb=vi.exports;function sh(t){return Buffer.allocUnsafe(t).fill(0)}function oh(t,e,r){const n=sh(e);return t=Ti(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function Sb(t,e){return oh(t,e,!0)}function Ti(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")ah(t)?t=Buffer.from(Cb(ch(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(wb.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function Eb(t){return t=Ti(t),"0x"+t.toString("hex")}function Rb(t,e){return t=Ti(t),e||(e=256),yb("keccak"+e).update(t).digest()}function Cb(t){return t.length%2?"0"+t:t}function ah(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function ch(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var uh={zeros:sh,setLength:oh,setLengthRight:Sb,isHexString:ah,stripHexPrefix:ch,toBuffer:Ti,bufferToHex:Eb,keccak:Rb};const nr=uh,rr=vi.exports;function lh(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function Cr(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Gc(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function hh(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Xt(t){var e=typeof t;if(e==="string")return nr.isHexString(t)?new rr(nr.stripHexPrefix(t),16):new rr(t,10);if(e==="number")return new rr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function gt(t,e){var r,n,i,s;if(t==="address")return gt("uint160",Xt(e));if(t==="bool")return gt("uint8",e?1:0);if(t==="string")return gt("bytes",new Buffer(e,"utf8"));if(xb(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=hh(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(gt(t,e[s]));if(r==="dynamic"){var o=gt("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([gt("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,nr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=Cr(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return nr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=Cr(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Xt(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=Cr(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Xt(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Gc(t),n=Xt(e),n<0)throw new Error("Supplied ufixed is negative");return gt("uint256",n.mul(new rr(2).pow(new rr(r[1]))))}else if(t.startsWith("fixed"))return r=Gc(t),gt("int256",Xt(e).mul(new rr(2).pow(new rr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Ib(t){return t==="string"||t==="bytes"||hh(t)==="dynamic"}function xb(t){return t.lastIndexOf("]")===t.length-1}function kb(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=lh(t[s]),a=e[s],c=gt(o,a);Ib(o)?(r.push(gt("uint256",i)),n.push(c),i+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function dh(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=lh(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(nr.setLength(a,20));else if(o.startsWith("bytes")){if(r=Cr(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(nr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=Cr(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Xt(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=Cr(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Xt(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function Ab(t,e){return nr.keccak(dh(t,e))}var Mb={rawEncode:kb,solidityPack:dh,soliditySHA3:Ab};const st=uh,ln=Mb,fh={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},To={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,c,u)=>{if(r[c]!==void 0)return["bytes32",u==null?"0x0000000000000000000000000000000000000000000000000000000000000000":st.keccak(this.encodeData(c,u,r,n))];if(u===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",st.keccak(u)];if(c==="string")return typeof u=="string"&&(u=Buffer.from(u,"utf8")),["bytes32",st.keccak(u)];if(c.lastIndexOf("]")===c.length-1){const h=c.slice(0,c.lastIndexOf("[")),l=u.map(d=>o(a,h,d));return["bytes32",st.keccak(ln.rawEncode(l.map(([d])=>d),l.map(([,d])=>d)))]}return[c,u]};for(const a of r[t]){const[c,u]=o(a.name,a.type,e[a.name]);i.push(c),s.push(u)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=st.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=st.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=st.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return ln.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return st.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return st.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in fh.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),st.keccak(Buffer.concat(n))}};var Tb={TYPED_MESSAGE_SCHEMA:fh,TypedDataUtils:To,hashForSignTypedDataLegacy:function(t){return Nb(t.data)},hashForSignTypedData_v3:function(t){return To.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return To.hash(t.data)}};function Nb(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?st.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return ln.soliditySHA3(["bytes32","bytes32"],[ln.soliditySHA3(new Array(t.length).fill("string"),i),ln.soliditySHA3(n,r)])}var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.filterFromParam=Tr.FilterPolyfill=void 0;const Sr=In,je=F,Ob=5*60*1e3,er={jsonrpc:"2.0",id:0};class Lb{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Sr.IntNumber)(1),this.provider=e}async newFilter(e){const r=ph(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,je.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,je.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,je.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,je.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,je.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(Un())}async getFilterLogs(e){const r=(0,je.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},er),{method:"eth_getLogs",params:[Jc(n)]})):Un()}makeFilterId(){return(0,Sr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return Un();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return qn();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},er),{method:"eth_getLogs",params:[Jc(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(u=>(0,je.intNumberFromHexString)(u.blockNumber||"0x0")),c=Math.max(...a);if(c&&c>n){const u=(0,Sr.IntNumber)(c+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${u}`),this.cursors.set(e,u)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return Un();const n=await this.getCurrentBlockHeight();if(r>n)return qn();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,je.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,Sr.IntNumber)(o))))).filter(o=>!!o),s=(0,Sr.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},er),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(qn())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Ob);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},er),{method:"eth_blockNumber",params:[]}));return(0,je.intNumberFromHexString)((0,je.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},er),{method:"eth_getBlockByNumber",params:[(0,je.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,je.ensureHexString)(r.result.hash):null}}Tr.FilterPolyfill=Lb;function ph(t){return{fromBlock:Qc(t.fromBlock),toBlock:Qc(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}Tr.filterFromParam=ph;function Jc(t){const e={fromBlock:Zc(t.fromBlock),toBlock:Zc(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Qc(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,Sr.IntNumber)(0);if((0,je.isHexString)(t))return(0,je.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Zc(t){return t==="latest"?t:(0,je.hexStringFromIntNumber)(t)}function Un(){return Object.assign(Object.assign({},er),{error:{code:-32e3,message:"filter not found"}})}function qn(){return Object.assign(Object.assign({},er),{result:[]})}var bh={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(bh);var Ni={},gh={},Oi={},Ra=Pb;function Pb(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const Yc=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const c=new Array(arguments.length-1);for(let u=1;u<arguments.length;u++)c[u-1]=arguments[u];o?(c.unshift(o),s(c)):i(c)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let c=0;c<arguments.length;c++)a[c]=arguments[c];i(a)}else i(o)}),t.apply(this,n)})};var Db=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Yc(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Yc(s,e):s}return n},An={},jb=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(An,"__esModule",{value:!0});An.BaseBlockTracker=void 0;const $b=jb(ur),Bb=1e3,Fb=(t,e)=>t+e,Kc=["sync","latest"];class Wb extends $b.default{constructor(e){super(),this._blockResetDuration=e.blockResetDuration||20*Bb,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){return e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e){Kc.includes(e)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){!this._isRunning||(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return Kc.map(e=>this.listenerCount(e)).reduce(Fb)}_newPotentialLatest(e){const r=this._currentBlock;r&&Xc(e)<=Xc(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}An.BaseBlockTracker=Wb;function Xc(t){return Number.parseInt(t,16)}var _h={},mh={},Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.assertExhaustive=Te.assertStruct=Te.assert=Te.AssertionError=void 0;const Vb=cr;function Hb(t){return typeof t=="object"&&t!==null&&"message"in t}function zb(t){var e,r;return Boolean(typeof((r=(e=t?.prototype)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)=="string")}function Ub(t){const e=Hb(t)?t.message:String(t);return e.endsWith(".")?e.slice(0,-1):e}function vh(t,e){return zb(t)?new t({message:e}):t({message:e})}class Ca extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}Te.AssertionError=Ca;function qb(t,e="Assertion failed.",r=Ca){if(!t)throw e instanceof Error?e:vh(r,e)}Te.assert=qb;function Gb(t,e,r="Assertion failed",n=Ca){try{(0,Vb.assert)(t,e)}catch(i){throw vh(n,`${r}: ${Ub(i)}.`)}}Te.assertStruct=Gb;function Jb(t){throw new Error("Invalid branch reached. Should be detected during compilation.")}Te.assertExhaustive=Jb;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.base64=void 0;const Qb=cr,Zb=Te,Yb=(t,e={})=>{var r,n;const i=(r=e.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=e.characterSet)!==null&&n!==void 0?n:"base64";let o;s==="base64"?o=String.raw`[A-Za-z0-9+\/]`:((0,Zb.assert)(s==="base64url"),o=String.raw`[-_A-Za-z0-9]`);let a;return i?a=new RegExp(`^(?:${o}{4})*(?:${o}{3}=|${o}{2}==)?$`,"u"):a=new RegExp(`^(?:${o}{4})*(?:${o}{2,3}|${o}{3}=|${o}{2}==)?$`,"u"),(0,Qb.pattern)(t,a)};Mn.base64=Yb;var ie={},Tn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.remove0x=t.add0x=t.assertIsStrictHexString=t.assertIsHexString=t.isStrictHexString=t.isHexString=t.StrictHexStruct=t.HexStruct=void 0;const e=cr,r=Te;t.HexStruct=(0,e.pattern)((0,e.string)(),/^(?:0x)?[0-9a-f]+$/iu),t.StrictHexStruct=(0,e.pattern)((0,e.string)(),/^0x[0-9a-f]+$/iu);function n(u){return(0,e.is)(u,t.HexStruct)}t.isHexString=n;function i(u){return(0,e.is)(u,t.StrictHexStruct)}t.isStrictHexString=i;function s(u){(0,r.assert)(n(u),"Value must be a hexadecimal string.")}t.assertIsHexString=s;function o(u){(0,r.assert)(i(u),'Value must be a hexadecimal string, starting with "0x".')}t.assertIsStrictHexString=o;function a(u){return u.startsWith("0x")?u:u.startsWith("0X")?`0x${u.substring(2)}`:`0x${u}`}t.add0x=a;function c(u){return u.startsWith("0x")||u.startsWith("0X")?u.substring(2):u}t.remove0x=c})(Tn);Object.defineProperty(ie,"__esModule",{value:!0});ie.createDataView=ie.concatBytes=ie.valueToBytes=ie.stringToBytes=ie.numberToBytes=ie.signedBigIntToBytes=ie.bigIntToBytes=ie.hexToBytes=ie.bytesToString=ie.bytesToNumber=ie.bytesToSignedBigInt=ie.bytesToBigInt=ie.bytesToHex=ie.assertIsBytes=ie.isBytes=void 0;const ze=Te,ea=Tn,eu=48,tu=58,ru=87;function Kb(){const t=[];return()=>{if(t.length===0)for(let e=0;e<256;e++)t.push(e.toString(16).padStart(2,"0"));return t}}const Xb=Kb();function Ia(t){return t instanceof Uint8Array}ie.isBytes=Ia;function Jr(t){(0,ze.assert)(Ia(t),"Value must be a Uint8Array.")}ie.assertIsBytes=Jr;function yh(t){if(Jr(t),t.length===0)return"0x";const e=Xb(),r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=e[t[n]];return(0,ea.add0x)(r.join(""))}ie.bytesToHex=yh;function wh(t){Jr(t);const e=yh(t);return BigInt(e)}ie.bytesToBigInt=wh;function eg(t){Jr(t);let e=BigInt(0);for(const r of t)e=(e<<BigInt(8))+BigInt(r);return BigInt.asIntN(t.length*8,e)}ie.bytesToSignedBigInt=eg;function tg(t){Jr(t);const e=wh(t);return(0,ze.assert)(e<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(e)}ie.bytesToNumber=tg;function rg(t){return Jr(t),new TextDecoder().decode(t)}ie.bytesToString=rg;function Li(t){var e;if(((e=t?.toLowerCase)===null||e===void 0?void 0:e.call(t))==="0x")return new Uint8Array;(0,ea.assertIsHexString)(t);const r=(0,ea.remove0x)(t).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const o=n.charCodeAt(s*2),a=n.charCodeAt(s*2+1),c=o-(o<tu?eu:ru),u=a-(a<tu?eu:ru);i[s]=c*16+u}return i}ie.hexToBytes=Li;function Sh(t){(0,ze.assert)(typeof t=="bigint","Value must be a bigint."),(0,ze.assert)(t>=BigInt(0),"Value must be a non-negative bigint.");const e=t.toString(16);return Li(e)}ie.bigIntToBytes=Sh;function ng(t,e){(0,ze.assert)(e>0);const r=t>>BigInt(31);return!((~t&r)+(t&~r)>>BigInt(e*8+-1))}function ig(t,e){(0,ze.assert)(typeof t=="bigint","Value must be a bigint."),(0,ze.assert)(typeof e=="number","Byte length must be a number."),(0,ze.assert)(e>0,"Byte length must be greater than 0."),(0,ze.assert)(ng(t,e),"Byte length is too small to represent the given value.");let r=t;const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}ie.signedBigIntToBytes=ig;function Eh(t){(0,ze.assert)(typeof t=="number","Value must be a number."),(0,ze.assert)(t>=0,"Value must be a non-negative number."),(0,ze.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToBytes` instead.");const e=t.toString(16);return Li(e)}ie.numberToBytes=Eh;function Rh(t){return(0,ze.assert)(typeof t=="string","Value must be a string."),new TextEncoder().encode(t)}ie.stringToBytes=Rh;function Ch(t){if(typeof t=="bigint")return Sh(t);if(typeof t=="number")return Eh(t);if(typeof t=="string")return t.startsWith("0x")?Li(t):Rh(t);if(Ia(t))return t;throw new TypeError(`Unsupported value type: "${typeof t}".`)}ie.valueToBytes=Ch;function sg(t){const e=new Array(t.length);let r=0;for(let i=0;i<t.length;i++){const s=Ch(t[i]);e[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<e.length;i++)n.set(e[i],s),s+=e[i].length;return n}ie.concatBytes=sg;function og(t){if(typeof Buffer<"u"&&t instanceof Buffer){const e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new DataView(e)}return new DataView(t.buffer,t.byteOffset,t.byteLength)}ie.createDataView=og;var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.ChecksumStruct=void 0;const nu=cr,ag=Mn;Pi.ChecksumStruct=(0,nu.size)((0,ag.base64)((0,nu.string)(),{paddingRequired:!0}),44,44);var vt={};Object.defineProperty(vt,"__esModule",{value:!0});vt.createHex=vt.createBytes=vt.createBigInt=vt.createNumber=void 0;const me=cr,cg=Te,Ih=ie,Di=Tn,xh=(0,me.union)([(0,me.number)(),(0,me.bigint)(),(0,me.string)(),Di.StrictHexStruct]),ug=(0,me.coerce)((0,me.number)(),xh,Number),lg=(0,me.coerce)((0,me.bigint)(),xh,BigInt);(0,me.union)([Di.StrictHexStruct,(0,me.instance)(Uint8Array)]);const hg=(0,me.coerce)((0,me.instance)(Uint8Array),(0,me.union)([Di.StrictHexStruct]),Ih.hexToBytes),dg=(0,me.coerce)(Di.StrictHexStruct,(0,me.instance)(Uint8Array),Ih.bytesToHex);function fg(t){try{const e=(0,me.create)(t,ug);return(0,cg.assert)(Number.isFinite(e),`Expected a number-like value, got "${t}".`),e}catch(e){throw e instanceof me.StructError?new Error(`Expected a number-like value, got "${t}".`):e}}vt.createNumber=fg;function pg(t){try{return(0,me.create)(t,lg)}catch(e){throw e instanceof me.StructError?new Error(`Expected a number-like value, got "${String(e.value)}".`):e}}vt.createBigInt=pg;function bg(t){if(typeof t=="string"&&t.toLowerCase()==="0x")return new Uint8Array;try{return(0,me.create)(t,hg)}catch(e){throw e instanceof me.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}vt.createBytes=bg;function gg(t){if(t instanceof Uint8Array&&t.length===0||typeof t=="string"&&t.toLowerCase()==="0x")return"0x";try{return(0,me.create)(t,dg)}catch(e){throw e instanceof me.StructError?new Error(`Expected a bytes-like value, got "${String(e.value)}".`):e}}vt.createHex=gg;var Nr={},kh=B&&B.__classPrivateFieldSet||function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},$e=B&&B.__classPrivateFieldGet||function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},nt,pt;Object.defineProperty(Nr,"__esModule",{value:!0});Nr.FrozenSet=Nr.FrozenMap=void 0;class xa{constructor(e){nt.set(this,void 0),kh(this,nt,new Map(e),"f"),Object.freeze(this)}get size(){return $e(this,nt,"f").size}[(nt=new WeakMap,Symbol.iterator)](){return $e(this,nt,"f")[Symbol.iterator]()}entries(){return $e(this,nt,"f").entries()}forEach(e,r){return $e(this,nt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}get(e){return $e(this,nt,"f").get(e)}has(e){return $e(this,nt,"f").has(e)}keys(){return $e(this,nt,"f").keys()}values(){return $e(this,nt,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([e,r])=>`${String(e)} => ${String(r)}`).join(", ")} `:""}}`}}Nr.FrozenMap=xa;class ka{constructor(e){pt.set(this,void 0),kh(this,pt,new Set(e),"f"),Object.freeze(this)}get size(){return $e(this,pt,"f").size}[(pt=new WeakMap,Symbol.iterator)](){return $e(this,pt,"f")[Symbol.iterator]()}entries(){return $e(this,pt,"f").entries()}forEach(e,r){return $e(this,pt,"f").forEach((n,i,s)=>e.call(r,n,i,this))}has(e){return $e(this,pt,"f").has(e)}keys(){return $e(this,pt,"f").keys()}values(){return $e(this,pt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(e=>String(e)).join(", ")} `:""}}`}}Nr.FrozenSet=ka;Object.freeze(xa);Object.freeze(xa.prototype);Object.freeze(ka);Object.freeze(ka.prototype);var Ah={},Aa={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNumberSize=t.calculateStringSize=t.isASCII=t.isPlainObject=t.ESCAPE_CHARACTERS_REGEXP=t.JsonSize=t.hasProperty=t.isObject=t.isNullOrUndefined=t.isNonEmptyArray=void 0;function e(u){return Array.isArray(u)&&u.length>0}t.isNonEmptyArray=e;function r(u){return u==null}t.isNullOrUndefined=r;function n(u){return Boolean(u)&&typeof u=="object"&&!Array.isArray(u)}t.isObject=n;const i=(u,h)=>Object.hasOwnProperty.call(u,h);t.hasProperty=i,function(u){u[u.Null=4]="Null",u[u.Comma=1]="Comma",u[u.Wrapper=1]="Wrapper",u[u.True=4]="True",u[u.False=5]="False",u[u.Quote=1]="Quote",u[u.Colon=1]="Colon",u[u.Date=24]="Date"}(t.JsonSize||(t.JsonSize={})),t.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(u){if(typeof u!="object"||u===null)return!1;try{let h=u;for(;Object.getPrototypeOf(h)!==null;)h=Object.getPrototypeOf(h);return Object.getPrototypeOf(u)===h}catch{return!1}}t.isPlainObject=s;function o(u){return u.charCodeAt(0)<=127}t.isASCII=o;function a(u){var h;return u.split("").reduce((d,p)=>o(p)?d+1:d+2,0)+((h=u.match(t.ESCAPE_CHARACTERS_REGEXP))!==null&&h!==void 0?h:[]).length}t.calculateStringSize=a;function c(u){return u.toString().length}t.calculateNumberSize=c})(Aa);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateJsonAndGetSize=t.getJsonRpcIdValidator=t.assertIsJsonRpcError=t.isJsonRpcError=t.assertIsJsonRpcFailure=t.isJsonRpcFailure=t.assertIsJsonRpcSuccess=t.isJsonRpcSuccess=t.assertIsJsonRpcResponse=t.isJsonRpcResponse=t.assertIsPendingJsonRpcResponse=t.isPendingJsonRpcResponse=t.JsonRpcResponseStruct=t.JsonRpcFailureStruct=t.JsonRpcSuccessStruct=t.PendingJsonRpcResponseStruct=t.assertIsJsonRpcRequest=t.isJsonRpcRequest=t.assertIsJsonRpcNotification=t.isJsonRpcNotification=t.JsonRpcNotificationStruct=t.JsonRpcRequestStruct=t.JsonRpcParamsStruct=t.JsonRpcErrorStruct=t.JsonRpcIdStruct=t.JsonRpcVersionStruct=t.jsonrpc2=t.isValidJson=t.JsonStruct=void 0;const e=cr,r=Te,n=Aa;t.JsonStruct=(0,e.define)("Json",R=>{const[N]=C(R,!0);return N?!0:"Expected a valid JSON-serializable value"});function i(R){return(0,e.is)(R,t.JsonStruct)}t.isValidJson=i,t.jsonrpc2="2.0",t.JsonRpcVersionStruct=(0,e.literal)(t.jsonrpc2),t.JsonRpcIdStruct=(0,e.nullable)((0,e.union)([(0,e.number)(),(0,e.string)()])),t.JsonRpcErrorStruct=(0,e.object)({code:(0,e.integer)(),message:(0,e.string)(),data:(0,e.optional)(t.JsonStruct),stack:(0,e.optional)((0,e.string)())}),t.JsonRpcParamsStruct=(0,e.optional)((0,e.union)([(0,e.record)((0,e.string)(),t.JsonStruct),(0,e.array)(t.JsonStruct)])),t.JsonRpcRequestStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,method:(0,e.string)(),params:t.JsonRpcParamsStruct}),t.JsonRpcNotificationStruct=(0,e.omit)(t.JsonRpcRequestStruct,["id"]);function s(R){return(0,e.is)(R,t.JsonRpcNotificationStruct)}t.isJsonRpcNotification=s;function o(R,N){(0,r.assertStruct)(R,t.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",N)}t.assertIsJsonRpcNotification=o;function a(R){return(0,e.is)(R,t.JsonRpcRequestStruct)}t.isJsonRpcRequest=a;function c(R,N){(0,r.assertStruct)(R,t.JsonRpcRequestStruct,"Invalid JSON-RPC request",N)}t.assertIsJsonRpcRequest=c,t.PendingJsonRpcResponseStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:(0,e.optional)((0,e.unknown)()),error:(0,e.optional)(t.JsonRpcErrorStruct)}),t.JsonRpcSuccessStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,result:t.JsonStruct}),t.JsonRpcFailureStruct=(0,e.object)({id:t.JsonRpcIdStruct,jsonrpc:t.JsonRpcVersionStruct,error:t.JsonRpcErrorStruct}),t.JsonRpcResponseStruct=(0,e.union)([t.JsonRpcSuccessStruct,t.JsonRpcFailureStruct]);function u(R){return(0,e.is)(R,t.PendingJsonRpcResponseStruct)}t.isPendingJsonRpcResponse=u;function h(R,N){(0,r.assertStruct)(R,t.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",N)}t.assertIsPendingJsonRpcResponse=h;function l(R){return(0,e.is)(R,t.JsonRpcResponseStruct)}t.isJsonRpcResponse=l;function d(R,N){(0,r.assertStruct)(R,t.JsonRpcResponseStruct,"Invalid JSON-RPC response",N)}t.assertIsJsonRpcResponse=d;function p(R){return(0,e.is)(R,t.JsonRpcSuccessStruct)}t.isJsonRpcSuccess=p;function g(R,N){(0,r.assertStruct)(R,t.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",N)}t.assertIsJsonRpcSuccess=g;function E(R){return(0,e.is)(R,t.JsonRpcFailureStruct)}t.isJsonRpcFailure=E;function w(R,N){(0,r.assertStruct)(R,t.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",N)}t.assertIsJsonRpcFailure=w;function _(R){return(0,e.is)(R,t.JsonRpcErrorStruct)}t.isJsonRpcError=_;function y(R,N){(0,r.assertStruct)(R,t.JsonRpcErrorStruct,"Invalid JSON-RPC error",N)}t.assertIsJsonRpcError=y;function S(R){const{permitEmptyString:N,permitFractions:W,permitNull:$}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},R);return U=>Boolean(typeof U=="number"&&(W||Number.isInteger(U))||typeof U=="string"&&(N||U.length>0)||$&&U===null)}t.getJsonRpcIdValidator=S;function C(R,N=!1){const W=new Set;function $(A,U){if(A===void 0)return[!1,0];if(A===null)return[!0,U?0:n.JsonSize.Null];const oe=typeof A;try{if(oe==="function")return[!1,0];if(oe==="string"||A instanceof String)return[!0,U?0:(0,n.calculateStringSize)(A)+n.JsonSize.Quote*2];if(oe==="boolean"||A instanceof Boolean)return U?[!0,0]:[!0,A==!0?n.JsonSize.True:n.JsonSize.False];if(oe==="number"||A instanceof Number)return U?[!0,0]:[!0,(0,n.calculateNumberSize)(A)];if(A instanceof Date)return U?[!0,0]:[!0,isNaN(A.getDate())?n.JsonSize.Null:n.JsonSize.Date+n.JsonSize.Quote*2]}catch{return[!1,0]}if(!(0,n.isPlainObject)(A)&&!Array.isArray(A))return[!1,0];if(W.has(A))return[!1,0];W.add(A);try{return[!0,Object.entries(A).reduce((Q,[M,k],O,P)=>{let[j,D]=$(k,U);if(!j)throw new Error("JSON validation did not pass. Validation process stopped.");if(W.delete(A),U)return 0;const V=Array.isArray(A)?0:M.length+n.JsonSize.Comma+n.JsonSize.Colon*2,Z=O<P.length-1?n.JsonSize.Comma:0;return Q+V+D+Z},U?0:n.JsonSize.Wrapper*2)]}catch{return[!1,0]}}return $(R,N)}t.validateJsonAndGetSize=C})(Ah);var Or={},_g=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Or,"__esModule",{value:!0});Or.createModuleLogger=Or.createProjectLogger=void 0;const mg=_g(_f.exports),vg=(0,mg.default)("metamask");function yg(t){return vg.extend(t)}Or.createProjectLogger=yg;function wg(t,e){return t.extend(e)}Or.createModuleLogger=wg;var yt={};Object.defineProperty(yt,"__esModule",{value:!0});yt.hexToBigInt=yt.hexToNumber=yt.bigIntToHex=yt.numberToHex=void 0;const Ir=Te,gn=Tn,Sg=t=>((0,Ir.assert)(typeof t=="number","Value must be a number."),(0,Ir.assert)(t>=0,"Value must be a non-negative number."),(0,Ir.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,gn.add0x)(t.toString(16)));yt.numberToHex=Sg;const Eg=t=>((0,Ir.assert)(typeof t=="bigint","Value must be a bigint."),(0,Ir.assert)(t>=0,"Value must be a non-negative bigint."),(0,gn.add0x)(t.toString(16)));yt.bigIntToHex=Eg;const Rg=t=>{(0,gn.assertIsHexString)(t);const e=parseInt(t,16);return(0,Ir.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `hexToBigInt` instead."),e};yt.hexToNumber=Rg;const Cg=t=>((0,gn.assertIsHexString)(t),BigInt((0,gn.add0x)(t)));yt.hexToBigInt=Cg;var Mh={};Object.defineProperty(Mh,"__esModule",{value:!0});var Th={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.timeSince=t.inMilliseconds=t.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(t.Duration||(t.Duration={}));const e=s=>Number.isInteger(s)&&s>=0,r=(s,o)=>{if(!e(s))throw new Error(`"${o}" must be a non-negative integer. Received: "${s}".`)};function n(s,o){return r(s,"count"),s*o}t.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}t.timeSince=i})(Th);var Nh={},ir={exports:{}};const Ig="2.0.0",Oh=256,xg=Number.MAX_SAFE_INTEGER||9007199254740991,kg=16,Ag=Oh-6,Mg=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var ji={MAX_LENGTH:Oh,MAX_SAFE_COMPONENT_LENGTH:kg,MAX_SAFE_BUILD_LENGTH:Ag,MAX_SAFE_INTEGER:xg,RELEASE_TYPES:Mg,SEMVER_SPEC_VERSION:Ig,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Tg=typeof process=="object"&&{LESSOPEN:"| /usr/bin/lesspipe %s",npm_package_dependencies__particle_network_provider:"^1.2.0",npm_package_dependencies__particle_network_auth_core:"^1.3.1",USER:"tid",npm_package_dependencies__particle_network_thresh_sig:"^0.7.8",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.21 npm/? node/v20.10.0 linux x64",npm_config_bin_links:"true",GIT_ASKPASS:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/tid/.nvm/versions/node/v20.10.0/bin/node",npm_package_dependencies__particle_network_connectkit:"^1.3.3",npm_package_devDependencies_vite:"^3.0.4",npm_config_init_version:"1.0.0",SHLVL:"1",HOME:"/home/tid",npm_package_dependencies_ethers:"5.7.2",TERM_PROGRAM_VERSION:"1.86.2",NVM_BIN:"/home/tid/.nvm/versions/node/v20.10.0/bin",VSCODE_IPC_HOOK_CLI:"/mnt/wslg/runtime-dir/vscode-ipc-67a14022-7f7a-447a-b4be-66570f42fce4.sock",NVM_INC:"/home/tid/.nvm/versions/node/v20.10.0/include/node",npm_config_init_license:"MIT",VSCODE_GIT_ASKPASS_MAIN:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/extensions/git/dist/askpass-main.js",YARN_WRAP_OUTPUT:"false",npm_package_dependencies_thresh:"^1.1.0",npm_config_version_tag_prefix:"v",VSCODE_GIT_ASKPASS_NODE:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/node",COLORTERM:"truecolor",WSL_DISTRO_NAME:"Ubuntu",npm_package_dependencies_antd:"^5.11.5",npm_package_devDependencies_typescript:"^4.7.4",npm_package_description:"Example application showcasing the implementation of Particle Connect for onboarding and interaction within Avalanche applications.",NVM_DIR:"/home/tid/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies_react:"^18.2.0",WAYLAND_DISPLAY:"wayland-0",npm_package_scripts_dev:"vite",LOGNAME:"tid",npm_package_devDependencies__vitejs_plugin_react:"^2.0.0",npm_package_type:"module",NAME:"TidPc",WSL_INTEROP:"/run/WSL/12_interop",PULSE_SERVER:"unix:/mnt/wslg/PulseServer",_:"/home/tid/.nvm/versions/node/v20.10.0/bin/yarn",npm_package_dependencies__particle_network_connectors:"^1.3.1",npm_config_registry:"https://registry.yarnpkg.com",TERM:"xterm-256color",npm_config_ignore_scripts:"",PATH:"/tmp/yarn--1708252146718-0.1661545954224679:/home/tid/project/particle/particle-avalanche-connect-demo/node_modules/.bin:/home/tid/.config/yarn/link/node_modules/.bin:/home/tid/.yarn/bin:/home/tid/.nvm/versions/node/v20.10.0/libexec/lib/node_modules/npm/bin/node-gyp-bin:/home/tid/.nvm/versions/node/v20.10.0/lib/node_modules/npm/bin/node-gyp-bin:/home/tid/.nvm/versions/node/v20.10.0/bin/node_modules/npm/bin/node-gyp-bin:/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/bin/remote-cli:/home/tid/.local/share/solana/install/active_release/bin:/home/tid/.cargo/bin:/home/tid/.nvm/versions/node/v20.10.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/h/env/Python312/Scripts/:/mnt/h/env/Python312/:/mnt/c/Windows/system32:/mnt/c/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0/:/mnt/c/Windows/System32/OpenSSH/:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/Program Files/Cloudflare/Cloudflare WARP/:/mnt/c/Users/phung/AppData/Local/Microsoft/WindowsApps:/mnt/c/tool/Microsoft VS Code/bin:/mnt/c/tool/ngrok/:/mnt/h/env/Python312/:/snap/bin",NODE:"/home/tid/.nvm/versions/node/v20.10.0/bin/node",npm_package_dependencies__particle_network_aa:"1.2.0",npm_package_name:"particle-avalanche-connect-demo",XDG_RUNTIME_DIR:"/mnt/wslg/runtime-dir",DISPLAY:":0",LANG:"C.UTF-8",npm_package_dependencies_react_dom:"^18.2.0",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/mnt/wslg/runtime-dir/vscode-git-bf4aafd2d1.sock",TERM_PROGRAM:"vscode",npm_lifecycle_script:"tsc && vite build",npm_config_version_git_message:"v%s",SHELL:"/bin/bash",npm_lifecycle_event:"build",npm_package_dependencies_vite_plugin_wasm:"^3.2.2",npm_package_dependencies__particle_network_auth:"^1.2.2",npm_package_devDependencies__types_react:"^18.0.15",npm_package_version:"1.0.0",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_buffer:"^6.0.3",npm_package_dependencies__particle_network_chains:"latest",npm_package_scripts_build:"tsc && vite build",LESSCLOSE:"/usr/bin/lesspipe %s %s",npm_package_dependencies__types_events:"^3.0.3",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",npm_package_license:"ISC",npm_config_strict_ssl:"true",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",PWD:"/home/tid/project/particle/particle-avalanche-connect-demo",npm_execpath:"/home/tid/.nvm/versions/node/v20.10.0/lib/node_modules/yarn/bin/yarn.js",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/local/share:/usr/share:/var/lib/snapd/desktop",npm_config_save_prefix:"^",npm_config_ignore_optional:"",npm_package_dependencies__particle_network_auth_core_modal:"^1.3.1",npm_package_scripts_preview:"vite preview",WSL2_GUI_APPS_ENABLED:"1",HOSTTYPE:"x86_64",INIT_CWD:"/home/tid/project/particle/particle-avalanche-connect-demo",WSLENV:"VSCODE_WSL_EXT_LOCATION/up",NODE_ENV:"production"}&&{LESSOPEN:"| /usr/bin/lesspipe %s",npm_package_dependencies__particle_network_provider:"^1.2.0",npm_package_dependencies__particle_network_auth_core:"^1.3.1",USER:"tid",npm_package_dependencies__particle_network_thresh_sig:"^0.7.8",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.21 npm/? node/v20.10.0 linux x64",npm_config_bin_links:"true",GIT_ASKPASS:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/tid/.nvm/versions/node/v20.10.0/bin/node",npm_package_dependencies__particle_network_connectkit:"^1.3.3",npm_package_devDependencies_vite:"^3.0.4",npm_config_init_version:"1.0.0",SHLVL:"1",HOME:"/home/tid",npm_package_dependencies_ethers:"5.7.2",TERM_PROGRAM_VERSION:"1.86.2",NVM_BIN:"/home/tid/.nvm/versions/node/v20.10.0/bin",VSCODE_IPC_HOOK_CLI:"/mnt/wslg/runtime-dir/vscode-ipc-67a14022-7f7a-447a-b4be-66570f42fce4.sock",NVM_INC:"/home/tid/.nvm/versions/node/v20.10.0/include/node",npm_config_init_license:"MIT",VSCODE_GIT_ASKPASS_MAIN:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/extensions/git/dist/askpass-main.js",YARN_WRAP_OUTPUT:"false",npm_package_dependencies_thresh:"^1.1.0",npm_config_version_tag_prefix:"v",VSCODE_GIT_ASKPASS_NODE:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/node",COLORTERM:"truecolor",WSL_DISTRO_NAME:"Ubuntu",npm_package_dependencies_antd:"^5.11.5",npm_package_devDependencies_typescript:"^4.7.4",npm_package_description:"Example application showcasing the implementation of Particle Connect for onboarding and interaction within Avalanche applications.",NVM_DIR:"/home/tid/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies_react:"^18.2.0",WAYLAND_DISPLAY:"wayland-0",npm_package_scripts_dev:"vite",LOGNAME:"tid",npm_package_devDependencies__vitejs_plugin_react:"^2.0.0",npm_package_type:"module",NAME:"TidPc",WSL_INTEROP:"/run/WSL/12_interop",PULSE_SERVER:"unix:/mnt/wslg/PulseServer",_:"/home/tid/.nvm/versions/node/v20.10.0/bin/yarn",npm_package_dependencies__particle_network_connectors:"^1.3.1",npm_config_registry:"https://registry.yarnpkg.com",TERM:"xterm-256color",npm_config_ignore_scripts:"",PATH:"/tmp/yarn--1708252146718-0.1661545954224679:/home/tid/project/particle/particle-avalanche-connect-demo/node_modules/.bin:/home/tid/.config/yarn/link/node_modules/.bin:/home/tid/.yarn/bin:/home/tid/.nvm/versions/node/v20.10.0/libexec/lib/node_modules/npm/bin/node-gyp-bin:/home/tid/.nvm/versions/node/v20.10.0/lib/node_modules/npm/bin/node-gyp-bin:/home/tid/.nvm/versions/node/v20.10.0/bin/node_modules/npm/bin/node-gyp-bin:/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/bin/remote-cli:/home/tid/.local/share/solana/install/active_release/bin:/home/tid/.cargo/bin:/home/tid/.nvm/versions/node/v20.10.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/h/env/Python312/Scripts/:/mnt/h/env/Python312/:/mnt/c/Windows/system32:/mnt/c/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0/:/mnt/c/Windows/System32/OpenSSH/:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/Program Files/Cloudflare/Cloudflare WARP/:/mnt/c/Users/phung/AppData/Local/Microsoft/WindowsApps:/mnt/c/tool/Microsoft VS Code/bin:/mnt/c/tool/ngrok/:/mnt/h/env/Python312/:/snap/bin",NODE:"/home/tid/.nvm/versions/node/v20.10.0/bin/node",npm_package_dependencies__particle_network_aa:"1.2.0",npm_package_name:"particle-avalanche-connect-demo",XDG_RUNTIME_DIR:"/mnt/wslg/runtime-dir",DISPLAY:":0",LANG:"C.UTF-8",npm_package_dependencies_react_dom:"^18.2.0",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/mnt/wslg/runtime-dir/vscode-git-bf4aafd2d1.sock",TERM_PROGRAM:"vscode",npm_lifecycle_script:"tsc && vite build",npm_config_version_git_message:"v%s",SHELL:"/bin/bash",npm_lifecycle_event:"build",npm_package_dependencies_vite_plugin_wasm:"^3.2.2",npm_package_dependencies__particle_network_auth:"^1.2.2",npm_package_devDependencies__types_react:"^18.0.15",npm_package_version:"1.0.0",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_buffer:"^6.0.3",npm_package_dependencies__particle_network_chains:"latest",npm_package_scripts_build:"tsc && vite build",LESSCLOSE:"/usr/bin/lesspipe %s %s",npm_package_dependencies__types_events:"^3.0.3",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",npm_package_license:"ISC",npm_config_strict_ssl:"true",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",PWD:"/home/tid/project/particle/particle-avalanche-connect-demo",npm_execpath:"/home/tid/.nvm/versions/node/v20.10.0/lib/node_modules/yarn/bin/yarn.js",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/local/share:/usr/share:/var/lib/snapd/desktop",npm_config_save_prefix:"^",npm_config_ignore_optional:"",npm_package_dependencies__particle_network_auth_core_modal:"^1.3.1",npm_package_scripts_preview:"vite preview",WSL2_GUI_APPS_ENABLED:"1",HOSTTYPE:"x86_64",INIT_CWD:"/home/tid/project/particle/particle-avalanche-connect-demo",WSLENV:"VSCODE_WSL_EXT_LOCATION/up",NODE_ENV:"production"}.NODE_DEBUG&&/\bsemver\b/i.test({LESSOPEN:"| /usr/bin/lesspipe %s",npm_package_dependencies__particle_network_provider:"^1.2.0",npm_package_dependencies__particle_network_auth_core:"^1.3.1",USER:"tid",npm_package_dependencies__particle_network_thresh_sig:"^0.7.8",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.21 npm/? node/v20.10.0 linux x64",npm_config_bin_links:"true",GIT_ASKPASS:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/tid/.nvm/versions/node/v20.10.0/bin/node",npm_package_dependencies__particle_network_connectkit:"^1.3.3",npm_package_devDependencies_vite:"^3.0.4",npm_config_init_version:"1.0.0",SHLVL:"1",HOME:"/home/tid",npm_package_dependencies_ethers:"5.7.2",TERM_PROGRAM_VERSION:"1.86.2",NVM_BIN:"/home/tid/.nvm/versions/node/v20.10.0/bin",VSCODE_IPC_HOOK_CLI:"/mnt/wslg/runtime-dir/vscode-ipc-67a14022-7f7a-447a-b4be-66570f42fce4.sock",NVM_INC:"/home/tid/.nvm/versions/node/v20.10.0/include/node",npm_config_init_license:"MIT",VSCODE_GIT_ASKPASS_MAIN:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/extensions/git/dist/askpass-main.js",YARN_WRAP_OUTPUT:"false",npm_package_dependencies_thresh:"^1.1.0",npm_config_version_tag_prefix:"v",VSCODE_GIT_ASKPASS_NODE:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/node",COLORTERM:"truecolor",WSL_DISTRO_NAME:"Ubuntu",npm_package_dependencies_antd:"^5.11.5",npm_package_devDependencies_typescript:"^4.7.4",npm_package_description:"Example application showcasing the implementation of Particle Connect for onboarding and interaction within Avalanche applications.",NVM_DIR:"/home/tid/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies_react:"^18.2.0",WAYLAND_DISPLAY:"wayland-0",npm_package_scripts_dev:"vite",LOGNAME:"tid",npm_package_devDependencies__vitejs_plugin_react:"^2.0.0",npm_package_type:"module",NAME:"TidPc",WSL_INTEROP:"/run/WSL/12_interop",PULSE_SERVER:"unix:/mnt/wslg/PulseServer",_:"/home/tid/.nvm/versions/node/v20.10.0/bin/yarn",npm_package_dependencies__particle_network_connectors:"^1.3.1",npm_config_registry:"https://registry.yarnpkg.com",TERM:"xterm-256color",npm_config_ignore_scripts:"",PATH:"/tmp/yarn--1708252146718-0.1661545954224679:/home/tid/project/particle/particle-avalanche-connect-demo/node_modules/.bin:/home/tid/.config/yarn/link/node_modules/.bin:/home/tid/.yarn/bin:/home/tid/.nvm/versions/node/v20.10.0/libexec/lib/node_modules/npm/bin/node-gyp-bin:/home/tid/.nvm/versions/node/v20.10.0/lib/node_modules/npm/bin/node-gyp-bin:/home/tid/.nvm/versions/node/v20.10.0/bin/node_modules/npm/bin/node-gyp-bin:/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/bin/remote-cli:/home/tid/.local/share/solana/install/active_release/bin:/home/tid/.cargo/bin:/home/tid/.nvm/versions/node/v20.10.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/h/env/Python312/Scripts/:/mnt/h/env/Python312/:/mnt/c/Windows/system32:/mnt/c/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0/:/mnt/c/Windows/System32/OpenSSH/:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/Program Files/Cloudflare/Cloudflare WARP/:/mnt/c/Users/phung/AppData/Local/Microsoft/WindowsApps:/mnt/c/tool/Microsoft VS Code/bin:/mnt/c/tool/ngrok/:/mnt/h/env/Python312/:/snap/bin",NODE:"/home/tid/.nvm/versions/node/v20.10.0/bin/node",npm_package_dependencies__particle_network_aa:"1.2.0",npm_package_name:"particle-avalanche-connect-demo",XDG_RUNTIME_DIR:"/mnt/wslg/runtime-dir",DISPLAY:":0",LANG:"C.UTF-8",npm_package_dependencies_react_dom:"^18.2.0",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/mnt/wslg/runtime-dir/vscode-git-bf4aafd2d1.sock",TERM_PROGRAM:"vscode",npm_lifecycle_script:"tsc && vite build",npm_config_version_git_message:"v%s",SHELL:"/bin/bash",npm_lifecycle_event:"build",npm_package_dependencies_vite_plugin_wasm:"^3.2.2",npm_package_dependencies__particle_network_auth:"^1.2.2",npm_package_devDependencies__types_react:"^18.0.15",npm_package_version:"1.0.0",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_buffer:"^6.0.3",npm_package_dependencies__particle_network_chains:"latest",npm_package_scripts_build:"tsc && vite build",LESSCLOSE:"/usr/bin/lesspipe %s %s",npm_package_dependencies__types_events:"^3.0.3",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",npm_package_license:"ISC",npm_config_strict_ssl:"true",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",PWD:"/home/tid/project/particle/particle-avalanche-connect-demo",npm_execpath:"/home/tid/.nvm/versions/node/v20.10.0/lib/node_modules/yarn/bin/yarn.js",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/local/share:/usr/share:/var/lib/snapd/desktop",npm_config_save_prefix:"^",npm_config_ignore_optional:"",npm_package_dependencies__particle_network_auth_core_modal:"^1.3.1",npm_package_scripts_preview:"vite preview",WSL2_GUI_APPS_ENABLED:"1",HOSTTYPE:"x86_64",INIT_CWD:"/home/tid/project/particle/particle-avalanche-connect-demo",WSLENV:"VSCODE_WSL_EXT_LOCATION/up",NODE_ENV:"production"}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var $i=Tg;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=ji,s=$i;e=t.exports={};const o=e.re=[],a=e.safeRe=[],c=e.src=[],u=e.t={};let h=0;const l="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[l,n]],p=E=>{for(const[w,_]of d)E=E.split(`${w}*`).join(`${w}{0,${_}}`).split(`${w}+`).join(`${w}{1,${_}}`);return E},g=(E,w,_)=>{const y=p(w),S=h++;s(E,S,w),u[E]=S,c[S]=w,o[S]=new RegExp(w,_?"g":void 0),a[S]=new RegExp(y,_?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${l}*`),g("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),g("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${l}+`),g("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),g("FULL",`^${c[u.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),g("LOOSE",`^${c[u.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),g("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",c[u.COERCE],!0),g("COERCERTLFULL",c[u.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",g("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",g("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ir,ir.exports);const Ng=Object.freeze({loose:!0}),Og=Object.freeze({}),Lg=t=>t?typeof t!="object"?Ng:t:Og;var Ma=Lg;const iu=/^[0-9]+$/,Lh=(t,e)=>{const r=iu.test(t),n=iu.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Pg=(t,e)=>Lh(e,t);var Ph={compareIdentifiers:Lh,rcompareIdentifiers:Pg};const Gn=$i,{MAX_LENGTH:su,MAX_SAFE_INTEGER:Jn}=ji,{safeRe:ou,t:au}=ir.exports,Dg=Ma,{compareIdentifiers:mr}=Ph;class ot{constructor(e,r){if(r=Dg(r),e instanceof ot){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>su)throw new TypeError(`version is longer than ${su} characters`);Gn("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?ou[au.LOOSE]:ou[au.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Jn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Jn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Jn||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<Jn)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Gn("SemVer.compare",this.version,this.options,e),!(e instanceof ot)){if(typeof e=="string"&&e===this.version)return 0;e=new ot(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ot||(e=new ot(e,this.options)),mr(this.major,e.major)||mr(this.minor,e.minor)||mr(this.patch,e.patch)}comparePre(e){if(e instanceof ot||(e=new ot(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(Gn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return mr(n,i)}while(++r)}compareBuild(e){e instanceof ot||(e=new ot(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(Gn("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return mr(n,i)}while(++r)}inc(e,r,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),mr(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}var We=ot;const cu=We,jg=(t,e,r=!1)=>{if(t instanceof cu)return t;try{return new cu(t,e)}catch(n){if(!r)return null;throw n}};var Qr=jg;const $g=Qr,Bg=(t,e)=>{const r=$g(t,e);return r?r.version:null};var Fg=Bg;const Wg=Qr,Vg=(t,e)=>{const r=Wg(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Hg=Vg;const uu=We,zg=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new uu(t instanceof uu?t.version:t,r).inc(e,n,i).version}catch{return null}};var Ug=zg;const lu=Qr,qg=(t,e)=>{const r=lu(t,null,!0),n=lu(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,o=s?r:n,a=s?n:r,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";const h=c?"pre":"";return r.major!==n.major?h+"major":r.minor!==n.minor?h+"minor":r.patch!==n.patch?h+"patch":"prerelease"};var Gg=qg;const Jg=We,Qg=(t,e)=>new Jg(t,e).major;var Zg=Qg;const Yg=We,Kg=(t,e)=>new Yg(t,e).minor;var Xg=Kg;const e_=We,t_=(t,e)=>new e_(t,e).patch;var r_=t_;const n_=Qr,i_=(t,e)=>{const r=n_(t,e);return r&&r.prerelease.length?r.prerelease:null};var s_=i_;const hu=We,o_=(t,e,r)=>new hu(t,r).compare(new hu(e,r));var lt=o_;const a_=lt,c_=(t,e,r)=>a_(e,t,r);var u_=c_;const l_=lt,h_=(t,e)=>l_(t,e,!0);var d_=h_;const du=We,f_=(t,e,r)=>{const n=new du(t,r),i=new du(e,r);return n.compare(i)||n.compareBuild(i)};var Ta=f_;const p_=Ta,b_=(t,e)=>t.sort((r,n)=>p_(r,n,e));var g_=b_;const __=Ta,m_=(t,e)=>t.sort((r,n)=>__(n,r,e));var v_=m_;const y_=lt,w_=(t,e,r)=>y_(t,e,r)>0;var Bi=w_;const S_=lt,E_=(t,e,r)=>S_(t,e,r)<0;var Na=E_;const R_=lt,C_=(t,e,r)=>R_(t,e,r)===0;var Dh=C_;const I_=lt,x_=(t,e,r)=>I_(t,e,r)!==0;var jh=x_;const k_=lt,A_=(t,e,r)=>k_(t,e,r)>=0;var Oa=A_;const M_=lt,T_=(t,e,r)=>M_(t,e,r)<=0;var La=T_;const N_=Dh,O_=jh,L_=Bi,P_=Oa,D_=Na,j_=La,$_=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return N_(t,r,n);case"!=":return O_(t,r,n);case">":return L_(t,r,n);case">=":return P_(t,r,n);case"<":return D_(t,r,n);case"<=":return j_(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var $h=$_;const B_=We,F_=Qr,{safeRe:Qn,t:Zn}=ir.exports,W_=(t,e)=>{if(t instanceof B_)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Qn[Zn.COERCEFULL]:Qn[Zn.COERCE]);else{const c=e.includePrerelease?Qn[Zn.COERCERTLFULL]:Qn[Zn.COERCERTL];let u;for(;(u=c.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||u.index+u[0].length!==r.index+r[0].length)&&(r=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",o=e.includePrerelease&&r[5]?`-${r[5]}`:"",a=e.includePrerelease&&r[6]?`+${r[6]}`:"";return F_(`${n}.${i}.${s}${o}${a}`,e)};var V_=W_,No,fu;function ht(){if(fu)return No;fu=1;class t{constructor(k,O){if(O=n(O),k instanceof t)return k.loose===!!O.loose&&k.includePrerelease===!!O.includePrerelease?k:new t(k.raw,O);if(k instanceof i)return this.raw=k.value,this.set=[[k]],this.format(),this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=k.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(j=>!g(j[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const j of this.set)if(j.length===1&&E(j[0])){this.set=[j];break}}}this.format()}format(){return this.range=this.set.map(k=>k.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(k){const P=((this.options.includePrerelease&&d)|(this.options.loose&&p))+":"+k,j=r.get(P);if(j)return j;const D=this.options.loose,V=D?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];k=k.replace(V,oe(this.options.includePrerelease)),s("hyphen replace",k),k=k.replace(a[c.COMPARATORTRIM],u),s("comparator trim",k),k=k.replace(a[c.TILDETRIM],h),s("tilde trim",k),k=k.replace(a[c.CARETTRIM],l),s("caret trim",k);let Z=k.split(" ").map(ae=>_(ae,this.options)).join(" ").split(/\s+/).map(ae=>U(ae,this.options));D&&(Z=Z.filter(ae=>(s("loose invalid filter",ae,this.options),!!ae.match(a[c.COMPARATORLOOSE])))),s("range list",Z);const G=new Map,ne=Z.map(ae=>new i(ae,this.options));for(const ae of ne){if(g(ae))return[ae];G.set(ae.value,ae)}G.size>1&&G.has("")&&G.delete("");const le=[...G.values()];return r.set(P,le),le}intersects(k,O){if(!(k instanceof t))throw new TypeError("a Range is required");return this.set.some(P=>w(P,O)&&k.set.some(j=>w(j,O)&&P.every(D=>j.every(V=>D.intersects(V,O)))))}test(k){if(!k)return!1;if(typeof k=="string")try{k=new o(k,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(Q(this.set[O],k,this.options))return!0;return!1}}No=t;const e=mf,r=new e({max:1e3}),n=Ma,i=Fi(),s=$i,o=We,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:h,caretTrimReplace:l}=ir.exports,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:p}=ji,g=M=>M.value==="<0.0.0-0",E=M=>M.value==="",w=(M,k)=>{let O=!0;const P=M.slice();let j=P.pop();for(;O&&P.length;)O=P.every(D=>j.intersects(D,k)),j=P.pop();return O},_=(M,k)=>(s("comp",M,k),M=R(M,k),s("caret",M),M=S(M,k),s("tildes",M),M=W(M,k),s("xrange",M),M=A(M,k),s("stars",M),M),y=M=>!M||M.toLowerCase()==="x"||M==="*",S=(M,k)=>M.trim().split(/\s+/).map(O=>C(O,k)).join(" "),C=(M,k)=>{const O=k.loose?a[c.TILDELOOSE]:a[c.TILDE];return M.replace(O,(P,j,D,V,Z)=>{s("tilde",M,P,j,D,V,Z);let G;return y(j)?G="":y(D)?G=`>=${j}.0.0 <${+j+1}.0.0-0`:y(V)?G=`>=${j}.${D}.0 <${j}.${+D+1}.0-0`:Z?(s("replaceTilde pr",Z),G=`>=${j}.${D}.${V}-${Z} <${j}.${+D+1}.0-0`):G=`>=${j}.${D}.${V} <${j}.${+D+1}.0-0`,s("tilde return",G),G})},R=(M,k)=>M.trim().split(/\s+/).map(O=>N(O,k)).join(" "),N=(M,k)=>{s("caret",M,k);const O=k.loose?a[c.CARETLOOSE]:a[c.CARET],P=k.includePrerelease?"-0":"";return M.replace(O,(j,D,V,Z,G)=>{s("caret",M,j,D,V,Z,G);let ne;return y(D)?ne="":y(V)?ne=`>=${D}.0.0${P} <${+D+1}.0.0-0`:y(Z)?D==="0"?ne=`>=${D}.${V}.0${P} <${D}.${+V+1}.0-0`:ne=`>=${D}.${V}.0${P} <${+D+1}.0.0-0`:G?(s("replaceCaret pr",G),D==="0"?V==="0"?ne=`>=${D}.${V}.${Z}-${G} <${D}.${V}.${+Z+1}-0`:ne=`>=${D}.${V}.${Z}-${G} <${D}.${+V+1}.0-0`:ne=`>=${D}.${V}.${Z}-${G} <${+D+1}.0.0-0`):(s("no pr"),D==="0"?V==="0"?ne=`>=${D}.${V}.${Z}${P} <${D}.${V}.${+Z+1}-0`:ne=`>=${D}.${V}.${Z}${P} <${D}.${+V+1}.0-0`:ne=`>=${D}.${V}.${Z} <${+D+1}.0.0-0`),s("caret return",ne),ne})},W=(M,k)=>(s("replaceXRanges",M,k),M.split(/\s+/).map(O=>$(O,k)).join(" ")),$=(M,k)=>{M=M.trim();const O=k.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return M.replace(O,(P,j,D,V,Z,G)=>{s("xRange",M,P,j,D,V,Z,G);const ne=y(D),le=ne||y(V),ae=le||y(Z),De=ae;return j==="="&&De&&(j=""),G=k.includePrerelease?"-0":"",ne?j===">"||j==="<"?P="<0.0.0-0":P="*":j&&De?(le&&(V=0),Z=0,j===">"?(j=">=",le?(D=+D+1,V=0,Z=0):(V=+V+1,Z=0)):j==="<="&&(j="<",le?D=+D+1:V=+V+1),j==="<"&&(G="-0"),P=`${j+D}.${V}.${Z}${G}`):le?P=`>=${D}.0.0${G} <${+D+1}.0.0-0`:ae&&(P=`>=${D}.${V}.0${G} <${D}.${+V+1}.0-0`),s("xRange return",P),P})},A=(M,k)=>(s("replaceStars",M,k),M.trim().replace(a[c.STAR],"")),U=(M,k)=>(s("replaceGTE0",M,k),M.trim().replace(a[k.includePrerelease?c.GTE0PRE:c.GTE0],"")),oe=M=>(k,O,P,j,D,V,Z,G,ne,le,ae,De,m)=>(y(P)?O="":y(j)?O=`>=${P}.0.0${M?"-0":""}`:y(D)?O=`>=${P}.${j}.0${M?"-0":""}`:V?O=`>=${O}`:O=`>=${O}${M?"-0":""}`,y(ne)?G="":y(le)?G=`<${+ne+1}.0.0-0`:y(ae)?G=`<${ne}.${+le+1}.0-0`:De?G=`<=${ne}.${le}.${ae}-${De}`:M?G=`<${ne}.${le}.${+ae+1}-0`:G=`<=${G}`,`${O} ${G}`.trim()),Q=(M,k,O)=>{for(let P=0;P<M.length;P++)if(!M[P].test(k))return!1;if(k.prerelease.length&&!O.includePrerelease){for(let P=0;P<M.length;P++)if(s(M[P].semver),M[P].semver!==i.ANY&&M[P].semver.prerelease.length>0){const j=M[P].semver;if(j.major===k.major&&j.minor===k.minor&&j.patch===k.patch)return!0}return!1}return!0};return No}var Oo,pu;function Fi(){if(pu)return Oo;pu=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(h,l){if(l=r(l),h instanceof e){if(h.loose===!!l.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),o("comparator",h,l),this.options=l,this.loose=!!l.loose,this.parse(h),this.semver===t?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(h){const l=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],d=h.match(l);if(!d)throw new TypeError(`Invalid comparator: ${h}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=t}toString(){return this.value}test(h){if(o("Comparator.test",h,this.options.loose),this.semver===t||h===t)return!0;if(typeof h=="string")try{h=new a(h,this.options)}catch{return!1}return s(h,this.operator,this.semver,this.options)}intersects(h,l){if(!(h instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(h.value,l).test(this.value):h.operator===""?h.value===""?!0:new c(this.value,l).test(h.semver):(l=r(l),l.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!l.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||s(this.semver,"<",h.semver,l)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||s(this.semver,">",h.semver,l)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}Oo=e;const r=Ma,{safeRe:n,t:i}=ir.exports,s=$h,o=$i,a=We,c=ht();return Oo}const H_=ht(),z_=(t,e,r)=>{try{e=new H_(e,r)}catch{return!1}return e.test(t)};var Wi=z_;const U_=ht(),q_=(t,e)=>new U_(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var G_=q_;const J_=We,Q_=ht(),Z_=(t,e,r)=>{let n=null,i=null,s=null;try{s=new Q_(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new J_(n,r))}),n};var Y_=Z_;const K_=We,X_=ht(),e1=(t,e,r)=>{let n=null,i=null,s=null;try{s=new X_(e,r)}catch{return null}return t.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new K_(n,r))}),n};var t1=e1;const Lo=We,r1=ht(),bu=Bi,n1=(t,e)=>{t=new r1(t,e);let r=new Lo("0.0.0");if(t.test(r)||(r=new Lo("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(o=>{const a=new Lo(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||bu(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),s&&(!r||bu(r,s))&&(r=s)}return r&&t.test(r)?r:null};var i1=n1;const s1=ht(),o1=(t,e)=>{try{return new s1(t,e).range||"*"}catch{return null}};var a1=o1;const c1=We,Bh=Fi(),{ANY:u1}=Bh,l1=ht(),h1=Wi,gu=Bi,_u=Na,d1=La,f1=Oa,p1=(t,e,r,n)=>{t=new c1(t,n),e=new l1(e,n);let i,s,o,a,c;switch(r){case">":i=gu,s=d1,o=_u,a=">",c=">=";break;case"<":i=_u,s=f1,o=gu,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(h1(t,e,n))return!1;for(let u=0;u<e.set.length;++u){const h=e.set[u];let l=null,d=null;if(h.forEach(p=>{p.semver===u1&&(p=new Bh(">=0.0.0")),l=l||p,d=d||p,i(p.semver,l.semver,n)?l=p:o(p.semver,d.semver,n)&&(d=p)}),l.operator===a||l.operator===c||(!d.operator||d.operator===a)&&s(t,d.semver))return!1;if(d.operator===c&&o(t,d.semver))return!1}return!0};var Pa=p1;const b1=Pa,g1=(t,e,r)=>b1(t,e,">",r);var _1=g1;const m1=Pa,v1=(t,e,r)=>m1(t,e,"<",r);var y1=v1;const mu=ht(),w1=(t,e,r)=>(t=new mu(t,r),e=new mu(e,r),t.intersects(e,r));var S1=w1;const E1=Wi,R1=lt;var C1=(t,e,r)=>{const n=[];let i=null,s=null;const o=t.sort((h,l)=>R1(h,l,r));for(const h of o)E1(h,e,r)?(s=h,i||(i=h)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const a=[];for(const[h,l]of n)h===l?a.push(h):!l&&h===o[0]?a.push("*"):l?h===o[0]?a.push(`<=${l}`):a.push(`${h} - ${l}`):a.push(`>=${h}`);const c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e};const vu=ht(),Da=Fi(),{ANY:Po}=Da,nn=Wi,ja=lt,I1=(t,e,r={})=>{if(t===e)return!0;t=new vu(t,r),e=new vu(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const o=k1(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},x1=[new Da(">=0.0.0-0")],yu=[new Da(">=0.0.0")],k1=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Po){if(e.length===1&&e[0].semver===Po)return!0;r.includePrerelease?t=x1:t=yu}if(e.length===1&&e[0].semver===Po){if(r.includePrerelease)return!0;e=yu}const n=new Set;let i,s;for(const p of t)p.operator===">"||p.operator===">="?i=wu(i,p,r):p.operator==="<"||p.operator==="<="?s=Su(s,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(i&&s){if(o=ja(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const p of n){if(i&&!nn(p,String(i),r)||s&&!nn(p,String(s),r))return null;for(const g of e)if(!nn(p,String(g),r))return!1;return!0}let a,c,u,h,l=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;l&&l.prerelease.length===1&&s.operator==="<"&&l.prerelease[0]===0&&(l=!1);for(const p of e){if(h=h||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator===">"||p.operator===">="){if(a=wu(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!nn(i.semver,String(p),r))return!1}if(s){if(l&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===l.major&&p.semver.minor===l.minor&&p.semver.patch===l.patch&&(l=!1),p.operator==="<"||p.operator==="<="){if(c=Su(s,p,r),c===p&&c!==s)return!1}else if(s.operator==="<="&&!nn(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&o!==0)return!1}return!(i&&u&&!s&&o!==0||s&&h&&!i&&o!==0||d||l)},wu=(t,e,r)=>{if(!t)return e;const n=ja(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Su=(t,e,r)=>{if(!t)return e;const n=ja(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var A1=I1;const Do=ir.exports,Eu=ji,M1=We,Ru=Ph,T1=Qr,N1=Fg,O1=Hg,L1=Ug,P1=Gg,D1=Zg,j1=Xg,$1=r_,B1=s_,F1=lt,W1=u_,V1=d_,H1=Ta,z1=g_,U1=v_,q1=Bi,G1=Na,J1=Dh,Q1=jh,Z1=Oa,Y1=La,K1=$h,X1=V_,em=Fi(),tm=ht(),rm=Wi,nm=G_,im=Y_,sm=t1,om=i1,am=a1,cm=Pa,um=_1,lm=y1,hm=S1,dm=C1,fm=A1;var pm={parse:T1,valid:N1,clean:O1,inc:L1,diff:P1,major:D1,minor:j1,patch:$1,prerelease:B1,compare:F1,rcompare:W1,compareLoose:V1,compareBuild:H1,sort:z1,rsort:U1,gt:q1,lt:G1,eq:J1,neq:Q1,gte:Z1,lte:Y1,cmp:K1,coerce:X1,Comparator:em,Range:tm,satisfies:rm,toComparators:nm,maxSatisfying:im,minSatisfying:sm,minVersion:om,validRange:am,outside:cm,gtr:um,ltr:lm,intersects:hm,simplifyRange:dm,subset:fm,SemVer:M1,re:Do.re,src:Do.src,tokens:Do.t,SEMVER_SPEC_VERSION:Eu.SEMVER_SPEC_VERSION,RELEASE_TYPES:Eu.RELEASE_TYPES,compareIdentifiers:Ru.compareIdentifiers,rcompareIdentifiers:Ru.rcompareIdentifiers};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.satisfiesVersionRange=t.gtRange=t.gtVersion=t.assertIsSemVerRange=t.assertIsSemVerVersion=t.isValidSemVerRange=t.isValidSemVerVersion=t.VersionRangeStruct=t.VersionStruct=void 0;const e=pm,r=cr,n=Te;t.VersionStruct=(0,r.refine)((0,r.string)(),"Version",l=>(0,e.valid)(l)===null?`Expected SemVer version, got "${l}"`:!0),t.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",l=>(0,e.validRange)(l)===null?`Expected SemVer range, got "${l}"`:!0);function i(l){return(0,r.is)(l,t.VersionStruct)}t.isValidSemVerVersion=i;function s(l){return(0,r.is)(l,t.VersionRangeStruct)}t.isValidSemVerRange=s;function o(l){(0,n.assertStruct)(l,t.VersionStruct)}t.assertIsSemVerVersion=o;function a(l){(0,n.assertStruct)(l,t.VersionRangeStruct)}t.assertIsSemVerRange=a;function c(l,d){return(0,e.gt)(l,d)}t.gtVersion=c;function u(l,d){return(0,e.gtr)(l,d)}t.gtRange=u;function h(l,d){return(0,e.satisfies)(l,d,{includePrerelease:!0})}t.satisfiesVersionRange=h})(Nh);(function(t){var e=B&&B.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,o,a)}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=B&&B.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Te,t),r(Mn,t),r(ie,t),r(Pi,t),r(vt,t),r(Nr,t),r(Tn,t),r(Ah,t),r(Or,t),r(Aa,t),r(yt,t),r(Mh,t),r(Th,t),r(Nh,t)})(mh);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createModuleLogger=t.projectLogger=void 0;const e=mh;Object.defineProperty(t,"createModuleLogger",{enumerable:!0,get:function(){return e.createModuleLogger}}),t.projectLogger=(0,e.createProjectLogger)("eth-block-tracker")})(_h);var Fh=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.PollingBlockTracker=void 0;const bm=Fh(Ra),gm=Fh(Db),_m=An,Cu=_h,Iu=(0,Cu.createModuleLogger)(Cu.projectLogger,"polling-block-tracker"),mm=(0,bm.default)(),vm=1e3;class ym extends _m.BaseBlockTracker{constructor(e={}){var r;if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");super({blockResetDuration:(r=e.blockResetDuration)!==null&&r!==void 0?r:e.pollingInterval}),this._provider=e.provider,this._pollingInterval=e.pollingInterval||20*vm,this._retryTimeout=e.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=e.keepEventLoopActive===void 0?!0:e.keepEventLoopActive,this._setSkipCacheFlag=e.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var e;this._isRunning;)try{await this._updateLatestBlock();const r=xu(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(e=r.stack)!==null&&e!==void 0?e:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=xu(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:mm(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0),Iu("Making request",e);const r=await(0,gm.default)(n=>this._provider.sendAsync(e,n))();if(Iu("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}Oi.PollingBlockTracker=ym;function xu(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Vi={},wm=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.SubscribeBlockTracker=void 0;const Sm=wm(Ra),Em=An,Rm=(0,Sm.default)();class Cm extends Em.BaseBlockTracker{constructor(e={}){if(!e.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(e),this._provider=e.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const e=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(e)}catch(e){this.emit("error",e)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(e){this.emit("error",e)}}_call(e,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:Rm(),method:e,params:r,jsonrpc:"2.0"},(s,o)=>{s?i(s):n(o.result)})})}_handleSubData(e,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}Vi.SubscribeBlockTracker=Cm;var Wh={};Object.defineProperty(Wh,"__esModule",{value:!0});(function(t){var e=B&&B.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=B&&B.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Oi,t),r(Vi,t),r(Wh,t)})(gh);var $a={},Hi={},Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.getUniqueId=void 0;const Vh=4294967295;let jo=Math.floor(Math.random()*Vh);function Im(){return jo=(jo+1)%Vh,jo}Nn.getUniqueId=Im;Object.defineProperty(Hi,"__esModule",{value:!0});Hi.createIdRemapMiddleware=void 0;const xm=Nn;function km(){return(t,e,r,n)=>{const i=t.id,s=xm.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Hi.createIdRemapMiddleware=km;var zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.createAsyncMiddleware=void 0;function Am(t){return async(e,r,n,i)=>{let s;const o=new Promise(h=>{s=h});let a=null,c=!1;const u=async()=>{c=!0,n(h=>{a=h,s()}),await o};try{await t(e,r,u),c?(await o,a(null)):i(null)}catch(h){a?a(h):i(h)}}}zi.createAsyncMiddleware=Am;var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.createScaffoldMiddleware=void 0;function Mm(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Ui.createScaffoldMiddleware=Mm;var On={},Hh={},Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.EthereumProviderError=Ht.EthereumRpcError=void 0;const Tm=yl;class zh extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Tm.default(this.serialize(),Lm,2)}}Ht.EthereumRpcError=zh;class Nm extends zh{constructor(e,r,n){if(!Om(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}Ht.EthereumProviderError=Nm;function Om(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Lm(t,e){if(e!=="[Circular]")return e}var Ba={},zt={};Object.defineProperty(zt,"__esModule",{value:!0});zt.errorValues=zt.errorCodes=void 0;zt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};zt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=zt,r=Ht,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(d,p=i){if(Number.isInteger(d)){const g=d.toString();if(l(e.errorValues,g))return e.errorValues[g].message;if(u(d))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}t.getMessageFromCode=o;function a(d){if(!Number.isInteger(d))return!1;const p=d.toString();return!!(e.errorValues[p]||u(d))}t.isValidCode=a;function c(d,{fallbackError:p=s,shouldIncludeStack:g=!1}={}){var E,w;if(!p||!Number.isInteger(p.code)||typeof p.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(d instanceof r.EthereumRpcError)return d.serialize();const _={};if(d&&typeof d=="object"&&!Array.isArray(d)&&l(d,"code")&&a(d.code)){const S=d;_.code=S.code,S.message&&typeof S.message=="string"?(_.message=S.message,l(S,"data")&&(_.data=S.data)):(_.message=o(_.code),_.data={originalError:h(d)})}else{_.code=p.code;const S=(E=d)===null||E===void 0?void 0:E.message;_.message=S&&typeof S=="string"?S:p.message,_.data={originalError:h(d)}}const y=(w=d)===null||w===void 0?void 0:w.stack;return g&&d&&y&&typeof y=="string"&&(_.stack=y),_}t.serializeError=c;function u(d){return d>=-32099&&d<=-32e3}function h(d){return d&&typeof d=="object"&&!Array.isArray(d)?Object.assign({},d):d}function l(d,p){return Object.prototype.hasOwnProperty.call(d,p)}})(Ba);var qi={};Object.defineProperty(qi,"__esModule",{value:!0});qi.ethErrors=void 0;const Fa=Ht,Uh=Ba,Oe=zt;qi.ethErrors={rpc:{parse:t=>Je(Oe.errorCodes.rpc.parse,t),invalidRequest:t=>Je(Oe.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Je(Oe.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Je(Oe.errorCodes.rpc.methodNotFound,t),internal:t=>Je(Oe.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Je(e,t)},invalidInput:t=>Je(Oe.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Je(Oe.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Je(Oe.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Je(Oe.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Je(Oe.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Je(Oe.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>sn(Oe.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>sn(Oe.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>sn(Oe.errorCodes.provider.unsupportedMethod,t),disconnected:t=>sn(Oe.errorCodes.provider.disconnected,t),chainDisconnected:t=>sn(Oe.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Fa.EthereumProviderError(e,r,n)}}};function Je(t,e){const[r,n]=qh(e);return new Fa.EthereumRpcError(t,r||Uh.getMessageFromCode(t),n)}function sn(t,e){const[r,n]=qh(e);return new Fa.EthereumProviderError(t,r||Uh.getMessageFromCode(t),n)}function qh(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=Ht;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Ba;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=qi;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=zt;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Hh);var Pm=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(On,"__esModule",{value:!0});On.JsonRpcEngine=void 0;const Dm=Pm(ur),Qe=Hh;class It extends Dm.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await It._runAllMiddleware(e,r,this._middleware);return o?(await It._runReturnHandlers(a),i(s)):n(async c=>{try{await It._runReturnHandlers(a)}catch(u){return c(u)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new Qe.EthereumRpcError(Qe.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new Qe.EthereumRpcError(Qe.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=Qe.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await It._runAllMiddleware(e,r,this._middleware);if(It._checkForCompletion(e,r,i),await It._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await It._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const u=c||r.error;u&&(r.error=Qe.serializeError(u)),s([u,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new Qe.EthereumRpcError(Qe.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof c}" for request:
${$o(e)}`,{request:e})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Qe.EthereumRpcError(Qe.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${$o(e)}`,{request:e});if(!n)throw new Qe.EthereumRpcError(Qe.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${$o(e)}`,{request:e})}}On.JsonRpcEngine=It;function $o(t){return JSON.stringify(t,null,2)}var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.mergeMiddleware=void 0;const jm=On;function $m(t){const e=new jm.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Gi.mergeMiddleware=$m;(function(t){var e=B&&B.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=B&&B.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Hi,t),r(zi,t),r(Ui,t),r(Nn,t),r(On,t),r(Gi,t)})($a);var Gh={},Wa={};const Va=Vr(vf);var Ji={};Object.defineProperty(Ji,"__esModule",{value:!0});var ku=Va,Bm=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return ku.__awaiter(this,void 0,void 0,function(){var r,n,i;return ku.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(!!r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Ji.default=Bm;Object.defineProperty(Wa,"__esModule",{value:!0});var Au=Va,Fm=Ji,Wm=function(){function t(){this._semaphore=new Fm.default(1)}return t.prototype.acquire=function(){return Au.__awaiter(this,void 0,void 0,function(){var e,r;return Au.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Wa.default=Wm;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.withTimeout=void 0;var Yn=Va;function Vm(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Yn.__awaiter(n,void 0,void 0,function(){var o,a,c;return Yn.__generator(this,function(u){switch(u.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=u.sent(),o?(c=Array.isArray(a)?a[1]:a,c()):i(a),[2]}})})})},runExclusive:function(i){return Yn.__awaiter(this,void 0,void 0,function(){var s,o;return Yn.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Qi.withTimeout=Vm;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Wa;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Ji;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Qi;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Gh);var Hm=Um,zm=Object.prototype.hasOwnProperty;function Um(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)zm.call(r,n)&&(t[n]=r[n])}return t}const qm=Hm,Gm=Ra();var Jm=J;function J(t){const e=this;e.currentProvider=t}J.prototype.getBalance=Ln(2,"eth_getBalance");J.prototype.getCode=Ln(2,"eth_getCode");J.prototype.getTransactionCount=Ln(2,"eth_getTransactionCount");J.prototype.getStorageAt=Ln(3,"eth_getStorageAt");J.prototype.call=Ln(2,"eth_call");J.prototype.protocolVersion=te("eth_protocolVersion");J.prototype.syncing=te("eth_syncing");J.prototype.coinbase=te("eth_coinbase");J.prototype.mining=te("eth_mining");J.prototype.hashrate=te("eth_hashrate");J.prototype.gasPrice=te("eth_gasPrice");J.prototype.accounts=te("eth_accounts");J.prototype.blockNumber=te("eth_blockNumber");J.prototype.getBlockTransactionCountByHash=te("eth_getBlockTransactionCountByHash");J.prototype.getBlockTransactionCountByNumber=te("eth_getBlockTransactionCountByNumber");J.prototype.getUncleCountByBlockHash=te("eth_getUncleCountByBlockHash");J.prototype.getUncleCountByBlockNumber=te("eth_getUncleCountByBlockNumber");J.prototype.sign=te("eth_sign");J.prototype.sendTransaction=te("eth_sendTransaction");J.prototype.sendRawTransaction=te("eth_sendRawTransaction");J.prototype.estimateGas=te("eth_estimateGas");J.prototype.getBlockByHash=te("eth_getBlockByHash");J.prototype.getBlockByNumber=te("eth_getBlockByNumber");J.prototype.getTransactionByHash=te("eth_getTransactionByHash");J.prototype.getTransactionByBlockHashAndIndex=te("eth_getTransactionByBlockHashAndIndex");J.prototype.getTransactionByBlockNumberAndIndex=te("eth_getTransactionByBlockNumberAndIndex");J.prototype.getTransactionReceipt=te("eth_getTransactionReceipt");J.prototype.getUncleByBlockHashAndIndex=te("eth_getUncleByBlockHashAndIndex");J.prototype.getUncleByBlockNumberAndIndex=te("eth_getUncleByBlockNumberAndIndex");J.prototype.getCompilers=te("eth_getCompilers");J.prototype.compileLLL=te("eth_compileLLL");J.prototype.compileSolidity=te("eth_compileSolidity");J.prototype.compileSerpent=te("eth_compileSerpent");J.prototype.newFilter=te("eth_newFilter");J.prototype.newBlockFilter=te("eth_newBlockFilter");J.prototype.newPendingTransactionFilter=te("eth_newPendingTransactionFilter");J.prototype.uninstallFilter=te("eth_uninstallFilter");J.prototype.getFilterChanges=te("eth_getFilterChanges");J.prototype.getFilterLogs=te("eth_getFilterLogs");J.prototype.getLogs=te("eth_getLogs");J.prototype.getWork=te("eth_getWork");J.prototype.submitWork=te("eth_submitWork");J.prototype.submitHashrate=te("eth_submitHashrate");J.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(Qm(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function te(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function Ln(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function Qm(t){return qm({id:Gm(),jsonrpc:"2.0",params:[]},t)}const Mu=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...u)=>{e.errorFirst?u[0]?a(u):(u.shift(),o(u)):o(u)}):e.errorFirst?i.push((u,h)=>{u?a(u):o(h)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Tu=new WeakMap;var Zm=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let c=Tu.get(o);if(c||(c={},Tu.set(o,c)),a in c)return c[a];const u=g=>typeof g=="string"||typeof a=="symbol"?a===g:g.test(a),h=Reflect.getOwnPropertyDescriptor(o,a),l=h===void 0||h.writable||h.configurable,p=(e.include?e.include.some(u):!e.exclude.some(u))&&l;return c[a]=p,p},i=new WeakMap,s=new Proxy(t,{apply(o,a,c){const u=i.get(o);if(u)return Reflect.apply(u,a,c);const h=e.excludeMain?o:Mu(o,e,s,o);return i.set(o,h),Reflect.apply(h,a,c)},get(o,a){const c=o[a];if(!n(o,a)||c===Function.prototype[a])return c;const u=i.get(c);if(u)return u;if(typeof c=="function"){const h=Mu(c,e,s,o);return i.set(c,h),h}return c}});return s};const Ym=ur.default;class Km extends Ym{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}}var Ha=Km;const Xm=Ha;class ev extends Xm{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}}var tv=ev,Pn={minBlockRef:rv,maxBlockRef:nv,sortBlockRefs:za,bnToHex:iv,blockRefIsNumber:sv,hexToInt:di,incrementHexInt:ov,intToHex:Jh,unsafeRandomBytes:av};function rv(...t){return za(t)[0]}function nv(...t){const e=za(t);return e[e.length-1]}function za(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:di(e)-di(r))}function iv(t){return"0x"+t.toString(16)}function sv(t){return t&&!["earliest","latest","pending"].includes(t)}function di(t){return t==null?t:Number.parseInt(t,16)}function ov(t){if(t==null)return t;const e=di(t);return Jh(e+1)}function Jh(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function av(t){let e="0x";for(let r=0;r<t;r++)e+=Nu(),e+=Nu();return e}function Nu(){return Math.floor(Math.random()*16).toString(16)}const cv=Jm,uv=Zm,lv=tv,{bnToHex:A5,hexToInt:Kn,incrementHexInt:hv,minBlockRef:dv,blockRefIsNumber:fv}=Pn;class pv extends lv{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new cv(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=dv(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=hv(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(c=>this.matchLog(c));this.addResults(a)}async _fetchLogs(e){return await uv(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Kn(this.params.fromBlock)>=Kn(e.blockNumber)||fv(this.params.toBlock)&&Kn(this.params.toBlock)<=Kn(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(h=>h.toLowerCase()),a.includes(o))})}}var bv=pv,Ua=gv;async function gv({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Ou(e),s=Ou(r)-n+1,o=Array(s).fill().map((c,u)=>n+u).map(_v);return await Promise.all(o.map(c=>vv(t,"eth_getBlockByNumber",[c,!1])))}function Ou(t){return t==null?t:Number.parseInt(t,16)}function _v(t){return t==null?t:"0x"+t.toString(16)}function mv(t,e){return new Promise((r,n)=>{t.sendAsync(e,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function vv(t,e,r){for(let n=0;n<3;n++)try{return await mv(t,{id:1,jsonrpc:"2.0",method:e,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}throw new Error(`Block not found for params: ${JSON.stringify(r)}`)}const yv=Ha,wv=Ua,{incrementHexInt:Sv}=Pn;class Ev extends yv{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=Sv(e),o=(await wv({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}}var Rv=Ev;const Cv=Ha,Iv=Ua,{incrementHexInt:xv}=Pn;class kv extends Cv{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=xv(e),i=await Iv({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}}var Av=kv;const Mv=Gh.Mutex,{createAsyncMiddleware:Tv,createScaffoldMiddleware:Nv}=$a,Ov=bv,Lv=Rv,Pv=Av,{intToHex:Qh,hexToInt:Bo}=Pn;var Dv=jv;function jv({blockTracker:t,provider:e}){let r=0,n={};const i=new Mv,s=$v({mutex:i}),o=Nv({eth_newFilter:s(Fo(c)),eth_newBlockFilter:s(Fo(u)),eth_newPendingTransactionFilter:s(Fo(h)),eth_uninstallFilter:s(oi(p)),eth_getFilterChanges:s(oi(l)),eth_getFilterLogs:s(oi(d))}),a=async({oldBlock:y,newBlock:S})=>{if(n.length===0)return;const C=await i.acquire();try{await Promise.all(vr(n).map(async R=>{try{await R.update({oldBlock:y,newBlock:S})}catch(N){console.error(N)}}))}catch(R){console.error(R)}C()};return o.newLogFilter=c,o.newBlockFilter=u,o.newPendingTransactionFilter=h,o.uninstallFilter=p,o.getFilterChanges=l,o.getFilterLogs=d,o.destroy=()=>{w()},o;async function c(y){const S=new Ov({provider:e,params:y});return await g(S),S}async function u(){const y=new Lv({provider:e});return await g(y),y}async function h(){const y=new Pv({provider:e});return await g(y),y}async function l(y){const S=Bo(y),C=n[S];if(!C)throw new Error(`No filter for index "${S}"`);return C.getChangesAndClear()}async function d(y){const S=Bo(y),C=n[S];if(!C)throw new Error(`No filter for index "${S}"`);let R=[];return C.type==="log"&&(R=C.getAllResults()),R}async function p(y){const S=Bo(y),C=n[S],R=Boolean(C);return R&&await E(S),R}async function g(y){const S=vr(n).length,C=await t.getLatestBlock();await y.initialize({currentBlock:C}),r++,n[r]=y,y.id=r,y.idHex=Qh(r);const R=vr(n).length;return _({prevFilterCount:S,newFilterCount:R}),r}async function E(y){const S=vr(n).length;delete n[y];const C=vr(n).length;_({prevFilterCount:S,newFilterCount:C})}async function w(){const y=vr(n).length;n={},_({prevFilterCount:y,newFilterCount:0})}function _({prevFilterCount:y,newFilterCount:S}){if(y===0&&S>0){t.on("sync",a);return}if(y>0&&S===0){t.removeListener("sync",a);return}}}function Fo(t){return oi(async(...e)=>{const r=await t(...e);return Qh(r.id)})}function oi(t){return Tv(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function $v({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function vr(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const Bv=ur.default,{createAsyncMiddleware:Lu,createScaffoldMiddleware:Fv}=$a,Wv=Dv,{unsafeRandomBytes:Vv,incrementHexInt:Hv}=Pn,zv=Ua;var Uv=qv;function qv({blockTracker:t,provider:e}){const r={},n=Wv({blockTracker:t,provider:e});let i=!1;const s=new Bv,o=Fv({eth_subscribe:Lu(a),eth_unsubscribe:Lu(c)});return o.destroy=h,{events:s,middleware:o};async function a(l,d){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const p=l.params[0],g=Vv(16);let E;switch(p){case"newHeads":E=w({subId:g});break;case"logs":const y=l.params[1],S=await n.newLogFilter(y);E=_({subId:g,filter:S});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${p}"`)}r[g]=E,d.result=g;return;function w({subId:y}){const S={type:p,destroy:async()=>{t.removeListener("sync",S.update)},update:async({oldBlock:C,newBlock:R})=>{const N=R,W=Hv(C);(await zv({provider:e,fromBlock:W,toBlock:N})).map(Gv).filter(U=>U!==null).forEach(U=>{u(y,U)})}};return t.on("sync",S.update),S}function _({subId:y,filter:S}){return S.on("update",R=>u(y,R)),{type:p,destroy:async()=>await n.uninstallFilter(S.idHex)}}}async function c(l,d){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const p=l.params[0],g=r[p];if(!g){d.result=!1;return}delete r[p],await g.destroy(),d.result=!0}function u(l,d){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:l,result:d}})}function h(){s.removeAllListeners();for(const l in r)r[l].destroy(),delete r[l];i=!0}}function Gv(t){return t==null?null:{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Ni,"__esModule",{value:!0});Ni.SubscriptionManager=void 0;const Jv=gh,Qv=Uv,Pu=()=>{};class Zv{constructor(e){const r=new Jv.PollingBlockTracker({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=Qv({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Pu,Pu),r}destroy(){this.subscriptionMiddleware.destroy()}}Ni.SubscriptionManager=Zv;var qa=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kr,"__esModule",{value:!0});kr.CoinbaseWalletProvider=void 0;const Yv=qa(ur),Kv=qa(vi.exports),Wo=Hr,he=wn,Du=Ur,ju=ct,Vo=Ri,Xv=fe,K=F,Ho=qa(Tb),ey=Tr,se=bh,ty=Ni,$u="DefaultChainId",Bu="DefaultJsonRpcUrl";class ry extends Yv.default{constructor(e){var r,n;super(),this._filterPolyfill=new ey.FilterPolyfill(this),this._subscriptionManager=new ty.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl;const i=this.getChainId(),s=(0,K.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(ju.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(c=>(0,K.ensureAddressString)(c)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",a=>{var c;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="dappChainSwitched"){const u=a.data.data.chainId,h=(c=a.data.data.jsonRpcUrl)!==null&&c!==void 0?c:this.jsonRpcUrl;this.updateProviderInfo(h,Number(u))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,K.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Bu))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Bu,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem($u,r.toString(10)),((0,K.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o?.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,c;if((0,K.ensureIntNumber)(e)===this.getChainId())return!1;const u=await this.initializeRelay(),h=u.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!h&&await u.requestEthereumAccounts().promise;const l=await u.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=l.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((c=l.result)===null||c===void 0?void 0:c.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if((0,Xv.isErrorResponse)(n)&&n.errorCode)throw n.errorCode===he.standardErrorCodes.provider.unsupportedChain?he.standardErrors.provider.unsupportedChain(e):he.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Wo.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Du.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send(se.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){try{const n=this._send(e,r);if(n instanceof Promise)return n.catch(i=>{throw(0,he.serializeError)(i,e)})}catch(n){throw(0,he.serializeError)(n,e)}}_send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){try{return this._sendAsync(e,r).catch(n=>{throw(0,he.serializeError)(n,e)})}catch(n){return Promise.reject((0,he.serializeError)(n,e))}}async _sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){try{return this._request(e).catch(r=>{throw(0,he.serializeError)(r,e.method)})}catch(r){return Promise.reject((0,he.serializeError)(r,e.method))}}async _request(e){if(!e||typeof e!="object"||Array.isArray(e))throw he.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw he.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw he.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){var r;const i=await(await this.initializeRelay()).scanQRCode((0,K.ensureRegExpString)(e)).promise;if(typeof i.result!="string")throw(0,he.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Vo.Web3Method.scanQRCode);return i.result}async genericRequest(e,r){var n;const s=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof s.result!="string")throw(0,he.serializeError)((n=s.errorMessage)!==null&&n!==void 0?n:"result was not a string",Vo.Web3Method.generic);return s.result}async selectProvider(e){var r;const i=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof i.result!="string")throw(0,he.serializeError)((r=i.errorMessage)!==null&&r!==void 0?r:"result was not a string",Vo.Web3Method.selectProvider);return i.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,K.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(ju.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case se.JSONRPCMethod.eth_accounts:return this._eth_accounts();case se.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case se.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case se.JSONRPCMethod.net_version:return this._net_version();case se.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case se.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case se.JSONRPCMethod.eth_sign:return this._eth_sign(n);case se.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case se.JSONRPCMethod.personal_sign:return this._personal_sign(n);case se.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case se.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case se.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case se.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case se.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case se.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case se.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case se.JSONRPCMethod.eth_signTypedData_v4:case se.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case se.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case se.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case se.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case se.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case se.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case se.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case se.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case se.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case se.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case se.JSONRPCMethod.eth_subscribe:case se.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,K.ensureAddressString)(e);return this._addresses.map(i=>(0,K.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Wo.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,K.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,K.ensureAddressString)(e.to):null,i=e.value!=null?(0,K.ensureBN)(e.value):new Kv.default(0),s=e.data?(0,K.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,K.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,K.ensureBN)(e.gasPrice):null,c=e.maxFeePerGas!=null?(0,K.ensureBN)(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?(0,K.ensureBN)(e.maxPriorityFeePerGas):null,h=e.gas!=null?(0,K.ensureBN)(e.gas):null,l=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:u,gasLimit:h,chainId:l}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw he.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw he.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?he.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,K.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem($u);if(!e)return(0,K.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,K.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Wo.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Du.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?he.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,K.ensureAddressString)(e[0]),n=(0,K.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,K.ensureBuffer)(e[0]),n=(0,K.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,K.ensureBuffer)(e[0]),n=(0,K.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,K.ensureBuffer)(e[0]),n=(0,K.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?he.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,K.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?he.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,K.ensureParsedJSONObject)(e[0]),n=(0,K.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Ho.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,K.ensureAddressString)(e[0]),n=(0,K.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ho.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,K.ensureAddressString)(e[0]),n=(0,K.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ho.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw he.standardErrors.rpc.invalidParams("chainName is a required field");if(!o.nativeCurrency)throw he.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw he.standardErrors.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw he.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw he.standardErrors.rpc.invalidParams("Options are required");if(!r?.options.address)throw he.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,K.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,K.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,K.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}kr.CoinbaseWalletProvider=ry;var Zi={},Yi={},Dn,ue,Zh,Yh,tr,Fu,Kh,ta,Xh,_n={},Ga=[],ny=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ki=Array.isArray;function kt(t,e){for(var r in e)t[r]=e[r];return t}function ed(t){var e=t.parentNode;e&&e.removeChild(t)}function ra(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Dn.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return hn(t,o,n,i,null)}function hn(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i??++Zh,__i:-1,__u:0};return i==null&&ue.vnode!=null&&ue.vnode(s),s}function iy(){return{current:null}}function jn(t){return t.children}function dn(t,e){this.props=t,this.context=e}function Lr(t,e){if(e==null)return t.__?Lr(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Lr(t):null}function sy(t,e,r){var n,i=t.__v,s=i.__e,o=t.__P;if(o)return(n=kt({},i)).__v=i.__v+1,ue.vnode&&ue.vnode(n),Ja(o,n,i,t.__n,o.ownerSVGElement!==void 0,32&i.__u?[s]:null,e,s??Lr(i),!!(32&i.__u),r),n.__v=i.__v,n.__.__k[n.__i]=n,n.__d=void 0,n.__e!=s&&td(n),n}function td(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return td(t)}}function na(t){(!t.__d&&(t.__d=!0)&&tr.push(t)&&!fi.__r++||Fu!==ue.debounceRendering)&&((Fu=ue.debounceRendering)||Kh)(fi)}function fi(){var t,e,r,n=[],i=[];for(tr.sort(ta);t=tr.shift();)t.__d&&(r=tr.length,e=sy(t,n,i)||e,r===0||tr.length>r?(ia(n,e,i),i.length=n.length=0,e=void 0,tr.sort(ta)):e&&ue.__c&&ue.__c(e,Ga));e&&ia(n,e,i),fi.__r=0}function rd(t,e,r,n,i,s,o,a,c,u,h){var l,d,p,g,E,w=n&&n.__k||Ga,_=e.length;for(r.__d=c,oy(r,e,w),c=r.__d,l=0;l<_;l++)(p=r.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(d=p.__i===-1?_n:w[p.__i]||_n,p.__i=l,Ja(t,p,d,i,s,o,a,c,u,h),g=p.__e,p.ref&&d.ref!=p.ref&&(d.ref&&Qa(d.ref,null,p),h.push(p.ref,p.__c||g,p)),E==null&&g!=null&&(E=g),65536&p.__u||d.__k===p.__k?c=nd(p,c,t):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:g&&(c=g.nextSibling),p.__d=void 0,p.__u&=-196609);r.__d=c,r.__e=E}function oy(t,e,r){var n,i,s,o,a,c=e.length,u=r.length,h=u,l=0;for(t.__k=[],n=0;n<c;n++)(i=t.__k[n]=(i=e[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?hn(null,i,null,null,i):Ki(i)?hn(jn,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?hn(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=t,i.__b=t.__b+1,a=ay(i,r,o=n+l,h),i.__i=a,s=null,a!==-1&&(h--,(s=r[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&l--,typeof i.type!="function"&&(i.__u|=65536)):a!==o&&(a===o+1?l++:a>o?h>c-o?l+=a-o:l--:l=a<o&&a==o-1?a-o:0,a!==n+l&&(i.__u|=65536))):(s=r[n])&&s.key==null&&s.__e&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=Lr(s)),sa(s,s,!1),r[n]=null,h--);if(h)for(n=0;n<u;n++)(s=r[n])!=null&&(131072&s.__u)==0&&(s.__e==t.__d&&(t.__d=Lr(s)),sa(s,s))}function nd(t,e,r){var n,i;if(typeof t.type=="function"){for(n=t.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=t,e=nd(n[i],e,r));return e}t.__e!=e&&(r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function id(t,e){return e=e||[],t==null||typeof t=="boolean"||(Ki(t)?t.some(function(r){id(r,e)}):e.push(t)),e}function ay(t,e,r,n){var i=t.key,s=t.type,o=r-1,a=r+1,c=e[r];if(c===null||c&&i==c.key&&s===c.type)return r;if(n>(c!=null&&(131072&c.__u)==0?1:0))for(;o>=0||a<e.length;){if(o>=0){if((c=e[o])&&(131072&c.__u)==0&&i==c.key&&s===c.type)return o;o--}if(a<e.length){if((c=e[a])&&(131072&c.__u)==0&&i==c.key&&s===c.type)return a;a++}}return-1}function Wu(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||ny.test(e)?r:r+"px"}function Xn(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Wu(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Wu(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=Date.now(),t.addEventListener(e,s?Hu:Vu,s)):t.removeEventListener(e,s?Hu:Vu,s);else{if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e!=="role"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,r))}}function Vu(t){if(this.l){var e=this.l[t.type+!1];if(t.t){if(t.t<=e.u)return}else t.t=Date.now();return e(ue.event?ue.event(t):t)}}function Hu(t){if(this.l)return this.l[t.type+!0](ue.event?ue.event(t):t)}function Ja(t,e,r,n,i,s,o,a,c,u){var h,l,d,p,g,E,w,_,y,S,C,R,N,W,$,A=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(c=!!(32&r.__u),s=[a=e.__e=r.__e]),(h=ue.__b)&&h(e);e:if(typeof A=="function")try{if(_=e.props,y=(h=A.contextType)&&n[h.__c],S=h?y?y.props.value:h.__:n,r.__c?w=(l=e.__c=r.__c).__=l.__E:("prototype"in A&&A.prototype.render?e.__c=l=new A(_,S):(e.__c=l=new dn(_,S),l.constructor=A,l.render=uy),y&&y.sub(l),l.props=_,l.state||(l.state={}),l.context=S,l.__n=n,d=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),A.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=kt({},l.__s)),kt(l.__s,A.getDerivedStateFromProps(_,l.__s))),p=l.props,g=l.state,l.__v=e,d)A.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(A.getDerivedStateFromProps==null&&_!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(_,S),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(_,l.__s,S)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(l.props=_,l.state=l.__s,l.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(U){U&&(U.__=e)}),C=0;C<l._sb.length;C++)l.__h.push(l._sb[C]);l._sb=[],l.__h.length&&o.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(_,l.__s,S),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,g,E)})}if(l.context=S,l.props=_,l.__P=t,l.__e=!1,R=ue.__r,N=0,"prototype"in A&&A.prototype.render){for(l.state=l.__s,l.__d=!1,R&&R(e),h=l.render(l.props,l.state,l.context),W=0;W<l._sb.length;W++)l.__h.push(l._sb[W]);l._sb=[]}else do l.__d=!1,R&&R(e),h=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++N<25);l.state=l.__s,l.getChildContext!=null&&(n=kt(kt({},n),l.getChildContext())),d||l.getSnapshotBeforeUpdate==null||(E=l.getSnapshotBeforeUpdate(p,g)),rd(t,Ki($=h!=null&&h.type===jn&&h.key==null?h.props.children:h)?$:[$],e,r,n,i,s,o,a,c,u),l.base=e.__e,e.__u&=-161,l.__h.length&&o.push(l),w&&(l.__E=l.__=null)}catch(U){e.__v=null,c||s!=null?(e.__e=a,e.__u|=c?160:32,s[s.indexOf(a)]=null):(e.__e=r.__e,e.__k=r.__k),ue.__e(U,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=cy(r.__e,e,r,n,i,s,o,c,u);(h=ue.diffed)&&h(e)}function ia(t,e,r){for(var n=0;n<r.length;n++)Qa(r[n],r[++n],r[++n]);ue.__c&&ue.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){ue.__e(s,i.__v)}})}function cy(t,e,r,n,i,s,o,a,c){var u,h,l,d,p,g,E,w=r.props,_=e.props,y=e.type;if(y==="svg"&&(i=!0),s!=null){for(u=0;u<s.length;u++)if((p=s[u])&&"setAttribute"in p==!!y&&(y?p.localName===y:p.nodeType===3)){t=p,s[u]=null;break}}if(t==null){if(y===null)return document.createTextNode(_);t=i?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,_.is&&_),s=null,a=!1}if(y===null)w===_||a&&t.data===_||(t.data=_);else{if(s=s&&Dn.call(t.childNodes),w=r.props||_n,!a&&s!=null)for(w={},u=0;u<t.attributes.length;u++)w[(p=t.attributes[u]).name]=p.value;for(u in w)p=w[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in _||Xn(t,u,null,p,i));for(u in _)p=_[u],u=="children"?d=p:u=="dangerouslySetInnerHTML"?h=p:u=="value"?g=p:u=="checked"?E=p:u==="key"||a&&typeof p!="function"||w[u]===p||Xn(t,u,p,w[u],i);if(h)a||l&&(h.__html===l.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(l&&(t.innerHTML=""),rd(t,Ki(d)?d:[d],e,r,n,i&&y!=="foreignObject",s,o,s?s[0]:r.__k&&Lr(r,0),a,c),s!=null)for(u=s.length;u--;)s[u]!=null&&ed(s[u]);a||(u="value",g!==void 0&&(g!==t[u]||y==="progress"&&!g||y==="option"&&g!==w[u])&&Xn(t,u,g,w[u],!1),u="checked",E!==void 0&&E!==t[u]&&Xn(t,u,E,w[u],!1))}return t}function Qa(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ue.__e(n,r)}}function sa(t,e,r){var n,i;if(ue.unmount&&ue.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Qa(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){ue.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&sa(n[i],e,r||typeof t.type!="function");r||t.__e==null||ed(t.__e),t.__=t.__e=t.__d=void 0}function uy(t,e,r){return this.constructor(t,r)}function sd(t,e,r){var n,i,s,o;ue.__&&ue.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],o=[],Ja(e,t=(!n&&r||e).__k=ra(jn,null,[t]),i||_n,_n,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Dn.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n,o),t.__d=void 0,ia(s,t,o)}function od(t,e){sd(t,e,od)}function ly(t,e,r){var n,i,s,o,a=kt({},t.props);for(s in t.type&&t.type.defaultProps&&(o=t.type.defaultProps),e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s]===void 0&&o!==void 0?o[s]:e[s];return arguments.length>2&&(a.children=arguments.length>3?Dn.call(arguments,2):r),hn(t.type,a,n||t.key,i||t.ref,null)}function hy(t,e){var r={__c:e="__cC"+Xh++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,na(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Dn=Ga.slice,ue={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Zh=0,Yh=function(t){return t!=null&&t.constructor==null},dn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=kt({},this.state),typeof t=="function"&&(t=t(kt({},r),this.props)),t&&kt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),na(this))},dn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),na(this))},dn.prototype.render=jn,tr=[],Kh=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ta=function(t,e){return t.__v.__b-e.__v.__b},fi.__r=0,Xh=0;const dy=Object.freeze(Object.defineProperty({__proto__:null,Component:dn,Fragment:jn,cloneElement:ly,createContext:hy,createElement:ra,createRef:iy,h:ra,hydrate:od,get isValidElement(){return Yh},get options(){return ue},render:sd,toChildArray:id},Symbol.toStringTag,{value:"Module"})),qe=Vr(dy);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var oa=function(t,e){return oa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},oa(t,e)};function I(t,e){oa(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Pr(t){return typeof t=="function"}var zu=!1,Ye={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}zu=t},get useDeprecatedSynchronousErrorHandling(){return zu}};function Er(t){setTimeout(function(){throw t},0)}var pi={closed:!0,next:function(t){},error:function(t){if(Ye.useDeprecatedSynchronousErrorHandling)throw t;Er(t)},complete:function(){}},Be=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function Za(t){return t!==null&&typeof t=="object"}var fy=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),fn=fy,ve=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var c=n[a];c.remove(this)}if(Pr(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(l){e=l instanceof fn?Uu(l.errors):[l]}}if(Be(o))for(var a=-1,u=o.length;++a<u;){var h=o[a];if(Za(h))try{h.unsubscribe()}catch(d){e=e||[],d instanceof fn?e=e.concat(Uu(d.errors)):e.push(d)}}if(e)throw new fn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Uu(t){return t.reduce(function(e,r){return e.concat(r instanceof fn?r.errors:r)},[])}var bi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),H=function(t){I(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=pi;break;case 1:if(!r){s.destination=pi;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new qu(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new qu(s,r,n,i);break}return s}return e.prototype[bi]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(ve),qu=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,c=o;return Pr(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==pi&&(c=Object.create(n),Pr(c.unsubscribe)&&o.add(c.unsubscribe.bind(c)),c.unsubscribe=o.unsubscribe.bind(o))),o._context=c,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Ye.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Ye.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):Er(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;Er(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Ye.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Ye.useDeprecatedSynchronousErrorHandling)throw i;Er(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Ye.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Ye.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(Er(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(H);function Ya(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof H?t=n:t=null}return!0}function py(t,e,r){if(t){if(t instanceof H)return t;if(t[bi])return t[bi]()}return!t&&!e&&!r?new H(pi):new H(t,e,r)}var Zr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Ut(t){return t}function aa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ad(t)}function ad(t){return t.length===0?Ut:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var X=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=py(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Ye.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ye.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Ye.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Ya(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Gu(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(c){s(c),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Zr]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:ad(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Gu(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Gu(t){if(t||(t=Ye.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var by=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Bt=by,cd=function(t){I(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(ve),ud=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(H),ke=function(t){I(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[bi]=function(){return new ud(this)},e.prototype.lift=function(r){var n=new Ju(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new Bt;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new Bt;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Bt;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new Bt;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new Bt;return this.hasError?(r.error(this.thrownError),ve.EMPTY):this.isStopped?(r.complete(),ve.EMPTY):(this.observers.push(r),new cd(this,r))},e.prototype.asObservable=function(){var r=new X;return r.source=this,r},e.create=function(r,n){return new Ju(r,n)},e}(X),Ju=function(t){I(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):ve.EMPTY},e}(ke);function Ka(){return function(e){return e.lift(new gy(e))}}var gy=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new _y(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),_y=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(H),ld=function(t){I(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new ve,r.add(this.source.subscribe(new vy(this.getSubject(),this))),r.closed&&(this._connection=null,r=ve.EMPTY)),r},e.prototype.refCount=function(){return Ka()(this)},e}(X),my=function(){var t=ld.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),vy=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(ud);function yy(t,e,r,n){return function(i){return i.lift(new wy(t,e,r,n))}}var wy=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new Sy(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),Sy=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(u){this.error(u)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new ke,i.set(n,s);var a=new ca(n,s,this);if(this.destination.next(a),this.durationSelector){var c=void 0;try{c=this.durationSelector(new ca(n,s))}catch(u){this.error(u);return}this.add(c.subscribe(new Ey(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(H),Ey=function(t){I(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(H),ca=function(t){I(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new ve,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new Ry(s)),n.add(o.subscribe(r)),n},e}(X),Ry=function(t){I(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(ve),hd=function(t){I(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Bt;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(ke),Cy=function(t){I(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ve),$n=function(t){I(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(Cy),Iy=function(t){I(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}($n),ua=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),Bn=function(t){I(e,t);function e(r,n){n===void 0&&(n=ua.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(ua),xy=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Bn),dd=new xy(Iy),fd=dd,Dr=new X(function(t){return t.complete()});function Yr(t){return t?ky(t):Dr}function ky(t){return new X(function(e){return t.schedule(function(){return e.complete()})})}function Ue(t){return t&&typeof t.schedule=="function"}var pd=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Xa(t,e){return new X(function(r){var n=new ve,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function Fn(t,e){return e?Xa(t,e):new X(pd(t))}function Xi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ue(r)?(t.pop(),Xa(t,r)):Fn(t)}function ec(t,e){return e?new X(function(r){return e.schedule(Ay,0,{error:t,subscriber:r})}):new X(function(r){return r.error(t)})}function Ay(t){var e=t.error,r=t.subscriber;r.error(e)}var la;la||(la={});var At=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return Xi(this.value);case"E":return ec(this.error);case"C":return Yr()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function My(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Ty(t,e))}}var Ty=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new bd(e,this.scheduler,this.delay))},t}(),bd=function(t){I(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Ny(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(At.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(At.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(At.createComplete()),this.unsubscribe()},e}(H),Ny=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),tc=function(t){I(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new Oy(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new Bt;if(this.isStopped||this.hasError?a=ve.EMPTY:(this.observers.push(r),a=new cd(this,r)),s&&r.add(r=new bd(r,s)),n)for(var c=0;c<o&&!r.closed;c++)r.next(i[c]);else for(var c=0;c<o&&!r.closed;c++)r.next(i[c].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||fd).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(ke),Oy=function(){function t(e,r){this.time=e,this.value=r}return t}(),Kr=function(t){I(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),ve.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),ve.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(ke),Ly=1,Py=function(){return Promise.resolve()}(),ha={};function Qu(t){return t in ha?(delete ha[t],!0):!1}var Zu={setImmediate:function(t){var e=Ly++;return ha[e]=!0,Py.then(function(){return Qu(e)&&t()}),e},clearImmediate:function(t){Qu(t)}},Dy=function(t){I(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=Zu.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(Zu.clearImmediate(n),r.scheduled=void 0)},e}($n),jy=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Bn),gd=new jy(Dy),ai=gd,_d=new Bn($n),Fe=_d,$y=function(t){I(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}($n),By=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(Bn),md=new By($y),Fy=md,Wy=function(t){I(e,t);function e(r,n){r===void 0&&(r=vd),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(Bn),vd=function(t){I(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}($n);function _t(){}function Vy(t){return!!t&&(t instanceof X||typeof t.lift=="function"&&typeof t.subscribe=="function")}var Hy=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),jr=Hy,zy=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),Wn=zy,Uy=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),yd=Uy;function rt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new qy(t,e))}}var qy=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Gy(e,this.project,this.thisArg))},t}(),Gy=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(H);function wd(t,e,r){if(e)if(Ue(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return wd(t,r).apply(void 0,n).pipe(rt(function(s){return Be(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new X(function(c){if(r){var h={args:n,subscriber:c,params:a};return r.schedule(Jy,0,h)}else{if(!o){o=new Kr;var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];o.next(l.length<=1?l[0]:l),o.complete()};try{t.apply(s,n.concat([u]))}catch(l){Ya(o)?o.error(l):console.warn(l)}}return o.subscribe(c)}})}}function Jy(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,c=i.subject;if(!c){c=i.subject=new Kr;var u=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];var d=h.length<=1?h[0]:h;e.add(a.schedule(Qy,0,{value:d,subject:c}))};try{s.apply(o,r.concat([u]))}catch(h){c.error(h)}}this.add(c.subscribe(n))}function Qy(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Sd(t,e,r){if(e)if(Ue(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Sd(t,r).apply(void 0,n).pipe(rt(function(s){return Be(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new X(function(o){var a=s.context,c=s.subject;if(r)return r.schedule(Zy,0,{params:s,subscriber:o,context:a});if(!c){c=s.subject=new Kr;var u=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];var d=h.shift();if(d){c.error(d);return}c.next(h.length<=1?h[0]:h),c.complete()};try{t.apply(a,n.concat([u]))}catch(h){Ya(c)?c.error(h):console.warn(h)}}return c.subscribe(o)})}}function Zy(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,c=r.subject;if(!c){c=r.subject=new Kr;var u=function(){for(var h=[],l=0;l<arguments.length;l++)h[l]=arguments[l];var d=h.shift();if(d)e.add(a.schedule(Yu,0,{err:d,subject:c}));else{var p=h.length<=1?h[0]:h;e.add(a.schedule(Yy,0,{value:p,subject:c}))}};try{s.apply(i,o.concat([u]))}catch(h){this.add(a.schedule(Yu,0,{err:h,subject:c}))}}this.add(c.subscribe(n))}function Yy(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Yu(t){var e=t.err,r=t.subject;r.error(e)}var fr=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(H),Ky=function(t){I(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(H),Xy=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,Er),e}};function ew(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qt=ew(),tw=function(t){return function(e){var r=t[qt]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},rw=function(t){return function(e){var r=t[Zr]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Ed=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Rd(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var mn=function(t){if(!!t&&typeof t[Zr]=="function")return rw(t);if(Ed(t))return pd(t);if(Rd(t))return Xy(t);if(!!t&&typeof t[qt]=="function")return tw(t);var e=Za(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Tt(t,e,r,n,i){if(i===void 0&&(i=new Ky(t,r,n)),!i.closed)return e instanceof X?e.subscribe(i):mn(e)(i)}var Ku={};function nw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Ue(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Be(t[0])&&(t=t[0]),Fn(t,n).lift(new rc(r))}var rc=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new iw(e,this.resultSelector))},t}(),iw=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(Ku),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Tt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===Ku?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(fr);function sw(t,e){return new X(function(r){var n=new ve;return n.add(e.schedule(function(){var i=t[Zr]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function ow(t,e){return new X(function(r){var n=new ve;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function aw(t,e){if(!t)throw new Error("Iterable cannot be null");return new X(function(r){var n=new ve,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[qt](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(c){r.error(c);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function cw(t){return t&&typeof t[Zr]=="function"}function uw(t){return t&&typeof t[qt]=="function"}function Cd(t,e){if(t!=null){if(cw(t))return sw(t,e);if(Rd(t))return ow(t,e);if(Ed(t))return Xa(t,e);if(uw(t)||typeof t=="string")return aw(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Ot(t,e){return e?Cd(t,e):t instanceof X?t:new X(mn(t))}var ye=function(t){I(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(H),we=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(H);function Se(t,e){if(!e.closed){if(t instanceof X)return t.subscribe(e);var r;try{r=mn(t)(e)}catch(n){e.error(n)}return r}}function sr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(sr(function(i,s){return Ot(t(i,s)).pipe(rt(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new lw(t,r))})}var lw=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new hw(e,this.project,this.concurrent))},t}(),hw=function(t){I(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new ye(this),i=this.destination;i.add(n);var s=Se(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(we),dw=sr;function nc(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),sr(Ut,t)}function Id(){return nc(1)}function vn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Id()(Xi.apply(void 0,t))}function ic(t){return new X(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Ot(r):Yr();return n.subscribe(e)})}function fw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(Be(r))return ei(r,null);if(Za(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return ei(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&Be(t[0])?t[0]:t,ei(t,null).pipe(rt(function(s){return i.apply(void 0,s)}))}return ei(t,null)}function ei(t,e){return new X(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(u){var h=Ot(t[u]),l=!1;r.add(h.subscribe({next:function(d){l||(l=!0,o++),i[u]=d},error:function(d){return r.error(d)},complete:function(){s++,(s===n||!l)&&(o===n&&r.next(e?e.reduce(function(d,p,g){return d[p]=i[g],d},{}):i),r.complete())}}))},c=0;c<n;c++)a(c)})}function xd(t,e,r,n){return Pr(r)&&(n=r,r=void 0),n?xd(t,e,r).pipe(rt(function(i){return Be(i)?n.apply(void 0,i):n(i)})):new X(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}kd(t,e,s,i,r)})}function kd(t,e,r,n,i){var s;if(gw(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(bw(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(pw(t)){var c=t;t.addListener(e,r),s=function(){return c.removeListener(e,r)}}else if(t&&t.length)for(var u=0,h=t.length;u<h;u++)kd(t[u],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function pw(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function bw(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function gw(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Ad(t,e,r){return r?Ad(t,e).pipe(rt(function(n){return Be(n)?r.apply(void 0,n):r(n)})):new X(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(!!Pr(e))return function(){return e(i,s)}})}function _w(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||Ut,i=a.scheduler}else n===void 0||Ue(n)?(o=t,s=Ut,i=n):(o=t,s=n);return new X(function(c){var u=o;if(i)return i.schedule(mw,0,{subscriber:c,iterate:r,condition:e,resultSelector:s,state:u});do{if(e){var h=void 0;try{h=e(u)}catch(d){c.error(d);return}if(!h){c.complete();break}}var l=void 0;try{l=s(u)}catch(d){c.error(d);return}if(c.next(l),c.closed)break;try{u=r(u)}catch(d){c.error(d);return}}while(!0)})}function mw(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function vw(t,e,r){return e===void 0&&(e=Dr),r===void 0&&(r=Dr),ic(function(){return t()?e:r})}function $r(t){return!Be(t)&&t-parseFloat(t)+1>=0}function yw(t,e){return t===void 0&&(t=0),e===void 0&&(e=Fe),(!$r(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=Fe),new X(function(r){return r.add(e.schedule(ww,t,{subscriber:r,counter:0,period:t})),r})}function ww(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Md(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Ue(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof X?t[0]:nc(r)(Fn(t,n))}var Td=new X(_t);function Sw(){return Td}function da(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Dr;var r=t[0],n=t.slice(1);return t.length===1&&Be(r)?da.apply(void 0,r):new X(function(i){var s=function(){return i.add(da.apply(void 0,n).subscribe(i))};return Ot(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function Ew(t,e){return e?new X(function(r){var n=Object.keys(t),i=new ve;return i.add(e.schedule(Rw,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new X(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function Rw(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Nd(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function Gt(t,e){return function(n){return n.lift(new Cw(t,e))}}var Cw=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Iw(e,this.predicate,this.thisArg))},t}(),Iw=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(H);function xw(t,e,r){return[Gt(e,r)(new X(mn(t))),Gt(Nd(e,r))(new X(mn(t)))]}function Od(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(Be(t[0]))t=t[0];else return t[0];return Fn(t,void 0).lift(new kw)}var kw=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Aw(e))},t}(),Aw=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Tt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(fr);function Mw(t,e,r){return t===void 0&&(t=0),new X(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(Tw,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function Tw(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Ld(t,e,r){t===void 0&&(t=0);var n=-1;return $r(e)?n=Number(e)<1&&1||Number(e):Ue(e)&&(r=e),Ue(r)||(r=Fe),new X(function(i){var s=$r(t)?t:+t-r.now();return r.schedule(Nw,s,{index:0,period:n,subscriber:i})})}function Nw(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Ow(t,e){return new X(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Ot(i):Dr,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function Pd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),Fn(t,void 0).lift(new Dd(r))}var Dd=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Lw(e,this.resultSelector))},t}(),Lw=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;Be(r)?n.push(new Dw(r)):typeof r[qt]=="function"?n.push(new Pw(r[qt]())):n.push(new jw(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,c=[],s=0;s<n;s++){var o=r[s],u=o.next();if(o.hasCompleted()&&(a=!0),u.done){i.complete();return}c.push(u.value)}this.resultSelector?this._tryresultSelector(c):i.next(c),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(H),Pw=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),Dw=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[qt]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),jw=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[qt]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return Se(this.observable,new ye(this))},e}(we);const $w=Object.freeze(Object.defineProperty({__proto__:null,Observable:X,ConnectableObservable:ld,GroupedObservable:ca,observable:Zr,Subject:ke,BehaviorSubject:hd,ReplaySubject:tc,AsyncSubject:Kr,asap:ai,asapScheduler:gd,async:Fe,asyncScheduler:_d,queue:fd,queueScheduler:dd,animationFrame:Fy,animationFrameScheduler:md,VirtualTimeScheduler:Wy,VirtualAction:vd,Scheduler:ua,Subscription:ve,Subscriber:H,Notification:At,get NotificationKind(){return la},pipe:aa,noop:_t,identity:Ut,isObservable:Vy,ArgumentOutOfRangeError:jr,EmptyError:Wn,ObjectUnsubscribedError:Bt,UnsubscriptionError:fn,TimeoutError:yd,bindCallback:wd,bindNodeCallback:Sd,combineLatest:nw,concat:vn,defer:ic,empty:Yr,forkJoin:fw,from:Ot,fromEvent:xd,fromEventPattern:Ad,generate:_w,iif:vw,interval:yw,merge:Md,never:Sw,of:Xi,onErrorResumeNext:da,pairs:Ew,partition:xw,race:Od,range:Mw,throwError:ec,timer:Ld,using:Ow,zip:Pd,scheduled:Cd,EMPTY:Dr,NEVER:Td,config:Ye},Symbol.toStringTag,{value:"Module"})),es=Vr($w);var ts={};function jd(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=jd(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Xu(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=jd(t))&&(n&&(n+=" "),n+=e);return n}const Bw=Object.freeze(Object.defineProperty({__proto__:null,clsx:Xu,default:Xu},Symbol.toStringTag,{value:"Module"})),rs=Vr(Bw);var Nt,de,zo,el,Br=0,$d=[],ci=[],_e=ue,tl=_e.__b,rl=_e.__r,nl=_e.diffed,il=_e.__c,sl=_e.unmount,ol=_e.__;function pr(t,e){_e.__h&&_e.__h(de,t,Br||e),Br=0;var r=de.__H||(de.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:ci}),r.__[t]}function Bd(t){return Br=1,Fd(Vd,t)}function Fd(t,e,r){var n=pr(Nt++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Vd(void 0,e),function(a){var c=n.__N?n.__N[0]:n.__[0],u=n.t(c,a);c!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=de,!de.u)){var i=function(a,c,u){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(d){return!!d.__c});if(h.every(function(d){return!d.__N}))return!s||s.call(this,a,c,u);var l=!1;return h.forEach(function(d){if(d.__N){var p=d.__[0];d.__=d.__N,d.__N=void 0,p!==d.__[0]&&(l=!0)}}),!(!l&&n.__c.props===a)&&(!s||s.call(this,a,c,u))};de.u=!0;var s=de.shouldComponentUpdate,o=de.componentWillUpdate;de.componentWillUpdate=function(a,c,u){if(this.__e){var h=s;s=void 0,i(a,c,u),s=h}o&&o.call(this,a,c,u)},de.shouldComponentUpdate=i}return n.__N||n.__}function Fw(t,e){var r=pr(Nt++,3);!_e.__s&&oc(r.__H,e)&&(r.__=t,r.i=e,de.__H.__h.push(r))}function Wd(t,e){var r=pr(Nt++,4);!_e.__s&&oc(r.__H,e)&&(r.__=t,r.i=e,de.__h.push(r))}function Ww(t){return Br=5,sc(function(){return{current:t}},[])}function Vw(t,e,r){Br=6,Wd(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function sc(t,e){var r=pr(Nt++,7);return oc(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function Hw(t,e){return Br=8,sc(function(){return t},e)}function zw(t){var e=de.context[t.__c],r=pr(Nt++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(de)),e.props.value):t.__}function Uw(t,e){_e.useDebugValue&&_e.useDebugValue(e?e(t):t)}function qw(t){var e=pr(Nt++,10),r=Bd();return e.__=t,de.componentDidCatch||(de.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Gw(){var t=pr(Nt++,11);if(!t.__){for(var e=de.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function Jw(){for(var t;t=$d.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ui),t.__H.__h.forEach(fa),t.__H.__h=[]}catch(e){t.__H.__h=[],_e.__e(e,t.__v)}}_e.__b=function(t){de=null,tl&&tl(t)},_e.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),ol&&ol(t,e)},_e.__r=function(t){rl&&rl(t),Nt=0;var e=(de=t.__c).__H;e&&(zo===de?(e.__h=[],de.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=ci,r.__N=r.i=void 0})):(e.__h.forEach(ui),e.__h.forEach(fa),e.__h=[],Nt=0)),zo=de},_e.diffed=function(t){nl&&nl(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&($d.push(e)!==1&&el===_e.requestAnimationFrame||((el=_e.requestAnimationFrame)||Qw)(Jw)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==ci&&(r.__=r.__V),r.i=void 0,r.__V=ci})),zo=de=null},_e.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ui),r.__h=r.__h.filter(function(n){return!n.__||fa(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],_e.__e(n,r.__v)}}),il&&il(t,e)},_e.unmount=function(t){sl&&sl(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ui(n)}catch(i){e=i}}),r.__H=void 0,e&&_e.__e(e,r.__v))};var al=typeof requestAnimationFrame=="function";function Qw(t){var e,r=function(){clearTimeout(n),al&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);al&&(e=requestAnimationFrame(r))}function ui(t){var e=de,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),de=e}function fa(t){var e=de;t.__c=t.__(),de=e}function oc(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Vd(t,e){return typeof e=="function"?e(t):e}const Zw=Object.freeze(Object.defineProperty({__proto__:null,useCallback:Hw,useContext:zw,useDebugValue:Uw,useEffect:Fw,useErrorBoundary:qw,useId:Gw,useImperativeHandle:Vw,useLayoutEffect:Wd,useMemo:sc,useReducer:Fd,useRef:Ww,useState:Bd},Symbol.toStringTag,{value:"Module"})),Vn=Vr(Zw);var wt={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.CloseIcon=void 0;const cl=qe;function Yw(t){return(0,cl.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,cl.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ns.CloseIcon=Yw;var ac={};Object.defineProperty(ac,"__esModule",{value:!0});ac.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var cc={};Object.defineProperty(cc,"__esModule",{value:!0});cc.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var is={};Object.defineProperty(is,"__esModule",{value:!0});is.QRCodeIcon=void 0;const bt=qe;function Kw(t){return(0,bt.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,bt.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,bt.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,bt.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,bt.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,bt.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,bt.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,bt.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,bt.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,bt.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}is.QRCodeIcon=Kw;var uc={};Object.defineProperty(uc,"__esModule",{value:!0});const Xw=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;uc.default=Xw;var lc={};Object.defineProperty(lc,"__esModule",{value:!0});lc.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.StatusDotIcon=void 0;const ul=qe;function e2(t){return(0,ul.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,ul.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}ss.StatusDotIcon=e2;var os={};function Hd(t){this.mode=He.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Hd.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function St(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}St.prototype={addData:function(t){var e=new Hd(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=St.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ge.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var c=a*i,u=this.modules[s][a];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+i,o),n.lineTo(c+i,o+i),n.lineTo(c,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=ge.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=ge.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ge.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var c=!1;s<t.length&&(c=(t[s]>>>i&1)==1);var u=ge.getMask(e,n,o-a);u&&(c=!c),this.modules[n][o-a]=c,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};St.PAD0=236;St.PAD1=17;St.createData=function(t,e,r){for(var n=mt.getRSBlocks(t,e),i=new zd,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),ge.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(St.PAD0,8),i.getLengthInBits()>=a*8));)i.put(St.PAD1,8);return St.createBytes(i,n)};St.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var c=e[a].dataCount,u=e[a].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),s[a]=new Array(c);for(var h=0;h<s[a].length;h++)s[a][h]=255&t.buffer[h+r];r+=c;var l=ge.getErrorCorrectPolynomial(u),d=new xr(s[a],l.getLength()-1),p=d.mod(l);o[a]=new Array(l.getLength()-1);for(var h=0;h<o[a].length;h++){var g=h+p.getLength()-o[a].length;o[a][h]=g>=0?p.get(g):0}}for(var E=0,h=0;h<e.length;h++)E+=e[h].totalCount;for(var w=new Array(E),_=0,h=0;h<n;h++)for(var a=0;a<e.length;a++)h<s[a].length&&(w[_++]=s[a][h]);for(var h=0;h<i;h++)for(var a=0;a<e.length;a++)h<o[a].length&&(w[_++]=o[a][h]);return w};var He={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},Ft={L:1,M:0,Q:3,H:2},Pt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},ge={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;ge.getBCHDigit(e)-ge.getBCHDigit(ge.G15)>=0;)e^=ge.G15<<ge.getBCHDigit(e)-ge.getBCHDigit(ge.G15);return(t<<10|e)^ge.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;ge.getBCHDigit(e)-ge.getBCHDigit(ge.G18)>=0;)e^=ge.G18<<ge.getBCHDigit(e)-ge.getBCHDigit(ge.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return ge.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Pt.PATTERN000:return(e+r)%2==0;case Pt.PATTERN001:return e%2==0;case Pt.PATTERN010:return r%3==0;case Pt.PATTERN011:return(e+r)%3==0;case Pt.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Pt.PATTERN101:return e*r%2+e*r%3==0;case Pt.PATTERN110:return(e*r%2+e*r%3)%2==0;case Pt.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new xr([1],0),r=0;r<t;r++)e=e.multiply(new xr([1,xe.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case He.MODE_NUMBER:return 10;case He.MODE_ALPHA_NUM:return 9;case He.MODE_8BIT_BYTE:return 8;case He.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case He.MODE_NUMBER:return 12;case He.MODE_ALPHA_NUM:return 11;case He.MODE_8BIT_BYTE:return 16;case He.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case He.MODE_NUMBER:return 14;case He.MODE_ALPHA_NUM:return 13;case He.MODE_8BIT_BYTE:return 16;case He.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var c=-1;c<=1;c++)i+c<0||e<=i+c||a==0&&c==0||o==t.isDark(n+a,i+c)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var u=0;t.isDark(n,i)&&u++,t.isDark(n+1,i)&&u++,t.isDark(n,i+1)&&u++,t.isDark(n+1,i+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var h=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&h++;var l=Math.abs(100*h/e/e-50)/5;return r+=l*10,r}},xe={glog:function(t){if(t<1)throw new Error("glog("+t+")");return xe.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return xe.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Me=0;Me<8;Me++)xe.EXP_TABLE[Me]=1<<Me;for(var Me=8;Me<256;Me++)xe.EXP_TABLE[Me]=xe.EXP_TABLE[Me-4]^xe.EXP_TABLE[Me-5]^xe.EXP_TABLE[Me-6]^xe.EXP_TABLE[Me-8];for(var Me=0;Me<255;Me++)xe.LOG_TABLE[xe.EXP_TABLE[Me]]=Me;function xr(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}xr.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=xe.gexp(xe.glog(this.get(r))+xe.glog(t.get(n)));return new xr(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=xe.glog(this.get(0))-xe.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=xe.gexp(xe.glog(t.get(n))+e);return new xr(r,0).mod(t)}};function mt(t,e){this.totalCount=t,this.dataCount=e}mt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];mt.getRSBlocks=function(t,e){var r=mt.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],c=r[s*3+2],u=0;u<o;u++)i.push(new mt(a,c));return i};mt.getRsBlockTable=function(t,e){switch(e){case Ft.L:return mt.RS_BLOCK_TABLE[(t-1)*4+0];case Ft.M:return mt.RS_BLOCK_TABLE[(t-1)*4+1];case Ft.Q:return mt.RS_BLOCK_TABLE[(t-1)*4+2];case Ft.H:return mt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function zd(){this.buffer=[],this.length=0}zd.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Uo=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Ud(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(c){switch(c){case"L":return Ft.L;case"M":return Ft.M;case"Q":return Ft.Q;case"H":return Ft.H;default:throw new Error("Unknwon error correction level: "+c)}}function n(c,u){for(var h=i(c),l=1,d=0,p=0,g=Uo.length;p<=g;p++){var E=Uo[p];if(!E)throw new Error("Content too long: expected "+d+" but got "+h);switch(u){case"L":d=E[0];break;case"M":d=E[1];break;case"Q":d=E[2];break;case"H":d=E[3];break;default:throw new Error("Unknwon error correction level: "+u)}if(h<=d)break;l++}if(l>Uo.length)throw new Error("Content too long");return l}function i(c){var u=encodeURI(c).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return u.length+(u.length!=c?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new St(o,a),this.qrcode.addData(s),this.qrcode.make()}Ud.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,c=r.length,u=o/(c+2*e.padding),h=a/(c+2*e.padding),l=typeof e.join<"u"?!!e.join:!1,d=typeof e.swap<"u"?!!e.swap:!1,p=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,g=typeof e.predefined<"u"?!!e.predefined:!1,E=g?i+'<defs><path id="qrmodule" d="M0 0 h'+h+" v"+u+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",w=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,_="",y="",S=0;S<c;S++)for(var C=0;C<c;C++){var R=r[C][S];if(R){var N=C*u+e.padding*u,W=S*h+e.padding*h;if(d){var $=N;N=W,W=$}if(l){var A=u+N,U=h+W;N=Number.isInteger(N)?Number(N):N.toFixed(2),W=Number.isInteger(W)?Number(W):W.toFixed(2),A=Number.isInteger(A)?Number(A):A.toFixed(2),U=Number.isInteger(U)?Number(U):U.toFixed(2),y+="M"+N+","+W+" V"+U+" H"+A+" V"+W+" H"+N+" Z "}else g?_+=i+'<use x="'+N.toString()+'" y="'+W.toString()+'" href="#qrmodule" />'+s:_+=i+'<rect x="'+N.toString()+'" y="'+W.toString()+'" width="'+u+'" height="'+h+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}l&&(_=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+y+'" />');let oe="";if(this.options.image!==void 0&&this.options.image.svg){const M=o*this.options.image.width/100,k=a*this.options.image.height/100,O=o/2-M/2,P=a/2-k/2;oe+=`<svg x="${O}" y="${P}" width="${M}" height="${k}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,oe+=this.options.image.svg+s,oe+="</svg>"}var Q="";switch(t.container){case"svg":p&&(Q+='<?xml version="1.0" standalone="yes"?>'+s),Q+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,Q+=E+w+_,Q+=oe,Q+="</svg>";break;case"svg-viewbox":p&&(Q+='<?xml version="1.0" standalone="yes"?>'+s),Q+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,Q+=E+w+_,Q+=oe,Q+="</svg>";break;case"g":Q+='<g width="'+o+'" height="'+a+'">'+s,Q+=E+w+_,Q+=oe,Q+="</g>";break;default:Q+=(E+w+_+oe).replace(/^\s+/,"");break}return Q};var t2=Ud,r2=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});os.QRCode=void 0;const n2=qe,ll=Vn,i2=r2(t2),s2=t=>{const[e,r]=(0,ll.useState)("");return(0,ll.useEffect)(()=>{var n,i;const s=new i2.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,n2.h)("img",{src:e,alt:"QR Code"}):null};os.QRCode=s2;var as={},hc={};Object.defineProperty(hc,"__esModule",{value:!0});hc.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var o2=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(as,"__esModule",{value:!0});as.Spinner=void 0;const ti=qe,a2=o2(hc),c2=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,ti.h)("div",{class:"-cbwsdk-spinner"},(0,ti.h)("style",null,a2.default),(0,ti.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,ti.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};as.Spinner=c2;var dc={};Object.defineProperty(dc,"__esModule",{value:!0});dc.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Xr=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wt,"__esModule",{value:!0});wt.CoinbaseAppSteps=wt.CoinbaseWalletSteps=wt.ConnectItem=wt.ConnectContent=void 0;const Xe=Xr(rs),q=qe,hl=Vn,u2=F,l2=zr,h2=ns,d2=Xr(ac),f2=Xr(cc),qd=is,p2=Xr(uc),b2=Xr(lc),g2=ss,_2=os,m2=as,v2=Xr(dc),dl={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:f2.default,steps:Jd},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:d2.default,steps:Qd}},y2=t=>{switch(t){case"coinbase-app":return p2.default;case"coinbase-wallet-app":default:return b2.default}},pa=t=>t==="light"?"#FFFFFF":"#0A0B0D";function w2(t){const{theme:e}=t,[r,n]=(0,hl.useState)("coinbase-wallet-app"),i=(0,hl.useCallback)(u=>{n(u)},[]),s=(0,u2.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=dl[r];if(!r)return null;const a=o.steps,c=r==="coinbase-app";return(0,q.h)("div",{"data-testid":"connect-content",class:(0,Xe.default)("-cbwsdk-connect-content",e)},(0,q.h)("style",null,v2.default),(0,q.h)("div",{class:"-cbwsdk-connect-content-header"},(0,q.h)("h2",{class:(0,Xe.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,q.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,q.h)(h2.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,q.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,q.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,q.h)("div",null,Object.entries(dl).map(([u,h])=>(0,q.h)(Gd,{key:u,title:h.title,description:h.description,icon:h.icon,selected:r===u,onClick:()=>i(u),theme:e}))),c&&(0,q.h)("div",{class:(0,Xe.default)("-cbwsdk-connect-content-update-app",e)},"Don\u2019t see a ",(0,q.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,q.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,q.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,q.h)(_2.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:y2(r),width:25,height:25}}),(0,q.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:l2.LIB_VERSION}),(0,q.h)("input",{type:"hidden",value:s})),(0,q.h)(a,{theme:e}),!t.isConnected&&(0,q.h)("div",{"data-testid":"connecting-spinner",class:(0,Xe.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,q.h)(m2.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,q.h)("p",null,"Connecting...")))))}wt.ConnectContent=w2;function Gd({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,q.h)("div",{onClick:s,class:(0,Xe.default)("-cbwsdk-connect-item",i,{selected:n})},(0,q.h)("div",null,(0,q.h)("img",{src:r,alt:t})),(0,q.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,q.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,q.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}wt.ConnectItem=Gd;function Jd({theme:t}){return(0,q.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,q.h)("li",{class:(0,Xe.default)("-cbwsdk-wallet-steps-item",t)},(0,q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,q.h)("li",{class:(0,Xe.default)("-cbwsdk-wallet-steps-item",t)},(0,q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,q.h)("span",null,"Tap ",(0,q.h)("strong",null,"Scan")," "),(0,q.h)("span",{class:(0,Xe.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,q.h)(qd.QRCodeIcon,{fill:pa(t)})))))}wt.CoinbaseWalletSteps=Jd;function Qd({theme:t}){return(0,q.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,q.h)("li",{class:(0,Xe.default)("-cbwsdk-wallet-steps-item",t)},(0,q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,q.h)("li",{class:(0,Xe.default)("-cbwsdk-wallet-steps-item",t)},(0,q.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,q.h)("span",null,"Tap ",(0,q.h)("strong",null,"More")),(0,q.h)("span",{class:(0,Xe.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,q.h)(g2.StatusDotIcon,{fill:pa(t)})),(0,q.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,q.h)("strong",null,"Scan")),(0,q.h)("span",{class:(0,Xe.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,q.h)(qd.QRCodeIcon,{fill:pa(t)})))))}wt.CoinbaseAppSteps=Qd;var cs={},us={};Object.defineProperty(us,"__esModule",{value:!0});us.ArrowLeftIcon=void 0;const fl=qe;function S2(t){return(0,fl.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,fl.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}us.ArrowLeftIcon=S2;var ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.LaptopIcon=void 0;const qo=qe;function E2(t){return(0,qo.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,qo.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,qo.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}ls.LaptopIcon=E2;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.SafeIcon=void 0;const pl=qe;function R2(t){return(0,pl.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,pl.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}hs.SafeIcon=R2;var fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Zd=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cs,"__esModule",{value:!0});cs.TryExtensionContent=void 0;const Qt=Zd(rs),Ee=qe,Go=Vn,C2=us,I2=ls,x2=hs,k2=Zd(fc);function A2({theme:t}){const[e,r]=(0,Go.useState)(!1),n=(0,Go.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Go.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,Ee.h)("div",{class:(0,Qt.default)("-cbwsdk-try-extension",t)},(0,Ee.h)("style",null,k2.default),(0,Ee.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ee.h)("h3",{class:(0,Qt.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,Ee.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Ee.h)("button",{class:(0,Qt.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,Ee.h)("div",null,!e&&(0,Ee.h)(C2.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,Ee.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Ee.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Ee.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ee.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ee.h)("span",{class:(0,Qt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ee.h)(I2.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ee.h)("div",{class:(0,Qt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,Ee.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Ee.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Ee.h)("span",{class:(0,Qt.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,Ee.h)(x2.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Ee.h)("div",{class:(0,Qt.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}cs.TryExtensionContent=A2;var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Yd=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ts,"__esModule",{value:!0});ts.ConnectDialog=void 0;const Jo=Yd(rs),Zt=qe,Qo=Vn,M2=wt,T2=cs,N2=Yd(pc),O2=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Qo.useState)(!e),[s,o]=(0,Qo.useState)(!e);(0,Qo.useEffect)(()=>{const c=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):c.push(window.setTimeout(()=>{i(!0)},360)),()=>{c.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,Zt.h)("div",{class:(0,Jo.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Zt.h)("style",null,N2.default),(0,Zt.h)("div",{class:(0,Jo.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Zt.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Zt.h)("div",{class:(0,Jo.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Zt.h)(M2.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Zt.h)(T2.TryExtensionContent,{theme:a}))))};ts.ConnectDialog=O2;Object.defineProperty(Yi,"__esModule",{value:!0});Yi.LinkFlow=void 0;const Zo=qe,bl=es,L2=ts;class P2{constructor(e){this.extensionUI$=new bl.BehaviorSubject({}),this.subscriptions=new bl.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;!this.root||(this.subscriptions.unsubscribe(),(0,Zo.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{!this.root||(0,Zo.render)((0,Zo.h)(L2.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Yi.LinkFlow=P2;var Kd={},bc={};Object.defineProperty(bc,"__esModule",{value:!0});bc.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=B&&B.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(rs),n=qe,i=Vn,s=e(bc),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(l){switch(l){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class c{constructor(d){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=d.darkMode}attach(d){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",d.appendChild(this.root),this.render()}presentItem(d){const p=this.nextItemKey++;return this.items.set(p,d),this.render(),()=>{this.items.delete(p),this.render()}}clear(){this.items.clear(),this.render()}render(){!this.root||(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([d,p])=>(0,n.h)(t.SnackbarInstance,Object.assign({},p,{key:d}))))),this.root)}}t.Snackbar=c;const u=l=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},l.children));t.SnackbarContainer=u;const h=({autoExpand:l,message:d,menuItems:p,appSrc:g})=>{const[E,w]=(0,i.useState)(!0),[_,y]=(0,i.useState)(l??!1);(0,i.useEffect)(()=>{const C=[window.setTimeout(()=>{w(!1)},1),window.setTimeout(()=>{y(!0)},1e4)];return()=>{C.forEach(window.clearTimeout)}});const S=()=>{y(!_)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",E&&"-cbwsdk-snackbar-instance-hidden",_&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:S},(0,n.h)("img",{src:a(g),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},d),(0,n.h)("div",{class:"-gear-container"},!_&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),p&&p.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},p.map((C,R)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",C.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:C.onClick,key:R},(0,n.h)("svg",{width:C.svgWidth,height:C.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":C.defaultFillRule,"clip-rule":C.defaultClipRule,d:C.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",C.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},C.info)))))};t.SnackbarInstance=h})(Kd);var ds={},gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var D2=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ds,"__esModule",{value:!0});ds.injectCssReset=void 0;const j2=D2(gc);function $2(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(j2.default)),document.documentElement.appendChild(t)}ds.injectCssReset=$2;Object.defineProperty(Zi,"__esModule",{value:!0});Zi.WalletSDKUI=void 0;const B2=Yi,F2=Kd,W2=ds;class V2{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new F2.Snackbar({darkMode:e.darkMode}),this.linkFlow=new B2.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,W2.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}Zi.WalletSDKUI=V2;var fs={},ps={};Object.defineProperty(ps,"__esModule",{value:!0});var Rr;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(Rr||(Rr={}));function Xd(t,e,r){if(!r||typeof r.value!==Rr.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:Rr.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:Rr.boolTrue,writable:Rr.boolTrue}),n}}}ps.bind=Xd;ps.default=Xd;function ef(t){return function(r){return r.lift(new H2(t))}}var H2=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new z2(e,this.durationSelector))},t}(),z2=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=Se(n,new ye(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(we);function U2(t,e){return e===void 0&&(e=Fe),ef(function(){return Ld(t,e)})}function q2(t){return function(r){return r.lift(new G2(t))}}var G2=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new J2(e,this.closingNotifier))},t}(),J2=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(Se(n,new ye(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(we);function Q2(t,e){return e===void 0&&(e=null),function(n){return n.lift(new Z2(t,e))}}var Z2=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=Y2:this.subscriberClass=K2}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),Y2=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(H),K2=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var c=o.length;c--;){var u=o[c];u.push(r),u.length===i&&(o.splice(c,1),this.destination.next(u))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(H);function X2(t){var e=arguments.length,r=Fe;Ue(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new e3(t,n,i,r))}}var e3=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new r3(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),t3=function(){function t(){this.buffer=[]}return t}(),r3=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var c=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var u={subscriber:a,context:c,bufferTimeSpan:n};a.add(c.closeAction=o.schedule(gl,n,u))}else{var h={subscriber:a,context:c},l={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(c.closeAction=o.schedule(tf,n,h)),a.add(o.schedule(n3,i,l))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],c=a.buffer;c.push(r),c.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(gl,i,s))}},e.prototype.openContext=function(){var r=new t3;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(H);function gl(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function n3(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(tf,r,{subscriber:n,context:s})),o.schedule(t,e))}function tf(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function i3(t,e){return function(n){return n.lift(new s3(t,e))}}var s3=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new o3(e,this.openings,this.closingSelector))},t}(),o3=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Tt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new ve,o={buffer:i,subscription:s};n.push(o);var a=Tt(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(fr);function a3(t){return function(e){return e.lift(new c3(t))}}var c3=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new u3(e,this.closingSelector))},t}(),u3=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new ve,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(Se(i,new ye(this))),this.subscribing=!1},e}(we);function l3(t){return function(r){var n=new h3(t),i=r.lift(n);return n.caught=i}}var h3=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new d3(e,this.selector,this.caught))},t}(),d3=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new ye(this);this.add(i);var s=Se(n,i);s!==i&&this.add(s)}},e}(we);function f3(t){return function(e){return e.lift(new rc(t))}}function p3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&Be(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Ot([n].concat(t)),new rc(r))}}function b3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(vn.apply(void 0,[r].concat(t)))}}function rf(t,e){return sr(t,e,1)}function g3(t,e){return rf(function(){return t},e)}function _3(t){return function(e){return e.lift(new m3(t,e))}}var m3=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new v3(e,this.predicate,this.source))},t}(),v3=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(H);function y3(t){return function(e){return e.lift(new w3(t))}}var w3=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new S3(e,this.durationSelector))},t}(),S3=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=Se(n,new ye(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(we);function E3(t,e){return e===void 0&&(e=Fe),function(r){return r.lift(new R3(t,e))}}var R3=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new C3(e,this.dueTime,this.scheduler))},t}(),C3=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(I3,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(H);function I3(t){t.debouncedNext()}function Hn(t){return t===void 0&&(t=null),function(e){return e.lift(new x3(t))}}var x3=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new k3(e,this.defaultValue))},t}(),k3=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(H);function nf(t){return t instanceof Date&&!isNaN(+t)}function A3(t,e){e===void 0&&(e=Fe);var r=nf(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new M3(n,e))}}var M3=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new T3(e,this.delay,this.scheduler))},t}(),T3=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new N3(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(At.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(At.createComplete()),this.unsubscribe()},e}(H),N3=function(){function t(e,r){this.time=e,this.notification=r}return t}();function O3(t,e){return e?function(r){return new P3(r,e).lift(new _l(t))}:function(r){return r.lift(new _l(t))}}var _l=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new L3(e,this.delayDurationSelector))},t}(),L3=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Tt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(fr),P3=function(t){I(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new D3(r,this.source))},e}(X),D3=function(t){I(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(H);function j3(){return function(e){return e.lift(new $3)}}var $3=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new B3(e))},t}(),B3=function(t){I(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(H);function F3(t,e){return function(r){return r.lift(new W3(t,e))}}var W3=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new V3(e,this.keySelector,this.flushes))},t}(),V3=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(Se(i,new ye(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(we);function sf(t,e){return function(r){return r.lift(new H3(t,e))}}var H3=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new z3(e,this.compare,this.keySelector))},t}(),z3=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(H);function U3(t,e){return sf(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function bs(t){return t===void 0&&(t=J3),function(e){return e.lift(new q3(t))}}var q3=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new G3(e,this.errorFactory))},t}(),G3=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(H);function J3(){return new Wn}function _c(t){return function(e){return t===0?Yr():e.lift(new Q3(t))}}var Q3=function(){function t(e){if(this.total=e,this.total<0)throw new jr}return t.prototype.call=function(e,r){return r.subscribe(new Z3(e,this.total))},t}(),Z3=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(H);function Y3(t,e){if(t<0)throw new jr;var r=arguments.length>=2;return function(n){return n.pipe(Gt(function(i,s){return s===t}),_c(1),r?Hn(e):bs(function(){return new jr}))}}function K3(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return vn(r,Xi.apply(void 0,t))}}function X3(t,e){return function(r){return r.lift(new eS(t,e,r))}}var eS=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new tS(e,this.predicate,this.thisArg,this.source))},t}(),tS=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(H);function rS(){return function(t){return t.lift(new nS)}}var nS=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new iS(e))},t}(),iS=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(Se(r,new ye(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(we);function of(t,e){return e?function(r){return r.pipe(of(function(n,i){return Ot(t(n,i)).pipe(rt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new sS(t))}}var sS=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new oS(e,this.project))},t}(),oS=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new ye(this),i=this.destination;i.add(n);var s=Se(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(we);function aS(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new cS(t,e,r))}}var cS=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new uS(e,this.project,this.concurrent,this.scheduler))},t}(),uS=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},c=this.destination;c.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(u){n.error(u)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(Se(r,new ye(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(we);function lS(t){return function(e){return e.lift(new hS(t))}}var hS=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new dS(e,this.callback))},t}(),dS=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new ve(n)),i}return e}(H);function fS(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new af(t,r,!1,e))}}var af=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new pS(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),pS=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(c){this.destination.error(c)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(H);function bS(t,e){return function(r){return r.lift(new af(t,r,!0,e))}}function gS(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Gt(function(i,s){return t(i,s,n)}):Ut,_c(1),r?Hn(e):bs(function(){return new Wn}))}}function _S(){return function(e){return e.lift(new mS)}}var mS=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new vS(e))},t}(),vS=function(t){I(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(H);function yS(){return function(t){return t.lift(new wS)}}var wS=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new SS(e))},t}(),SS=function(t){I(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(H);function gi(t){return function(r){return t===0?Yr():r.lift(new ES(t))}}var ES=function(){function t(e){if(this.total=e,this.total<0)throw new jr}return t.prototype.call=function(e,r){return r.subscribe(new RS(e,this.total))},t}(),RS=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(H);function CS(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Gt(function(i,s){return t(i,s,n)}):Ut,gi(1),r?Hn(e):bs(function(){return new Wn}))}}function IS(t){return function(e){return e.lift(new xS(t))}}var xS=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new kS(e,this.value))},t}(),kS=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(H);function AS(){return function(e){return e.lift(new MS)}}var MS=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new TS(e))},t}(),TS=function(t){I(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(At.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(At.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(At.createComplete()),r.complete()},e}(H);function _i(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new NS(t,e,r))}}var NS=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new OS(e,this.accumulator,this.seed,this.hasSeed))},t}(),OS=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(H);function gs(t,e){return arguments.length>=2?function(n){return aa(_i(t,e),gi(1),Hn(e))(n)}:function(n){return aa(_i(function(i,s,o){return t(i,s,o+1)}),gi(1))(n)}}function LS(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return gs(e)}function PS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Md.apply(void 0,[r].concat(t)))}}function DS(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?sr(function(){return t},e,r):(typeof e=="number"&&(r=e),sr(function(){return t},r))}function jS(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new $S(t,e,r))}}var $S=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new BS(e,this.accumulator,this.seed,this.concurrent))},t}(),BS=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new ye(this),i=this.destination;i.add(n);var s=Se(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(we);function FS(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return gs(e)}function or(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new WS(i,e));var s=Object.create(n,my);return s.source=n,s.subjectFactory=i,s}}var WS=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function VS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&Be(t[0])&&(t=t[0]),function(r){return r.lift(new HS(t))}}var HS=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new zS(e,this.nextSources))},t}(),zS=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new ye(this),i=this.destination;i.add(n);var s=Se(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(we);function US(){return function(t){return t.lift(new qS)}}var qS=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new GS(e))},t}(),GS=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(H);function JS(t,e){return function(r){return[Gt(t,e)(r),Gt(Nd(t,e))(r)]}}function QS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return rt(ZS(t,r))(n)}}function ZS(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i?.[t[s]];if(o!==void 0)i=o;else return}return i};return r}function YS(t){return t?or(function(){return new ke},t):or(new ke)}function KS(t){return function(e){return or(new hd(t))(e)}}function XS(){return function(t){return or(new Kr)(t)}}function eE(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new tc(t,e,n);return function(o){return or(function(){return s},i)(o)}}function tE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&Be(t[0])&&(t=t[0]),n.lift.call(Od.apply(void 0,[n].concat(t)))}}function rE(t){return t===void 0&&(t=-1),function(e){return t===0?Yr():t<0?e.lift(new ml(-1,e)):e.lift(new ml(t-1,e))}}var ml=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new nE(e,this.count,this.source))},t}(),nE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(H);function iE(t){return function(e){return e.lift(new sE(t))}}var sE=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new oE(e,this.notifier,r))},t}(),oE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new ke;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=Se(r,new ye(this))},e}(we);function aE(t){return t===void 0&&(t=-1),function(e){return e.lift(new cE(t,e))}}var cE=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new uE(e,this.count,this.source))},t}(),uE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(H);function lE(t){return function(e){return e.lift(new hE(t,e))}}var hE=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new dE(e,this.notifier,this.source))},t}(),dE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new ke;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=Se(i,new ye(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(we);function fE(t){return function(e){return e.lift(new pE(t))}}var pE=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new bE(e),i=r.subscribe(n);return i.add(Se(this.notifier,new ye(n))),i},t}(),bE=function(t){I(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(we);function gE(t,e){return e===void 0&&(e=Fe),function(r){return r.lift(new _E(t,e))}}var _E=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new mE(e,this.period,this.scheduler))},t}(),mE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(vE,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(H);function vE(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function yE(t,e){return function(r){return r.lift(new wE(t,e))}}var wE=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new SE(e,this.compareTo,this.comparator))},t}(),SE=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new EE(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),c=!1;try{c=s?s(o,a):o===a}catch(u){this.destination.error(u)}c||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(H),EE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(H);function RE(){return new ke}function CE(){return function(t){return Ka()(or(RE)(t))}}function IE(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(xE(n))}}function xE(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,c=0,u,h=!1,l=!1;return function(p){c++;var g;!a||h?(h=!1,a=new tc(r,i,o),g=a.subscribe(this),u=p.subscribe({next:function(E){a.next(E)},error:function(E){h=!0,a.error(E)},complete:function(){l=!0,u=void 0,a.complete()}}),l&&(u=void 0)):g=a.subscribe(this),this.add(function(){c--,g.unsubscribe(),g=void 0,u&&!l&&s&&c===0&&(u.unsubscribe(),u=void 0,a=void 0)})}}function kE(t){return function(e){return e.lift(new AE(t,e))}}var AE=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ME(e,this.predicate,this.source))},t}(),ME=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new Wn)},e}(H);function TE(t){return function(e){return e.lift(new NE(t))}}var NE=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new OE(e,this.total))},t}(),OE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(H);function LE(t){return function(e){return e.lift(new PE(t))}}var PE=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new jr}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new H(e)):r.subscribe(new DE(e,this._skipCount))},t}(),DE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(H);function jE(t){return function(e){return e.lift(new $E(t))}}var $E=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new BE(e,this.notifier))},t}(),BE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new ye(i);i.add(s),i.innerSubscription=s;var o=Se(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(we);function FE(t){return function(e){return e.lift(new WE(t))}}var WE=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new VE(e,this.predicate))},t}(),VE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(H);function HE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Ue(r)?(t.pop(),function(n){return vn(t,n,r)}):function(n){return vn(t,n)}}var zE=function(t){I(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=ai);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!$r(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=ai),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=ai),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(X);function UE(t,e){return e===void 0&&(e=0),function(n){return n.lift(new qE(t,e))}}var qE=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new zE(r,this.delay,this.scheduler).subscribe(e)},t}();function yn(t,e){return typeof e=="function"?function(r){return r.pipe(yn(function(n,i){return Ot(t(n,i)).pipe(rt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new GE(t))}}var GE=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new JE(e,this.project))},t}(),JE=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new ye(this),s=this.destination;s.add(i),this.innerSubscription=Se(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(we);function QE(){return yn(Ut)}function ZE(t,e){return e?yn(function(){return t},e):yn(function(){return t})}function YE(t){return function(e){return e.lift(new KE(t))}}var KE=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new XE(e),i=Se(this.notifier,new ye(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),XE=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(we);function e4(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new t4(t,e))}}var t4=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new r4(e,this.predicate,this.inclusive))},t}(),r4=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(H);function n4(t,e,r){return function(i){return i.lift(new i4(t,e,r))}}var i4=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new s4(e,this.nextOrObserver,this.error,this.complete))},t}(),s4=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=_t,o._tapError=_t,o._tapComplete=_t,o._tapError=i||_t,o._tapComplete=s||_t,Pr(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||_t,o._tapError=n.error||_t,o._tapComplete=n.complete||_t),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(H),cf={leading:!0,trailing:!1};function o4(t,e){return e===void 0&&(e=cf),function(r){return r.lift(new a4(t,!!e.leading,!!e.trailing))}}var a4=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new c4(e,this.durationSelector,this.leading,this.trailing))},t}(),c4=function(t){I(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=Se(n,new ye(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(we);function u4(t,e,r){return e===void 0&&(e=Fe),r===void 0&&(r=cf),function(n){return n.lift(new l4(t,e,r.leading,r.trailing))}}var l4=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new h4(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),h4=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(d4,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(H);function d4(t){var e=t.subscriber;e.clearThrottle()}function f4(t){return t===void 0&&(t=Fe),function(e){return ic(function(){return e.pipe(_i(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),rt(function(r){var n=r.current,i=r.last,s=r.value;return new p4(s,n-i)}))})}}var p4=function(){function t(e,r){this.value=e,this.interval=r}return t}();function uf(t,e,r){return r===void 0&&(r=Fe),function(n){var i=nf(t),s=i?+t-r.now():Math.abs(t);return n.lift(new b4(s,i,e,r))}}var b4=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new g4(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),g4=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(Se(n,new ye(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(we);function _4(t,e){return e===void 0&&(e=Fe),uf(t,ec(new yd),e)}function m4(t){return t===void 0&&(t=Fe),rt(function(e){return new v4(e,t.now())})}var v4=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function y4(t,e,r){return r===0?[e]:(t.push(e),t)}function w4(){return gs(y4,[])}function S4(t){return function(r){return r.lift(new E4(t))}}var E4=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new R4(e),i=r.subscribe(n);return i.closed||n.add(Se(this.windowBoundaries,new ye(n))),i},t}(),R4=function(t){I(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new ke,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new ke;n.next(i)},e}(we);function C4(t,e){return e===void 0&&(e=0),function(n){return n.lift(new I4(t,e))}}var I4=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new x4(e,this.windowSize,this.startWindowEvery))},t}(),x4=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new ke],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,c=0;c<a&&!this.closed;c++)o[c].next(r);var u=this.count-s+1;if(u>=0&&u%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var h=new ke;o.push(h),i.next(h)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(H);function k4(t){var e=Fe,r=null,n=Number.POSITIVE_INFINITY;return Ue(arguments[3])&&(e=arguments[3]),Ue(arguments[2])?e=arguments[2]:$r(arguments[2])&&(n=Number(arguments[2])),Ue(arguments[1])?e=arguments[1]:$r(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new A4(t,r,n,e))}}var A4=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new T4(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),M4=function(t){I(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(ke),T4=function(t){I(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var c=a.openWindow();if(i!==null&&i>=0){var u={subscriber:a,window:c,context:null},h={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(lf,n,u)),a.add(o.schedule(O4,i,h))}else{var l={subscriber:a,window:c,windowTimeSpan:n};a.add(o.schedule(N4,n,l))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new M4;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(H);function N4(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function O4(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},c={subscriber:r,window:s,context:a};a.subscription=n.schedule(lf,e,c),o.add(a.subscription),o.schedule(t,i)}function lf(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function L4(t,e){return function(r){return r.lift(new P4(t,e))}}var P4=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new D4(e,this.openings,this.closingSelector))},t}(),D4=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Tt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var c=this.closingSelector;a=c(n)}catch(p){return this.error(p)}var u=new ke,h=new ve,l={window:u,subscription:h};this.contexts.push(l);var d=Tt(this,a,l);d.closed?this.closeWindow(this.contexts.length-1):(d.context=l,h.add(d)),this.destination.next(u)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(fr);function j4(t){return function(r){return r.lift(new $4(t))}}var $4=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new B4(e,this.closingSelector))},t}(),B4=function(t){I(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new ke;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Tt(this,s))},e}(fr);function F4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new W4(i,n))}}var W4=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new V4(e,this.observables,this.project))},t}(),V4=function(t){I(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var c=n[a];s.add(Tt(s,c,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(fr);function H4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(Pd.apply(void 0,[n].concat(t)))}}function z4(t){return function(e){return e.lift(new Dd(t))}}const U4=Object.freeze(Object.defineProperty({__proto__:null,audit:ef,auditTime:U2,buffer:q2,bufferCount:Q2,bufferTime:X2,bufferToggle:i3,bufferWhen:a3,catchError:l3,combineAll:f3,combineLatest:p3,concat:b3,concatAll:Id,concatMap:rf,concatMapTo:g3,count:_3,debounce:y3,debounceTime:E3,defaultIfEmpty:Hn,delay:A3,delayWhen:O3,dematerialize:j3,distinct:F3,distinctUntilChanged:sf,distinctUntilKeyChanged:U3,elementAt:Y3,endWith:K3,every:X3,exhaust:rS,exhaustMap:of,expand:aS,filter:Gt,finalize:lS,find:fS,findIndex:bS,first:gS,groupBy:yy,ignoreElements:_S,isEmpty:yS,last:CS,map:rt,mapTo:IS,materialize:AS,max:LS,merge:PS,mergeAll:nc,mergeMap:sr,flatMap:dw,mergeMapTo:DS,mergeScan:jS,min:FS,multicast:or,observeOn:My,onErrorResumeNext:VS,pairwise:US,partition:JS,pluck:QS,publish:YS,publishBehavior:KS,publishLast:XS,publishReplay:eE,race:tE,reduce:gs,repeat:rE,repeatWhen:iE,retry:aE,retryWhen:lE,refCount:Ka,sample:fE,sampleTime:gE,scan:_i,sequenceEqual:yE,share:CE,shareReplay:IE,single:kE,skip:TE,skipLast:LE,skipUntil:jE,skipWhile:FE,startWith:HE,subscribeOn:UE,switchAll:QE,switchMap:yn,switchMapTo:ZE,take:_c,takeLast:gi,takeUntil:YE,takeWhile:e4,tap:n4,throttle:o4,throttleTime:u4,throwIfEmpty:bs,timeInterval:f4,timeout:_4,timeoutWith:uf,timestamp:m4,toArray:w4,window:S4,windowCount:C4,windowTime:k4,windowToggle:L4,windowWhen:j4,withLatestFrom:F4,zip:H4,zipAll:z4},Symbol.toStringTag,{value:"Module"})),mc=Vr(U4);var _s={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.ClientMessagePublishEvent=Ke.ClientMessageSetSessionConfig=Ke.ClientMessageGetSessionConfig=Ke.ClientMessageIsLinked=Ke.ClientMessageHostSession=void 0;function q4(t){return Object.assign({type:"HostSession"},t)}Ke.ClientMessageHostSession=q4;function G4(t){return Object.assign({type:"IsLinked"},t)}Ke.ClientMessageIsLinked=G4;function J4(t){return Object.assign({type:"GetSessionConfig"},t)}Ke.ClientMessageGetSessionConfig=J4;function Q4(t){return Object.assign({type:"SetSessionConfig"},t)}Ke.ClientMessageSetSessionConfig=Q4;function Z4(t){return Object.assign({type:"PublishEvent"},t)}Ke.ClientMessagePublishEvent=Z4;var hf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=es,r=mc;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(c){o.error(c);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=c=>{this.clearWebSocket(),o.error(new Error(`websocket error ${c.code}: ${c.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=c=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=c=>{this.incomingDataSubject.next(c.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(!!o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;!o||(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(hf);var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.isServerMessageFail=void 0;function Y4(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}ms.isServerMessageFail=Y4;Object.defineProperty(_s,"__esModule",{value:!0});_s.WalletSDKConnection=void 0;const it=es,re=mc,on=Ur,yr=In,an=Ke,cn=Hr,ri=hf,Yo=ms,vl=1e4,K4=6e4;class X4{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new it.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,yr.IntNumber)(1),this.connectedSubject=new it.BehaviorSubject(!1),this.linkedSubject=new it.BehaviorSubject(!1),this.sessionConfigSubject=new it.ReplaySubject(1);const o=new ri.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,re.tap)(a=>{var c;return(c=this.diagnostic)===null||c===void 0?void 0:c.log(cn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:on.Session.hash(e)})}),(0,re.skip)(1),(0,re.filter)(a=>a===ri.ConnectionState.DISCONNECTED&&!this.destroyed),(0,re.delay)(5e3),(0,re.filter)(a=>!this.destroyed),(0,re.flatMap)(a=>o.connect()),(0,re.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,re.skip)(2),(0,re.switchMap)(a=>(0,it.iif)(()=>a===ri.ConnectionState.CONNECTED,this.authenticate().pipe((0,re.tap)(c=>this.sendIsLinked()),(0,re.tap)(c=>this.sendGetSessionConfig()),(0,re.map)(c=>!0)),(0,it.of)(!1))),(0,re.distinctUntilChanged)(),(0,re.catchError)(a=>(0,it.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,re.skip)(1),(0,re.switchMap)(a=>(0,it.iif)(()=>a===ri.ConnectionState.CONNECTED,(0,it.timer)(0,vl)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,re.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,re.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(cn.EVENTS.LINKED,{sessionIdHash:on.Session.hash(e),linked:u.linked,type:a.type,onlineGuests:u.onlineGuests}),this.linkedSubject.next(u.linked||u.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,re.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var c;const u=a;(c=this.diagnostic)===null||c===void 0||c.log(cn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:on.Session.hash(e),metadata_keys:u&&u.metadata?Object.keys(u.metadata):void 0}),this.sessionConfigSubject.next({webhookId:u.webhookId,webhookUrl:u.webhookUrl,metadata:u.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(cn.EVENTS.STARTED_CONNECTING,{sessionIdHash:on.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(cn.EVENTS.DISCONNECTED,{sessionIdHash:on.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,re.filter)(e=>e),(0,re.take)(1),(0,re.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,re.filter)(e=>e),(0,re.take)(1),(0,re.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,re.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,re.map)(e=>e))}setSessionMetadata(e,r){const n=(0,an.ClientMessageSetSessionConfig)({id:(0,yr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,re.flatMap)(i=>this.makeRequest(n)),(0,re.map)(i=>{if((0,Yo.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,an.ClientMessagePublishEvent)({id:(0,yr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,re.flatMap)(s=>this.makeRequest(i)),(0,re.map)(s=>{if((0,Yo.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>vl*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=K4){const n=e.id;try{this.sendData(e)}catch(i){return(0,it.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,re.timeoutWith)(r,(0,it.throwError)(new Error(`request ${n} timed out`))),(0,re.filter)(i=>i.id===n),(0,re.take)(1))}authenticate(){const e=(0,an.ClientMessageHostSession)({id:(0,yr.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,re.map)(r=>{if((0,Yo.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,an.ClientMessageIsLinked)({id:(0,yr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,an.ClientMessageGetSessionConfig)({id:(0,yr.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}_s.WalletSDKConnection=X4;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.decrypt=Fr.encrypt=void 0;const mi=F;async function e5(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,mi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),c=s.slice(0,s.byteLength-o),u=new Uint8Array(a),h=new Uint8Array(c),l=new Uint8Array([...r,...u,...h]);return(0,mi.uint8ArrayToHex)(l)}Fr.encrypt=e5;function t5(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new Promise((r,n)=>{(async function(){const i=await crypto.subtle.importKey("raw",(0,mi.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=(0,mi.hexStringToUint8Array)(t),o=s.slice(0,12),a=s.slice(12,28),c=s.slice(28),u=new Uint8Array([...c,...a]),h={name:"AES-GCM",iv:new Uint8Array(o)};try{const l=await window.crypto.subtle.decrypt(h,i,u),d=new TextDecoder;r(d.decode(l))}catch(l){n(l)}})()})}Fr.decrypt=t5;var vs={},ys={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(ys);Object.defineProperty(vs,"__esModule",{value:!0});vs.Web3RequestCanceledMessage=void 0;const r5=ys;function n5(t){return{type:r5.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}vs.Web3RequestCanceledMessage=n5;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.Web3RequestMessage=void 0;const i5=ys;function s5(t){return Object.assign({type:i5.RelayMessageType.WEB3_REQUEST},t)}ws.Web3RequestMessage=s5;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.isWeb3ResponseMessage=Wr.Web3ResponseMessage=void 0;const df=ys;function o5(t){return Object.assign({type:df.RelayMessageType.WEB3_RESPONSE},t)}Wr.Web3ResponseMessage=o5;function a5(t){return t&&t.type===df.RelayMessageType.WEB3_RESPONSE}Wr.isWeb3ResponseMessage=a5;var c5=B&&B.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),u5=B&&B.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ff=B&&B.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},l5=B&&B.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&c5(e,t,r);return u5(e,t),e},h5=B&&B.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fs,"__esModule",{value:!0});fs.WalletSDKRelay=void 0;const pf=h5(ps),Yt=es,Re=mc,Le=Hr,d5=_s,wr=wn,f5=In,be=F,Dt=l5(Fr),jt=Ur,ni=ct,Ae=Ri,p5=vs,b5=ws,Ze=fe,Ve=Wr;class at extends ni.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Yt.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Yt.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=jt.Session.load(this.storage)||new jt.Session(this.storage).save(),r=new d5.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,Re.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,Re.skip)(1),(0,Re.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(ni.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!c){this.isUnlinkedErrorState=!0;const u=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(Le.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:u})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,Re.mergeMap)(i=>Dt.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(ni.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,Re.mergeMap)(i=>Dt.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(ni.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,Re.mergeMap)(i=>(0,Yt.zip)(Dt.decrypt(i.metadata.ChainId,e.secret),Dt.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,Re.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,Re.mergeMap)(i=>Dt.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),at.accountRequestCallbackIds.size>0&&(Array.from(at.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,Ve.Web3ResponseMessage)({id:s,response:(0,Ze.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),at.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,Re.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,Re.mergeMap)(i=>Dt.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,Re.timeout)(1e3),(0,Re.catchError)(e=>(0,Yt.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(Le.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=jt.Session.load(this.storage);if(o?.id===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(Le.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:jt.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0),this.subscriptions=new Yt.Subscription;const{session:a,ui:c,connection:u}=this.subscribe();this._session=a,this.connection=u,this.ui=c,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Le.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:Ae.Web3Method.signEthereumMessage,params:{message:(0,be.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:Ae.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,be.hexStringFromBuffer)(e,!0),signature:(0,be.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:Ae.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,be.bigIntStringFromBN)(e.weiValue),data:(0,be.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,be.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:Ae.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,be.bigIntStringFromBN)(e.weiValue),data:(0,be.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,be.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,be.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,be.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,be.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:Ae.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,be.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:Ae.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,be.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:Ae.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,be.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r?.()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,c=>{if(r?.(),c.errorMessage)return a(new Error(c.errorMessage));o(c)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,b5.Web3RequestMessage)({id:e,request:r}),s=jt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(Le.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?jt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(Le.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?jt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,p5.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Yt.Observable(s=>{Dt.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,Re.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add((0,Yt.from)(Dt.decrypt(e.data,this.session.secret)).pipe((0,Re.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,Ve.isWeb3ResponseMessage)(r)?r:null;!n||this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(Le.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(Le.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,Ze.isRequestEthereumAccountsResponse)(n)){at.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),at.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){var s;const o=(s=n?.message)!==null&&s!==void 0?s:(0,wr.standardErrorMessage)(i);this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:e,response:{method:r,errorMessage:o,errorCode:i}}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:Ae.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,be.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,u=>{if(this.ui.hideRequestEthereumAccounts(),u.errorMessage)return o(new Error(u.errorMessage));s(u)});const c=((a=window?.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(c&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(c)){let u;try{(0,be.isInIFrame)()&&window.top?u=window.top.location:u=window.location}catch{u=window.location}u.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(u.href)}`;return}if(this.ui.inlineAccountsResponse()){const u=h=>{this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:r,response:(0,Ze.RequestEthereumAccountsResponse)(h)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:u})}else{const u=wr.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(u)})}at.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:Ae.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,be.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,h=>{if(h.errorMessage)return a(new Error(h.errorMessage));o(h)});const c=h=>{this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:n,response:(0,Ze.SelectProviderResponse)(f5.ProviderType.Unselected)}))},u=h=>{this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:n,response:(0,Ze.SelectProviderResponse)(h)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:u,onCancel:c,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:Ae.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let c=null;const u=(0,be.randomBytesHex)(8),h=d=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,d),c?.()};this.ui.inlineWatchAsset()||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}));const l=new Promise((d,p)=>{this.relayEventManager.callbacks.set(u,w=>{if(c?.(),w.errorMessage)return p(new Error(w.errorMessage));d(w)});const g=w=>{this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:u,response:(0,Ze.WatchAssetReponse)(!1)}))},E=()=>{this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:u,response:(0,Ze.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:E,onCancel:g,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)});return{cancel:h,promise:l}}addEthereumChain(e,r,n,i,s,o){const a={method:Ae.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let c=null;const u=(0,be.randomBytesHex)(8),h=d=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,a.method,d),c?.()};return this.ui.inlineAddEthereumChain(e)||(c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload})),{promise:new Promise((d,p)=>{this.relayEventManager.callbacks.set(u,w=>{if(c?.(),w.errorMessage)return p(new Error(w.errorMessage));d(w)});const g=w=>{this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:u,response:(0,Ze.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},E=w=>{this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:u,response:(0,Ze.AddEthereumChainResponse)({isApproved:!0,rpcUrl:w})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:g,onApprove:E,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(u,a)}),cancel:h}}switchEthereumChain(e,r){const n={method:Ae.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,be.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,c)=>{this.relayEventManager.callbacks.set(i,l=>{if((0,Ze.isErrorResponse)(l)&&l.errorCode)return c(wr.standardErrors.provider.custom({code:l.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(l.errorMessage)return c(new Error(l.errorMessage));a(l)});const u=l=>{var d;if(l){const p=(d=(0,wr.getErrorCode)(l))!==null&&d!==void 0?d:wr.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,Ae.Web3Method.switchEthereumChain,l instanceof Error?l:wr.standardErrors.provider.unsupportedChain(e),p)}else this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:i,response:(0,Ze.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},h=l=>{this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:i,response:(0,Ze.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:l})}))};this.ui.switchEthereumChain({onCancel:u,onApprove:h,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return jt.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,Ve.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case Ae.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case Ae.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ae.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case Ae.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}at.accountRequestCallbackIds=new Set;ff([pf.default],at.prototype,"resetAndReload",null);ff([pf.default],at.prototype,"handleIncomingEvent",null);fs.WalletSDKRelay=at;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.WalletSDKRelayEventManager=void 0;const g5=F;class _5{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,g5.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}Ss.WalletSDKRelayEventManager=_5;Object.defineProperty(pn,"__esModule",{value:!0});pn.CoinbaseWalletSDK=void 0;const m5=yi,v5=wi,y5=Si,w5=kr,S5=Zi,E5=fs,R5=Ss,C5=F,bf=zr;class Es{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||v5.LINK_API_URL;let o;if(e.uiConstructor?o=e.uiConstructor:o=u=>new S5.WalletSDKUI(u),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),c=`${a.protocol}//${a.host}`;this._storage=new y5.ScopedLocalStorage(`-walletlink:${c}`),this._storage.setItem("version",Es.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new R5.WalletSDKRelayEventManager,this._relay=new E5.WalletSDKRelay({linkAPIUrl:s,version:bf.LIB_VERSION,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new w5.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,C5.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,m5.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}pn.CoinbaseWalletSDK=Es;Es.VERSION=bf.LIB_VERSION;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=pn,r=kr;var n=pn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=kr;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(_a);const I5=yf(_a),M5=wf({__proto__:null,default:I5},[_a]);export{M5 as i};
