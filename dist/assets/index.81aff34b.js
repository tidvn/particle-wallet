import{H as ne,E as Xe,t as Wr,a as or,f as Vr,A as ut,h as ar,i as V,j as Kr,k as Se}from"./lazy-json.dc83719e.js";import{v as Xr,c as X,j as cr}from"./index.fbf0f355.js";const co=t=>{let e=t.httpHandler;return{setHttpHandler(r){e=r},httpHandler(){return e},updateHttpClientConfig(r,i){e.updateHttpClientConfig(r,i)},httpHandlerConfigs(){return e.httpHandlerConfigs()}}},uo=t=>({httpHandler:t.httpHandler()}),Ze="__smithy_context";function lo(t){return t}const Zr=t=>e=>async r=>{if(!ne.isInstance(r.request))return e(r);const{request:i}=r,{handlerProtocol:c=""}=t.requestHandler.metadata||{};if(c.indexOf("h2")>=0&&!i.headers[":authority"])delete i.headers.host,i.headers[":authority"]=i.hostname+(i.port?":"+i.port:"");else if(!i.headers.host){let u=i.hostname;i.port!=null&&(u+=`:${i.port}`),i.headers.host=u}return e(r)},Yr={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},fo=t=>({applyToStack:e=>{e.add(Zr(t),Yr)}}),Qr=()=>(t,e)=>async r=>{try{const i=await t(r),{clientName:c,commandName:u,logger:f,dynamoDbDocumentClientOptions:h={}}=e,{overrideInputFilterSensitiveLog:g,overrideOutputFilterSensitiveLog:_}=h,v=g??e.inputFilterSensitiveLog,S=_??e.outputFilterSensitiveLog,{$metadata:A,...R}=i.output;return f?.info?.({clientName:c,commandName:u,input:v(r.input),output:S(R),metadata:A}),i}catch(i){const{clientName:c,commandName:u,logger:f,dynamoDbDocumentClientOptions:h={}}=e,{overrideInputFilterSensitiveLog:g}=h,_=g??e.inputFilterSensitiveLog;throw f?.error?.({clientName:c,commandName:u,input:_(r.input),error:i,metadata:i.$metadata}),i}},Jr={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},ho=t=>({applyToStack:e=>{e.add(Qr(),Jr)}}),lt="X-Amzn-Trace-Id",en="AWS_LAMBDA_FUNCTION_NAME",tn="_X_AMZN_TRACE_ID",rn=t=>e=>async r=>{const{request:i}=r;if(!ne.isInstance(i)||t.runtime!=="node"||i.headers.hasOwnProperty(lt))return e(r);const c={LESSOPEN:"| /usr/bin/lesspipe %s",npm_package_dependencies__particle_network_provider:"^1.2.0",npm_package_dependencies__particle_network_auth_core:"^1.3.1",USER:"tid",npm_package_dependencies__particle_network_thresh_sig:"^0.7.8",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.21 npm/? node/v20.10.0 linux x64",npm_config_bin_links:"true",GIT_ASKPASS:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/tid/.nvm/versions/node/v20.10.0/bin/node",npm_package_dependencies__particle_network_connectkit:"^1.3.3",npm_package_devDependencies_vite:"^3.0.4",npm_config_init_version:"1.0.0",SHLVL:"1",HOME:"/home/tid",npm_package_dependencies_ethers:"5.7.2",TERM_PROGRAM_VERSION:"1.86.2",NVM_BIN:"/home/tid/.nvm/versions/node/v20.10.0/bin",VSCODE_IPC_HOOK_CLI:"/mnt/wslg/runtime-dir/vscode-ipc-67a14022-7f7a-447a-b4be-66570f42fce4.sock",NVM_INC:"/home/tid/.nvm/versions/node/v20.10.0/include/node",npm_config_init_license:"MIT",VSCODE_GIT_ASKPASS_MAIN:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/extensions/git/dist/askpass-main.js",YARN_WRAP_OUTPUT:"false",npm_package_dependencies_thresh:"^1.1.0",npm_config_version_tag_prefix:"v",VSCODE_GIT_ASKPASS_NODE:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/node",COLORTERM:"truecolor",WSL_DISTRO_NAME:"Ubuntu",npm_package_dependencies_antd:"^5.11.5",npm_package_devDependencies_typescript:"^4.7.4",npm_package_description:"Example application showcasing the implementation of Particle Connect for onboarding and interaction within Avalanche applications.",NVM_DIR:"/home/tid/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies_react:"^18.2.0",WAYLAND_DISPLAY:"wayland-0",npm_package_scripts_dev:"vite",LOGNAME:"tid",npm_package_devDependencies__vitejs_plugin_react:"^2.0.0",npm_package_type:"module",NAME:"TidPc",WSL_INTEROP:"/run/WSL/12_interop",PULSE_SERVER:"unix:/mnt/wslg/PulseServer",_:"/home/tid/.nvm/versions/node/v20.10.0/bin/yarn",npm_package_dependencies__particle_network_connectors:"^1.3.1",npm_config_registry:"https://registry.yarnpkg.com",TERM:"xterm-256color",npm_config_ignore_scripts:"",PATH:"/tmp/yarn--1708252146718-0.1661545954224679:/home/tid/project/particle/particle-avalanche-connect-demo/node_modules/.bin:/home/tid/.config/yarn/link/node_modules/.bin:/home/tid/.yarn/bin:/home/tid/.nvm/versions/node/v20.10.0/libexec/lib/node_modules/npm/bin/node-gyp-bin:/home/tid/.nvm/versions/node/v20.10.0/lib/node_modules/npm/bin/node-gyp-bin:/home/tid/.nvm/versions/node/v20.10.0/bin/node_modules/npm/bin/node-gyp-bin:/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/bin/remote-cli:/home/tid/.local/share/solana/install/active_release/bin:/home/tid/.cargo/bin:/home/tid/.nvm/versions/node/v20.10.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/h/env/Python312/Scripts/:/mnt/h/env/Python312/:/mnt/c/Windows/system32:/mnt/c/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0/:/mnt/c/Windows/System32/OpenSSH/:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/Program Files/Cloudflare/Cloudflare WARP/:/mnt/c/Users/phung/AppData/Local/Microsoft/WindowsApps:/mnt/c/tool/Microsoft VS Code/bin:/mnt/c/tool/ngrok/:/mnt/h/env/Python312/:/snap/bin",NODE:"/home/tid/.nvm/versions/node/v20.10.0/bin/node",npm_package_dependencies__particle_network_aa:"1.2.0",npm_package_name:"particle-avalanche-connect-demo",XDG_RUNTIME_DIR:"/mnt/wslg/runtime-dir",DISPLAY:":0",LANG:"C.UTF-8",npm_package_dependencies_react_dom:"^18.2.0",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/mnt/wslg/runtime-dir/vscode-git-bf4aafd2d1.sock",TERM_PROGRAM:"vscode",npm_lifecycle_script:"tsc && vite build",npm_config_version_git_message:"v%s",SHELL:"/bin/bash",npm_lifecycle_event:"build",npm_package_dependencies_vite_plugin_wasm:"^3.2.2",npm_package_dependencies__particle_network_auth:"^1.2.2",npm_package_devDependencies__types_react:"^18.0.15",npm_package_version:"1.0.0",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_buffer:"^6.0.3",npm_package_dependencies__particle_network_chains:"latest",npm_package_scripts_build:"tsc && vite build",LESSCLOSE:"/usr/bin/lesspipe %s %s",npm_package_dependencies__types_events:"^3.0.3",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",npm_package_license:"ISC",npm_config_strict_ssl:"true",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",PWD:"/home/tid/project/particle/particle-avalanche-connect-demo",npm_execpath:"/home/tid/.nvm/versions/node/v20.10.0/lib/node_modules/yarn/bin/yarn.js",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/local/share:/usr/share:/var/lib/snapd/desktop",npm_config_save_prefix:"^",npm_config_ignore_optional:"",npm_package_dependencies__particle_network_auth_core_modal:"^1.3.1",npm_package_scripts_preview:"vite preview",WSL2_GUI_APPS_ENABLED:"1",HOSTTYPE:"x86_64",INIT_CWD:"/home/tid/project/particle/particle-avalanche-connect-demo",WSLENV:"VSCODE_WSL_EXT_LOCATION/up",NODE_ENV:"production"}[en],u={LESSOPEN:"| /usr/bin/lesspipe %s",npm_package_dependencies__particle_network_provider:"^1.2.0",npm_package_dependencies__particle_network_auth_core:"^1.3.1",USER:"tid",npm_package_dependencies__particle_network_thresh_sig:"^0.7.8",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.21 npm/? node/v20.10.0 linux x64",npm_config_bin_links:"true",GIT_ASKPASS:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/extensions/git/dist/askpass.sh",npm_node_execpath:"/home/tid/.nvm/versions/node/v20.10.0/bin/node",npm_package_dependencies__particle_network_connectkit:"^1.3.3",npm_package_devDependencies_vite:"^3.0.4",npm_config_init_version:"1.0.0",SHLVL:"1",HOME:"/home/tid",npm_package_dependencies_ethers:"5.7.2",TERM_PROGRAM_VERSION:"1.86.2",NVM_BIN:"/home/tid/.nvm/versions/node/v20.10.0/bin",VSCODE_IPC_HOOK_CLI:"/mnt/wslg/runtime-dir/vscode-ipc-67a14022-7f7a-447a-b4be-66570f42fce4.sock",NVM_INC:"/home/tid/.nvm/versions/node/v20.10.0/include/node",npm_config_init_license:"MIT",VSCODE_GIT_ASKPASS_MAIN:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/extensions/git/dist/askpass-main.js",YARN_WRAP_OUTPUT:"false",npm_package_dependencies_thresh:"^1.1.0",npm_config_version_tag_prefix:"v",VSCODE_GIT_ASKPASS_NODE:"/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/node",COLORTERM:"truecolor",WSL_DISTRO_NAME:"Ubuntu",npm_package_dependencies_antd:"^5.11.5",npm_package_devDependencies_typescript:"^4.7.4",npm_package_description:"Example application showcasing the implementation of Particle Connect for onboarding and interaction within Avalanche applications.",NVM_DIR:"/home/tid/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies_react:"^18.2.0",WAYLAND_DISPLAY:"wayland-0",npm_package_scripts_dev:"vite",LOGNAME:"tid",npm_package_devDependencies__vitejs_plugin_react:"^2.0.0",npm_package_type:"module",NAME:"TidPc",WSL_INTEROP:"/run/WSL/12_interop",PULSE_SERVER:"unix:/mnt/wslg/PulseServer",_:"/home/tid/.nvm/versions/node/v20.10.0/bin/yarn",npm_package_dependencies__particle_network_connectors:"^1.3.1",npm_config_registry:"https://registry.yarnpkg.com",TERM:"xterm-256color",npm_config_ignore_scripts:"",PATH:"/tmp/yarn--1708252146718-0.1661545954224679:/home/tid/project/particle/particle-avalanche-connect-demo/node_modules/.bin:/home/tid/.config/yarn/link/node_modules/.bin:/home/tid/.yarn/bin:/home/tid/.nvm/versions/node/v20.10.0/libexec/lib/node_modules/npm/bin/node-gyp-bin:/home/tid/.nvm/versions/node/v20.10.0/lib/node_modules/npm/bin/node-gyp-bin:/home/tid/.nvm/versions/node/v20.10.0/bin/node_modules/npm/bin/node-gyp-bin:/home/tid/.vscode-server/bin/903b1e9d8990623e3d7da1df3d33db3e42d80eda/bin/remote-cli:/home/tid/.local/share/solana/install/active_release/bin:/home/tid/.cargo/bin:/home/tid/.nvm/versions/node/v20.10.0/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/usr/lib/wsl/lib:/mnt/h/env/Python312/Scripts/:/mnt/h/env/Python312/:/mnt/c/Windows/system32:/mnt/c/Windows:/mnt/c/Windows/System32/Wbem:/mnt/c/Windows/System32/WindowsPowerShell/v1.0/:/mnt/c/Windows/System32/OpenSSH/:/mnt/c/Program Files/Docker/Docker/resources/bin:/mnt/c/Program Files/Cloudflare/Cloudflare WARP/:/mnt/c/Users/phung/AppData/Local/Microsoft/WindowsApps:/mnt/c/tool/Microsoft VS Code/bin:/mnt/c/tool/ngrok/:/mnt/h/env/Python312/:/snap/bin",NODE:"/home/tid/.nvm/versions/node/v20.10.0/bin/node",npm_package_dependencies__particle_network_aa:"1.2.0",npm_package_name:"particle-avalanche-connect-demo",XDG_RUNTIME_DIR:"/mnt/wslg/runtime-dir",DISPLAY:":0",LANG:"C.UTF-8",npm_package_dependencies_react_dom:"^18.2.0",LS_COLORS:"rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:",VSCODE_GIT_IPC_HANDLE:"/mnt/wslg/runtime-dir/vscode-git-bf4aafd2d1.sock",TERM_PROGRAM:"vscode",npm_lifecycle_script:"tsc && vite build",npm_config_version_git_message:"v%s",SHELL:"/bin/bash",npm_lifecycle_event:"build",npm_package_dependencies_vite_plugin_wasm:"^3.2.2",npm_package_dependencies__particle_network_auth:"^1.2.2",npm_package_devDependencies__types_react:"^18.0.15",npm_package_version:"1.0.0",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_dependencies_buffer:"^6.0.3",npm_package_dependencies__particle_network_chains:"latest",npm_package_scripts_build:"tsc && vite build",LESSCLOSE:"/usr/bin/lesspipe %s %s",npm_package_dependencies__types_events:"^3.0.3",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",npm_package_license:"ISC",npm_config_strict_ssl:"true",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",PWD:"/home/tid/project/particle/particle-avalanche-connect-demo",npm_execpath:"/home/tid/.nvm/versions/node/v20.10.0/lib/node_modules/yarn/bin/yarn.js",NVM_CD_FLAGS:"",XDG_DATA_DIRS:"/usr/local/share:/usr/share:/var/lib/snapd/desktop",npm_config_save_prefix:"^",npm_config_ignore_optional:"",npm_package_dependencies__particle_network_auth_core_modal:"^1.3.1",npm_package_scripts_preview:"vite preview",WSL2_GUI_APPS_ENABLED:"1",HOSTTYPE:"x86_64",INIT_CWD:"/home/tid/project/particle/particle-avalanche-connect-demo",WSLENV:"VSCODE_WSL_EXT_LOCATION/up",NODE_ENV:"production"}[tn],f=h=>typeof h=="string"&&h.length>0;return f(c)&&f(u)&&(i.headers[lt]=u),e({...r,request:i})},nn={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},po=t=>({applyToStack:e=>{e.add(rn(t),nn)}});function mo(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}const sn=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),ur=t=>sn.test(t)||t.startsWith("[")&&t.endsWith("]"),on=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),rt=(t,e=!1)=>{if(!e)return on.test(t);const r=t.split(".");for(const i of r)if(!rt(i))return!1;return!0},Ye={},be="endpoints";function J(t){return typeof t!="object"||t==null?t:"ref"in t?`$${J(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(J).join(", ")})`:JSON.stringify(t,null,2)}class W extends Error{constructor(e){super(e),this.name="EndpointError"}}const an=(t,e)=>t===e,cn=t=>{const e=t.split("."),r=[];for(const i of e){const c=i.indexOf("[");if(c!==-1){if(i.indexOf("]")!==i.length-1)throw new W(`Path: '${t}' does not end with ']'`);const u=i.slice(c+1,-1);if(Number.isNaN(parseInt(u)))throw new W(`Invalid array index: '${u}' in path: '${t}'`);c!==0&&r.push(i.slice(0,c)),r.push(u)}else r.push(i)}return r},lr=(t,e)=>cn(e).reduce((r,i)=>{if(typeof r!="object")throw new W(`Index '${i}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(i)]:r[i]},t),un=t=>t!=null,ln=t=>!t,Oe={[Xe.HTTP]:80,[Xe.HTTPS]:443},fn=t=>{const e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){const{hostname:A,port:R,protocol:E="",path:O="",query:D={}}=t,P=new URL(`${E}//${A}${R?`:${R}`:""}${O}`);return P.search=Object.entries(D).map(([M,I])=>`${M}=${I}`).join("&"),P}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;const r=e.href,{host:i,hostname:c,pathname:u,protocol:f,search:h}=e;if(h)return null;const g=f.slice(0,-1);if(!Object.values(Xe).includes(g))return null;const _=ur(c),v=r.includes(`${i}:${Oe[g]}`)||typeof t=="string"&&t.includes(`${i}:${Oe[g]}`),S=`${i}${v?`:${Oe[g]}`:""}`;return{scheme:g,authority:S,path:u,normalizedPath:u.endsWith("/")?u:`${u}/`,isIp:_}},dn=(t,e)=>t===e,hn=(t,e,r,i)=>e>=r||t.length<r?null:i?t.substring(t.length-r,t.length-e):t.substring(e,r),pn=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),mn={booleanEquals:an,getAttr:lr,isSet:un,isValidHostLabel:rt,not:ln,parseURL:fn,stringEquals:dn,substring:hn,uriEncode:pn},fr=(t,e)=>{const r=[],i={...e.endpointParams,...e.referenceRecord};let c=0;for(;c<t.length;){const u=t.indexOf("{",c);if(u===-1){r.push(t.slice(c));break}r.push(t.slice(c,u));const f=t.indexOf("}",u);if(f===-1){r.push(t.slice(u));break}t[u+1]==="{"&&t[f+1]==="}"&&(r.push(t.slice(u+1,f)),c=f+2);const h=t.substring(u+1,f);if(h.includes("#")){const[g,_]=h.split("#");r.push(lr(i[g],_))}else r.push(i[h]);c=f+1}return r.join("")},gn=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],Ce=(t,e,r)=>{if(typeof t=="string")return fr(t,r);if(t.fn)return dr(t,r);if(t.ref)return gn(t,r);throw new W(`'${e}': ${String(t)} is not a string, function or reference.`)},dr=({fn:t,argv:e},r)=>{const i=e.map(u=>["boolean","number"].includes(typeof u)?u:Ce(u,"arg",r)),c=t.split(".");return c[0]in Ye&&c[1]!=null?Ye[c[0]][c[1]](...i):mn[t](...i)},_n=({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new W(`'${t}' is already defined in Reference Record.`);const i=dr(e,r);return r.logger?.debug?.(be,`evaluateCondition: ${J(e)} = ${J(i)}`),{result:i===""?!0:!!i,...t!=null&&{toAssign:{name:t,value:i}}}},nt=(t=[],e)=>{const r={};for(const i of t){const{result:c,toAssign:u}=_n(i,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!c)return{result:c};u&&(r[u.name]=u.value,e.logger?.debug?.(be,`assign: ${u.name} := ${J(u.value)}`))}return{result:!0,referenceRecord:r}},yn=(t,e)=>Object.entries(t).reduce((r,[i,c])=>({...r,[i]:c.map(u=>{const f=Ce(u,"Header value entry",e);if(typeof f!="string")throw new W(`Header '${i}' value '${f}' is not a string`);return f})}),{}),hr=(t,e)=>{if(Array.isArray(t))return t.map(r=>hr(r,e));switch(typeof t){case"string":return fr(t,e);case"object":if(t===null)throw new W(`Unexpected endpoint property: ${t}`);return pr(t,e);case"boolean":return t;default:throw new W(`Unexpected endpoint property type: ${typeof t}`)}},pr=(t,e)=>Object.entries(t).reduce((r,[i,c])=>({...r,[i]:hr(c,e)}),{}),vn=(t,e)=>{const r=Ce(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(i){throw console.error(`Failed to construct URL with ${r}`,i),i}throw new W(`Endpoint URL must be a string, got ${typeof r}`)},bn=(t,e)=>{const{conditions:r,endpoint:i}=t,{result:c,referenceRecord:u}=nt(r,e);if(!c)return;const f={...e,referenceRecord:{...e.referenceRecord,...u}},{url:h,properties:g,headers:_}=i;return e.logger?.debug?.(be,`Resolving endpoint from template: ${J(i)}`),{..._!=null&&{headers:yn(_,f)},...g!=null&&{properties:pr(g,f)},url:vn(h,f)}},wn=(t,e)=>{const{conditions:r,error:i}=t,{result:c,referenceRecord:u}=nt(r,e);if(!!c)throw new W(Ce(i,"Error",{...e,referenceRecord:{...e.referenceRecord,...u}}))},Sn=(t,e)=>{const{conditions:r,rules:i}=t,{result:c,referenceRecord:u}=nt(r,e);if(!!c)return mr(i,{...e,referenceRecord:{...e.referenceRecord,...u}})},mr=(t,e)=>{for(const r of t)if(r.type==="endpoint"){const i=bn(r,e);if(i)return i}else if(r.type==="error")wn(r,e);else if(r.type==="tree"){const i=Sn(r,e);if(i)return i}else throw new W(`Unknown endpoint rule: ${r}`);throw new W("Rules evaluation failed")},go=(t,e)=>{const{endpointParams:r,logger:i}=e,{parameters:c,rules:u}=t;e.logger?.debug?.(`${be} Initial EndpointParams: ${J(r)}`);const f=Object.entries(c).filter(([,_])=>_.default!=null).map(([_,v])=>[_,v.default]);if(f.length>0)for(const[_,v]of f)r[_]=r[_]??v;const h=Object.entries(c).filter(([,_])=>_.required).map(([_])=>_);for(const _ of h)if(r[_]==null)throw new W(`Missing required parameter: '${_}'`);const g=mr(u,{endpointParams:r,logger:i,referenceRecord:{}});if(e.endpointParams?.Endpoint)try{const _=new URL(e.endpointParams.Endpoint),{protocol:v,port:S}=_;g.url.protocol=v,g.url.port=S}catch{}return e.logger?.debug?.(`${be} Resolved endpoint: ${J(g)}`),g},gr=(t,e=!1)=>{if(e){for(const r of t.split("."))if(!gr(r))return!1;return!0}return!(!rt(t)||t.length<3||t.length>63||t!==t.toLowerCase()||ur(t))},An=t=>{const e=t.split(":");if(e.length<6)return null;const[r,i,c,u,f,...h]=e;return r!=="arn"||i===""||c===""||h[0]===""?null:{partition:i,service:c,region:u,accountId:f,resourceId:h[0].includes("/")?h[0].split("/"):h}},En=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{}}],xn="1.1",Rn={partitions:En,version:xn};let Cn=Rn;const On=t=>{const{partitions:e}=Cn;for(const i of e){const{regions:c,outputs:u}=i;for(const[f,h]of Object.entries(c))if(f===t)return{...u,...h}}for(const i of e){const{regionRegex:c,outputs:u}=i;if(new RegExp(c).test(t))return{...u}}const r=e.find(i=>i.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},Dn={isVirtualHostableS3Bucket:gr,parseArn:An,partition:On};Ye.aws=Dn;const ft="user-agent",De="x-amz-user-agent",dt=" ",Te="/",Tn=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,Pn=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,ht="-",Mn=t=>(e,r)=>async i=>{const{request:c}=i;if(!ne.isInstance(c))return e(i);const{headers:u}=c,f=r?.userAgent?.map(Pe)||[],h=(await t.defaultUserAgentProvider()).map(Pe),g=t?.customUserAgent?.map(Pe)||[],_=[].concat([...h,...f,...g]).join(dt),v=[...h.filter(S=>S.startsWith("aws-sdk-")),...g].join(dt);return t.runtime!=="browser"?(v&&(u[De]=u[De]?`${u[ft]} ${v}`:v),u[ft]=_):u[De]=_,e({...i,request:c})},Pe=t=>{const e=t[0].split(Te).map(f=>f.replace(Tn,ht)).join(Te),r=t[1]?.replace(Pn,ht),i=e.indexOf(Te),c=e.substring(0,i);let u=e.substring(i+1);return c==="api"&&(u=u.toLowerCase()),[c,u,r].filter(f=>f&&f.length>0).reduce((f,h,g)=>{switch(g){case 0:return h;case 1:return`${f}/${h}`;default:return`${f}#${h}`}},"")},Bn={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},_o=t=>({applyToStack:e=>{e.add(Mn(t),Bn)}});var pt;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(pt||(pt={}));const yo=!1,vo=!1,it=t=>t[Ze]||(t[Ze]={}),te=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},_r=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),mt=t=>_r(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,bo=t=>{const{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return mt(e);const i=await e();return mt(i)},useFipsEndpoint:async()=>{const i=typeof e=="string"?e:await e();return _r(i)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};function kn(t){const e=new Map;for(const r of t)e.set(r.schemeId,r);return e}const In=(t,e)=>(r,i)=>async c=>{const u=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,i,c.input)),f=kn(t.httpAuthSchemes),h=it(i),g=[];for(const _ of u){const v=f.get(_.schemeId);if(!v){g.push(`HttpAuthScheme \`${_.schemeId}\` was not enabled for this service.`);continue}const S=v.identityProvider(await e.identityProviderConfigProvider(t));if(!S){g.push(`HttpAuthScheme \`${_.schemeId}\` did not have an IdentityProvider configured.`);continue}const{identityProperties:A={},signingProperties:R={}}=_.propertiesExtractor?.(t,i)||{};_.identityProperties=Object.assign(_.identityProperties||{},A),_.signingProperties=Object.assign(_.signingProperties||{},R),h.selectedHttpAuthScheme={httpAuthOption:_,identity:await S(_.identityProperties),signer:v.signer};break}if(!h.selectedHttpAuthScheme)throw new Error(g.join(`
`));return r(c)},Fn=async t=>{const e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Un(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!$n(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},Nn=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Ln=/(\d+\.){3}\d+/,jn=/\.\./,$n=t=>Nn.test(t)&&!Ln.test(t)&&!jn.test(t),Un=t=>{const[e,r,i,c,u,f]=t.split(":"),h=e==="arn"&&t.split(":").length>=6,g=[e,r,i,u,f].filter(Boolean).length===5;if(h&&!g)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return e==="arn"&&!!r&&!!i&&!!u&&!!f},Hn=(t,e,r)=>{const i=async()=>{const c=r[t]??r[e];return typeof c=="function"?c():c};return t==="credentialScope"||e==="CredentialScope"?async()=>{const c=typeof r.credentials=="function"?await r.credentials():r.credentials;return c?.credentialScope??c?.CredentialScope}:t==="endpoint"||e==="endpoint"?async()=>{const c=await i();if(c&&typeof c=="object"){if("url"in c)return c.url.href;if("hostname"in c){const{protocol:u,hostname:f,port:h,path:g}=c;return`${u}//${f}${h?":"+h:""}${g}`}}return c}:i},zn=async t=>{};function qn(t){const e={};if(t=t.replace(/^\?/,""),t)for(const r of t.split("&")){let[i,c=null]=r.split("=");i=decodeURIComponent(i),c&&(c=decodeURIComponent(c)),i in e?Array.isArray(e[i])?e[i].push(c):e[i]=[e[i],c]:e[i]=c}return e}const Qe=t=>{if(typeof t=="string")return Qe(new URL(t));const{hostname:e,pathname:r,port:i,protocol:c,search:u}=t;let f;return u&&(f=qn(u)),{hostname:e,port:i?parseInt(i):void 0,protocol:c,path:r,query:f}},yr=t=>typeof t=="object"?"url"in t?Qe(t.url):t:Qe(t),Gn=async(t,e,r,i)=>{if(!r.endpoint){const f=await zn(r.serviceId||"");f&&(r.endpoint=()=>Promise.resolve(yr(f)))}const c=await Wn(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(c,i)},Wn=async(t,e,r)=>{const i={},c=e?.getEndpointParameterInstructions?.()||{};for(const[u,f]of Object.entries(c))switch(f.type){case"staticContextParams":i[u]=f.value;break;case"contextParams":i[u]=t[f.name];break;case"clientContextParams":case"builtInParams":i[u]=await Hn(f.name,u,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(f))}return Object.keys(c).length===0&&Object.assign(i,r),String(r.serviceId).toLowerCase()==="s3"&&await Fn(i),i},Vn=({config:t,instructions:e})=>(r,i)=>async c=>{const u=await Gn(c.input,{getEndpointParameterInstructions(){return e}},{...t},i);i.endpointV2=u,i.authSchemes=u.properties?.authSchemes;const f=i.authSchemes?.[0];if(f){i.signing_region=f.signingRegion,i.signing_service=f.signingName;const g=it(i)?.selectedHttpAuthScheme?.httpAuthOption;g&&(g.signingProperties=Object.assign(g.signingProperties||{},{signing_region:f.signingRegion,signingRegion:f.signingRegion,signing_service:f.signingName,signingName:f.signingName,signingRegionSet:f.signingRegionSet},f.properties))}return r({...c})},Kn=(t,e)=>(r,i)=>async c=>{const{response:u}=await r(c);try{const f=await e(u,t);return{response:u,output:f}}catch(f){if(Object.defineProperty(f,"$response",{value:u}),!("$metadata"in f)){const h="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";f.message+=`
  `+h}throw f}},Xn=(t,e)=>(r,i)=>async c=>{const u=i.endpointV2?.url&&t.urlParser?async()=>t.urlParser(i.endpointV2.url):t.endpoint;if(!u)throw new Error("No valid endpoint provider available.");const f=await e(c.input,{...t,endpoint:u});return r({...c,request:f})},Zn={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},st={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function wo(t,e,r){return{applyToStack:i=>{i.add(Kn(t,r),Zn),i.add(Xn(t,e),st)}}}const vr={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:st.name},So=(t,e)=>({applyToStack:r=>{r.addRelativeTo(Vn({config:t,instructions:e}),vr)}}),Ao=t=>{const e=t.tls??!0,{endpoint:r}=t,i=r!=null?async()=>yr(await te(r)()):void 0;return{...t,endpoint:i,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:te(t.useDualstackEndpoint??!1),useFipsEndpoint:te(t.useFipsEndpoint??!1)}},Yn={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:vr.name},Eo=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:i=>{i.addRelativeTo(In(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),Yn)}});st.name;const Qn=t=>e=>{throw e},Jn=(t,e)=>{},ei=t=>(e,r)=>async i=>{if(!ne.isInstance(i.request))return e(i);const u=it(r).selectedHttpAuthScheme;if(!u)throw new Error("No HttpAuthScheme was selected: unable to sign request");const{httpAuthOption:{signingProperties:f={}},identity:h,signer:g}=u,_=await e({...i,request:await g.sign(i.request,h,f)}).catch((g.errorHandler||Qn)(f));return(g.successHandler||Jn)(_.response,f),_};var ie;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(ie||(ie={}));const Je=3,xo=ie.STANDARD,ti=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],ri=["TimeoutError","RequestTimeout","RequestTimeoutException"],ni=[500,502,503,504],ii=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],br=t=>t.$metadata?.httpStatusCode===429||ti.includes(t.name)||t.$retryable?.throttling==!0,wr=t=>ri.includes(t.name)||ii.includes(t?.code||"")||ni.includes(t.$metadata?.httpStatusCode||0),si=t=>{if(t.$metadata?.httpStatusCode!==void 0){const e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!wr(t)}return!1};class oi{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;const r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(!!this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){const r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(i=>setTimeout(i,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){const e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}const r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),br(e)){const c=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=c,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(c),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());const i=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(i)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){const e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){const i=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(i*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}}const et=100,Sr=20*1e3,ai=500,gt=500,ci=5,ui=10,li=1,fi="amz-sdk-invocation-id",di="amz-sdk-request",hi=()=>{let t=et;return{computeNextBackoffDelay:i=>Math.floor(Math.min(Sr,Math.random()*2**i*t)),setDelayBase:i=>{t=i}}},_t=({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:()=>e,getRetryDelay:()=>Math.min(Sr,t),getRetryCost:()=>r});class Ar{constructor(e){this.maxAttempts=e,this.mode=ie.STANDARD,this.capacity=gt,this.retryBackoffStrategy=hi(),this.maxAttemptsProvider=typeof e=="function"?e:async()=>e}async acquireInitialRetryToken(e){return _t({retryDelay:et,retryCount:0})}async refreshRetryTokenForRetry(e,r){const i=await this.getMaxAttempts();if(this.shouldRetry(e,r,i)){const c=r.errorType;this.retryBackoffStrategy.setDelayBase(c==="THROTTLING"?ai:et);const u=this.retryBackoffStrategy.computeNextBackoffDelay(e.getRetryCount()),f=r.retryAfterHint?Math.max(r.retryAfterHint.getTime()-Date.now()||0,u):u,h=this.getCapacityCost(c);return this.capacity-=h,_t({retryDelay:f,retryCount:e.getRetryCount()+1,retryCost:h})}throw new Error("No retry token available")}recordSuccess(e){this.capacity=Math.max(gt,this.capacity+(e.getRetryCost()??li))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${Je}`),Je}}shouldRetry(e,r,i){return e.getRetryCount()+1<i&&this.capacity>=this.getCapacityCost(r.errorType)&&this.isRetryableError(r.errorType)}getCapacityCost(e){return e==="TRANSIENT"?ui:ci}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}}class pi{constructor(e,r){this.maxAttemptsProvider=e,this.mode=ie.ADAPTIVE;const{rateLimiter:i}=r??{};this.rateLimiter=i??new oi,this.standardRetryStrategy=new Ar(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}const mi=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),Ro=t=>{const{retryStrategy:e}=t,r=te(t.maxAttempts??Je);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await te(t.retryMode)()===ie.ADAPTIVE?new pi(r):new Ar(r))}};class gi{trace(){}debug(){}info(){}warn(){}error(){}}const ee=(t,e)=>{const r=[];if(t&&r.push(t),e)for(const i of e)r.push(i);return r},Y=(t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,Re=()=>{let t=[],e=[],r=!1;const i=new Set,c=S=>S.sort((A,R)=>yt[R.step]-yt[A.step]||vt[R.priority||"normal"]-vt[A.priority||"normal"]),u=S=>{let A=!1;const R=E=>{const O=ee(E.name,E.aliases);if(O.includes(S)){A=!0;for(const D of O)i.delete(D);return!1}return!0};return t=t.filter(R),e=e.filter(R),A},f=S=>{let A=!1;const R=E=>{if(E.middleware===S){A=!0;for(const O of ee(E.name,E.aliases))i.delete(O);return!1}return!0};return t=t.filter(R),e=e.filter(R),A},h=S=>(t.forEach(A=>{S.add(A.middleware,{...A})}),e.forEach(A=>{S.addRelativeTo(A.middleware,{...A})}),S.identifyOnResolve?.(v.identifyOnResolve()),S),g=S=>{const A=[];return S.before.forEach(R=>{R.before.length===0&&R.after.length===0?A.push(R):A.push(...g(R))}),A.push(S),S.after.reverse().forEach(R=>{R.before.length===0&&R.after.length===0?A.push(R):A.push(...g(R))}),A},_=(S=!1)=>{const A=[],R=[],E={};return t.forEach(D=>{const P={...D,before:[],after:[]};for(const M of ee(P.name,P.aliases))E[M]=P;A.push(P)}),e.forEach(D=>{const P={...D,before:[],after:[]};for(const M of ee(P.name,P.aliases))E[M]=P;R.push(P)}),R.forEach(D=>{if(D.toMiddleware){const P=E[D.toMiddleware];if(P===void 0){if(S)return;throw new Error(`${D.toMiddleware} is not found when adding ${Y(D.name,D.aliases)} middleware ${D.relation} ${D.toMiddleware}`)}D.relation==="after"&&P.after.push(D),D.relation==="before"&&P.before.push(D)}}),c(A).map(g).reduce((D,P)=>(D.push(...P),D),[])},v={add:(S,A={})=>{const{name:R,override:E,aliases:O}=A,D={step:"initialize",priority:"normal",middleware:S,...A},P=ee(R,O);if(P.length>0){if(P.some(M=>i.has(M))){if(!E)throw new Error(`Duplicate middleware name '${Y(R,O)}'`);for(const M of P){const I=t.findIndex($=>$.name===M||$.aliases?.some(H=>H===M));if(I===-1)continue;const F=t[I];if(F.step!==D.step||D.priority!==F.priority)throw new Error(`"${Y(F.name,F.aliases)}" middleware with ${F.priority} priority in ${F.step} step cannot be overridden by "${Y(R,O)}" middleware with ${D.priority} priority in ${D.step} step.`);t.splice(I,1)}}for(const M of P)i.add(M)}t.push(D)},addRelativeTo:(S,A)=>{const{name:R,override:E,aliases:O}=A,D={middleware:S,...A},P=ee(R,O);if(P.length>0){if(P.some(M=>i.has(M))){if(!E)throw new Error(`Duplicate middleware name '${Y(R,O)}'`);for(const M of P){const I=e.findIndex($=>$.name===M||$.aliases?.some(H=>H===M));if(I===-1)continue;const F=e[I];if(F.toMiddleware!==D.toMiddleware||F.relation!==D.relation)throw new Error(`"${Y(F.name,F.aliases)}" middleware ${F.relation} "${F.toMiddleware}" middleware cannot be overridden by "${Y(R,O)}" middleware ${D.relation} "${D.toMiddleware}" middleware.`);e.splice(I,1)}}for(const M of P)i.add(M)}e.push(D)},clone:()=>h(Re()),use:S=>{S.applyToStack(v)},remove:S=>typeof S=="string"?u(S):f(S),removeByTag:S=>{let A=!1;const R=E=>{const{tags:O,name:D,aliases:P}=E;if(O&&O.includes(S)){const M=ee(D,P);for(const I of M)i.delete(I);return A=!0,!1}return!0};return t=t.filter(R),e=e.filter(R),A},concat:S=>{const A=h(Re());return A.use(S),A.identifyOnResolve(r||A.identifyOnResolve()||(S.identifyOnResolve?.()??!1)),A},applyToStack:h,identify:()=>_(!0).map(S=>{const A=S.step??S.relation+" "+S.toMiddleware;return Y(S.name,S.aliases)+" - "+A}),identifyOnResolve(S){return typeof S=="boolean"&&(r=S),r},resolve:(S,A)=>{for(const R of _().map(E=>E.middleware).reverse())S=R(S,A);return r&&console.log(v.identify()),S}};return v},yt={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},vt={high:3,normal:2,low:1};class Co{constructor(e){this.middlewareStack=Re(),this.config=e}send(e,r,i){const c=typeof r!="function"?r:void 0,u=typeof r=="function"?r:i,f=e.resolveMiddleware(this.middlewareStack,this.config,c);if(u)f(e).then(h=>u(null,h.output),h=>u(h)).catch(()=>{});else return f(e).then(h=>h.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}const ot=t=>new TextEncoder().encode(t),_e=t=>typeof t=="string"?ot(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);function _i(t,e="utf-8"){return e==="base64"?Wr(t):or(t)}function yi(t,e){return e==="base64"?re.mutate(Vr(t)):re.mutate(ot(t))}class re extends Uint8Array{static fromString(e,r="utf-8"){switch(typeof e){case"string":return yi(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,re.prototype),e}transformToString(e="utf-8"){return _i(this,e)}}const Oo=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return re.mutate(t);if(!t)return re.mutate(new Uint8Array);const r=e.streamCollector(t);return re.mutate(await r)};class vi{constructor(){this.middlewareStack=Re()}static classBuilder(){return new bi}resolveMiddlewareWithContext(e,r,i,{middlewareFn:c,clientName:u,commandName:f,inputFilterSensitiveLog:h,outputFilterSensitiveLog:g,smithyContext:_,additionalContext:v,CommandCtor:S}){for(const D of c.bind(this)(S,e,r,i))this.middlewareStack.use(D);const A=e.concat(this.middlewareStack),{logger:R}=r,E={logger:R,clientName:u,commandName:f,inputFilterSensitiveLog:h,outputFilterSensitiveLog:g,[Ze]:{..._},...v},{requestHandler:O}=r;return A.resolve(D=>O.handle(D.request,i||{}),E)}}class bi{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,r,i={}){return this._smithyContext={service:e,operation:r,...i},this}c(e={}){return this._additionalContext=e,this}n(e,r){return this._clientName=e,this._commandName=r,this}f(e=i=>i,r=i=>i){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=r,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let r;return r=class extends vi{static getEndpointParameterInstructions(){return e._ep}constructor(i){super(),this.input=i,this.serialize=e._serializer,this.deserialize=e._deserializer,e._init(this)}resolveMiddleware(i,c,u){return this.resolveMiddlewareWithContext(i,c,u,{CommandCtor:r,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}class Er extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Er.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const wi=(t,e={})=>{Object.entries(e).filter(([,i])=>i!==void 0).forEach(([i,c])=>{(t[i]==null||t[i]==="")&&(t[i]=c)});const r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},Si=({output:t,parsedBody:e,exceptionCtor:r,errorCode:i})=>{const c=Ai(t),u=c.httpStatusCode?c.httpStatusCode+"":void 0,f=new r({name:e?.code||e?.Code||i||u||"UnknownError",$fault:"client",$metadata:c});throw wi(f,e)},Do=t=>({output:e,parsedBody:r,errorCode:i})=>{Si({output:e,parsedBody:r,exceptionCtor:t,errorCode:i})},Ai=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),To=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},Ei=t=>{const e=[];for(const r in ut){const i=ut[r];t[i]!==void 0&&e.push({algorithmId:()=>i,checksumConstructor:()=>t[i]})}return{_checksumAlgorithms:e,addChecksumAlgorithm(r){this._checksumAlgorithms.push(r)},checksumAlgorithms(){return this._checksumAlgorithms}}},xi=t=>{const e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},Ri=t=>{let e=t.retryStrategy;return{setRetryStrategy(r){e=r},retryStrategy(){return e}}},Ci=t=>{const e={};return e.retryStrategy=t.retryStrategy(),e},Po=t=>({...Ei(t),...Ri(t)}),Mo=t=>({...xi(t),...Ci(t)}),Oi=t=>t?.body instanceof ReadableStream,Di=t=>(e,r)=>async i=>{let c=await t.retryStrategy();const u=await t.maxAttempts();if(Ti(c)){c=c;let f=await c.acquireInitialRetryToken(r.partition_id),h=new Error,g=0,_=0;const{request:v}=i,S=ne.isInstance(v);for(S&&(v.headers[fi]=Xr());;)try{S&&(v.headers[di]=`attempt=${g+1}; max=${u}`);const{response:A,output:R}=await e(i);return c.recordSuccess(f),R.$metadata.attempts=g+1,R.$metadata.totalRetryDelay=_,{response:A,output:R}}catch(A){const R=Pi(A);if(h=mi(A),S&&Oi(v))throw(r.logger instanceof gi?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),h;try{f=await c.refreshRetryTokenForRetry(f,R)}catch{throw h.$metadata||(h.$metadata={}),h.$metadata.attempts=g+1,h.$metadata.totalRetryDelay=_,h}g=f.getRetryCount();const E=f.getRetryDelay();_+=E,await new Promise(O=>setTimeout(O,E))}}else return c=c,c?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",c.mode]]),c.retry(e,i)},Ti=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",Pi=t=>{const e={errorType:Mi(t)},r=Bi(t.$response);return r&&(e.retryAfterHint=r),e},Mi=t=>br(t)?"THROTTLING":wr(t)?"TRANSIENT":si(t)?"SERVER_ERROR":"CLIENT_ERROR",xr={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Bo=t=>({applyToStack:e=>{e.add(Di(t),xr)}}),Bi=t=>{if(!ar.isInstance(t))return;const e=Object.keys(t.headers).find(u=>u.toLowerCase()==="retry-after");if(!e)return;const r=t.headers[e],i=Number(r);return Number.isNaN(i)?new Date(r):new Date(i*1e3)},ki={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:xr.name},ko=t=>({applyToStack:e=>{e.addRelativeTo(ei(),ki)}});class Io{constructor(e){this.authSchemes=new Map;for(const[r,i]of Object.entries(e))i!==void 0&&this.authSchemes.set(r,i)}getIdentityProvider(e){return this.authSchemes.get(e)}}const Ii=t=>e=>Rr(e)&&e.expiration.getTime()-Date.now()<t,Fi=3e5,Ni=Ii(Fi),Rr=t=>t.expiration!==void 0,Li=(t,e,r)=>{if(t===void 0)return;const i=typeof t!="function"?async()=>Promise.resolve(t):t;let c,u,f,h=!1;const g=async _=>{u||(u=i(_));try{c=await u,f=!0,h=!1}finally{u=void 0}return c};return e===void 0?async _=>((!f||_?.forceRefresh)&&(c=await g(_)),c):async _=>((!f||_?.forceRefresh)&&(c=await g(_)),h?c:r(c)?(e(c)&&await g(_),c):(h=!0,c))},Ae=t=>{if(typeof t=="function")return t;const e=Promise.resolve(t);return()=>e},bt="content-length";function ji(t){return e=>async r=>{const i=r.request;if(ne.isInstance(i)){const{body:c,headers:u}=i;if(c&&Object.keys(u).map(f=>f.toLowerCase()).indexOf(bt)===-1)try{const f=t(c);i.headers={...i.headers,[bt]:String(f)}}catch{}}return e({...r,request:i})}}const $i={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Fo=t=>({applyToStack:e=>{e.add(ji(t.bodyLengthChecker),$i)}}),wt=t=>ar.isInstance(t)?t.headers?.date??t.headers?.Date:void 0,Cr=t=>new Date(Date.now()+t),Ui=(t,e)=>Math.abs(Cr(e).getTime()-t)>=3e5,St=(t,e)=>{const r=Date.parse(t);return Ui(r,e)?r-Date.now():e},ye=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Hi=async t=>{const e=ye("context",t.context),r=ye("config",t.config),i=e.endpointV2?.properties?.authSchemes?.[0],u=await ye("signer",r.signer)(i),f=t?.signingRegion,h=t?.signingName;return{config:r,signer:u,signingRegion:f,signingName:h}};class No{async sign(e,r,i){if(!ne.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");const{config:c,signer:u,signingRegion:f,signingName:h}=await Hi(i);return await u.sign(e,{signingDate:Cr(c.systemClockOffset),signingRegion:f,signingService:h})}errorHandler(e){return r=>{const i=r.ServerTime??wt(r.$response);if(i){const c=ye("config",e.config);c.systemClockOffset=St(i,c.systemClockOffset)}throw r}}successHandler(e,r){const i=wt(e);if(i){const c=ye("config",r.config);c.systemClockOffset=St(i,c.systemClockOffset)}}}var Me={},at={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var e,r,i,c,u,f,h,g,_,v,S,A,R,E,O,D,P,M,I,F,$,H,q;(function(y){var L=typeof X=="object"?X:typeof self=="object"?self:typeof this=="object"?this:{};y(n(L,n(t.exports)));function n(s,o){return s!==L&&(typeof Object.create=="function"?Object.defineProperty(s,"__esModule",{value:!0}):s.__esModule=!0),function(l,d){return s[l]=o?o(l,d):d}}})(function(y){var L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])};e=function(n,s){L(n,s);function o(){this.constructor=n}n.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)},r=Object.assign||function(n){for(var s,o=1,l=arguments.length;o<l;o++){s=arguments[o];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n},i=function(n,s){var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&s.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(n);d<l.length;d++)s.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(n,l[d])&&(o[l[d]]=n[l[d]]);return o},c=function(n,s,o,l){var d=arguments.length,a=d<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,o):l,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,s,o,l);else for(var b=n.length-1;b>=0;b--)(p=n[b])&&(a=(d<3?p(a):d>3?p(s,o,a):p(s,o))||a);return d>3&&a&&Object.defineProperty(s,o,a),a},u=function(n,s){return function(o,l){s(o,l,n)}},f=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},h=function(n,s,o,l){function d(a){return a instanceof o?a:new o(function(p){p(a)})}return new(o||(o=Promise))(function(a,p){function b(C){try{m(l.next(C))}catch(B){p(B)}}function T(C){try{m(l.throw(C))}catch(B){p(B)}}function m(C){C.done?a(C.value):d(C.value).then(b,T)}m((l=l.apply(n,s||[])).next())})},g=function(n,s){var o={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},l,d,a,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(m){return function(C){return T([m,C])}}function T(m){if(l)throw new TypeError("Generator is already executing.");for(;o;)try{if(l=1,d&&(a=m[0]&2?d.return:m[0]?d.throw||((a=d.return)&&a.call(d),0):d.next)&&!(a=a.call(d,m[1])).done)return a;switch(d=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,d=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){o.label=m[1];break}if(m[0]===6&&o.label<a[1]){o.label=a[1],a=m;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(m);break}a[2]&&o.ops.pop(),o.trys.pop();continue}m=s.call(n,o)}catch(C){m=[6,C],d=0}finally{l=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},q=function(n,s,o,l){l===void 0&&(l=o),n[l]=s[o]},_=function(n,s){for(var o in n)o!=="default"&&!s.hasOwnProperty(o)&&(s[o]=n[o])},v=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,o=s&&n[s],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},S=function(n,s){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var l=o.call(n),d,a=[],p;try{for(;(s===void 0||s-- >0)&&!(d=l.next()).done;)a.push(d.value)}catch(b){p={error:b}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(p)throw p.error}}return a},A=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(S(arguments[s]));return n},R=function(){for(var n=0,s=0,o=arguments.length;s<o;s++)n+=arguments[s].length;for(var l=Array(n),d=0,s=0;s<o;s++)for(var a=arguments[s],p=0,b=a.length;p<b;p++,d++)l[d]=a[p];return l},E=function(n){return this instanceof E?(this.v=n,this):new E(n)},O=function(n,s,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,s||[]),d,a=[];return d={},p("next"),p("throw"),p("return"),d[Symbol.asyncIterator]=function(){return this},d;function p(x){l[x]&&(d[x]=function(k){return new Promise(function(U,Z){a.push([x,k,U,Z])>1||b(x,k)})})}function b(x,k){try{T(l[x](k))}catch(U){B(a[0][3],U)}}function T(x){x.value instanceof E?Promise.resolve(x.value.v).then(m,C):B(a[0][2],x)}function m(x){b("next",x)}function C(x){b("throw",x)}function B(x,k){x(k),a.shift(),a.length&&b(a[0][0],a[0][1])}},D=function(n){var s,o;return s={},l("next"),l("throw",function(d){throw d}),l("return"),s[Symbol.iterator]=function(){return this},s;function l(d,a){s[d]=n[d]?function(p){return(o=!o)?{value:E(n[d](p)),done:d==="return"}:a?a(p):p}:a}},P=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],o;return s?s.call(n):(n=typeof v=="function"?v(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(a){o[a]=n[a]&&function(p){return new Promise(function(b,T){p=n[a](p),d(b,T,p.done,p.value)})}}function d(a,p,b,T){Promise.resolve(T).then(function(m){a({value:m,done:b})},p)}},M=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n},I=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var o in n)Object.hasOwnProperty.call(n,o)&&(s[o]=n[o]);return s.default=n,s},F=function(n){return n&&n.__esModule?n:{default:n}},$=function(n,s){if(!s.has(n))throw new TypeError("attempted to get private field on non-instance");return s.get(n)},H=function(n,s,o){if(!s.has(n))throw new TypeError("attempted to set private field on non-instance");return s.set(n,o),o},y("__extends",e),y("__assign",r),y("__rest",i),y("__decorate",c),y("__param",u),y("__metadata",f),y("__awaiter",h),y("__generator",g),y("__exportStar",_),y("__createBinding",q),y("__values",v),y("__read",S),y("__spread",A),y("__spreadArrays",R),y("__await",E),y("__asyncGenerator",O),y("__asyncDelegator",D),y("__asyncValues",P),y("__makeTemplateObject",M),y("__importStar",I),y("__importDefault",F),y("__classPrivateFieldGet",$),y("__classPrivateFieldSet",H)})})(at);var Be={},se={};const zi=t=>{const e=[];for(let r=0,i=t.length;r<i;r++){const c=t.charCodeAt(r);if(c<128)e.push(c);else if(c<2048)e.push(c>>6|192,c&63|128);else if(r+1<t.length&&(c&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320){const u=65536+((c&1023)<<10)+(t.charCodeAt(++r)&1023);e.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else e.push(c>>12|224,c>>6&63|128,c&63|128)}return Uint8Array.from(e)},qi=t=>{let e="";for(let r=0,i=t.length;r<i;r++){const c=t[r];if(c<128)e+=String.fromCharCode(c);else if(192<=c&&c<224){const u=t[++r];e+=String.fromCharCode((c&31)<<6|u&63)}else if(240<=c&&c<365){const f="%"+[c,t[++r],t[++r],t[++r]].map(h=>h.toString(16)).join("%");e+=decodeURIComponent(f)}else e+=String.fromCharCode((c&15)<<12|(t[++r]&63)<<6|t[++r]&63)}return e};function Gi(t){return new TextEncoder().encode(t)}function Wi(t){return new TextDecoder("utf-8").decode(t)}const Vi=t=>typeof TextEncoder=="function"?Gi(t):zi(t),Ki=t=>typeof TextDecoder=="function"?Wi(t):qi(t),Xi=Object.freeze(Object.defineProperty({__proto__:null,fromUtf8:Vi,toUtf8:Ki},Symbol.toStringTag,{value:"Module"})),Or=cr(Xi);var At;function Zi(){if(At)return se;At=1,Object.defineProperty(se,"__esModule",{value:!0}),se.convertToBuffer=void 0;var t=Or,e=typeof Buffer<"u"&&Buffer.from?function(i){return Buffer.from(i,"utf8")}:t.fromUtf8;function r(i){return i instanceof Uint8Array?i:typeof i=="string"?e(i):ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(i)}return se.convertToBuffer=r,se}var oe={},Et;function Yi(){if(Et)return oe;Et=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return oe.isEmptyData=t,oe}var ae={},xt;function Qi(){if(xt)return ae;xt=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.numToUint8=void 0;function t(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}return ae.numToUint8=t,ae}var ce={},Rt;function Ji(){if(Rt)return ce;Rt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.uint32ArrayFrom=void 0;function t(e){if(!Uint32Array.from){for(var r=new Uint32Array(e.length),i=0;i<e.length;)r[i]=e[i],i+=1;return r}return Uint32Array.from(e)}return ce.uint32ArrayFrom=t,ce}var Ct;function we(){return Ct||(Ct=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var e=Zi();Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return e.convertToBuffer}});var r=Yi();Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return r.isEmptyData}});var i=Qi();Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return i.numToUint8}});var c=Ji();Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return c.uint32ArrayFrom}})}(Be)),Be}var ue={},Ot;function es(){if(Ot)return ue;Ot=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.AwsCrc32=void 0;var t=at.exports,e=we(),r=Dr(),i=function(){function c(){this.crc32=new r.Crc32}return c.prototype.update=function(u){(0,e.isEmptyData)(u)||this.crc32.update((0,e.convertToBuffer)(u))},c.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(u){return[2,(0,e.numToUint8)(this.crc32.digest())]})})},c.prototype.reset=function(){this.crc32=new r.Crc32},c}();return ue.AwsCrc32=i,ue}var Dt;function Dr(){return Dt||(Dt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.AwsCrc32=t.Crc32=t.crc32=void 0;var e=at.exports,r=we();function i(g){return new c().update(g).digest()}t.crc32=i;var c=function(){function g(){this.checksum=4294967295}return g.prototype.update=function(_){var v,S;try{for(var A=e.__values(_),R=A.next();!R.done;R=A.next()){var E=R.value;this.checksum=this.checksum>>>8^f[(this.checksum^E)&255]}}catch(O){v={error:O}}finally{try{R&&!R.done&&(S=A.return)&&S.call(A)}finally{if(v)throw v.error}}return this},g.prototype.digest=function(){return(this.checksum^4294967295)>>>0},g}();t.Crc32=c;var u=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],f=(0,r.uint32ArrayFrom)(u),h=es();Object.defineProperty(t,"AwsCrc32",{enumerable:!0,get:function(){return h.AwsCrc32}})}(Me)),Me}Dr();class ve{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);const r=new Uint8Array(8);for(let i=7,c=Math.abs(Math.round(e));i>-1&&c>0;i--,c/=256)r[i]=c;return e<0&&Tt(r),new ve(r)}valueOf(){const e=this.bytes.slice(0),r=e[0]&128;return r&&Tt(e),parseInt(V(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}}function Tt(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}class ts{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){const r=[];for(const u of Object.keys(e)){const f=this.fromUtf8(u);r.push(Uint8Array.from([f.byteLength]),f,this.formatHeaderValue(e[u]))}const i=new Uint8Array(r.reduce((u,f)=>u+f.byteLength,0));let c=0;for(const u of r)i.set(u,c),c+=u.byteLength;return i}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":const r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":const i=new DataView(new ArrayBuffer(5));return i.setUint8(0,4),i.setInt32(1,e.value,!1),new Uint8Array(i.buffer);case"long":const c=new Uint8Array(9);return c[0]=5,c.set(e.value.bytes,1),c;case"binary":const u=new DataView(new ArrayBuffer(3+e.value.byteLength));u.setUint8(0,6),u.setUint16(1,e.value.byteLength,!1);const f=new Uint8Array(u.buffer);return f.set(e.value,3),f;case"string":const h=this.fromUtf8(e.value),g=new DataView(new ArrayBuffer(3+h.byteLength));g.setUint8(0,7),g.setUint16(1,h.byteLength,!1);const _=new Uint8Array(g.buffer);return _.set(h,3),_;case"timestamp":const v=new Uint8Array(9);return v[0]=8,v.set(ve.fromNumber(e.value.valueOf()).bytes,1),v;case"uuid":if(!ls.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);const S=new Uint8Array(17);return S[0]=9,S.set(Kr(e.value.replace(/\-/g,"")),1),S}}parse(e){const r={};let i=0;for(;i<e.byteLength;){const c=e.getUint8(i++),u=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+i,c));switch(i+=c,e.getUint8(i++)){case 0:r[u]={type:Mt,value:!0};break;case 1:r[u]={type:Mt,value:!1};break;case 2:r[u]={type:rs,value:e.getInt8(i++)};break;case 3:r[u]={type:ns,value:e.getInt16(i,!1)},i+=2;break;case 4:r[u]={type:is,value:e.getInt32(i,!1)},i+=4;break;case 5:r[u]={type:ss,value:new ve(new Uint8Array(e.buffer,e.byteOffset+i,8))},i+=8;break;case 6:const f=e.getUint16(i,!1);i+=2,r[u]={type:os,value:new Uint8Array(e.buffer,e.byteOffset+i,f)},i+=f;break;case 7:const h=e.getUint16(i,!1);i+=2,r[u]={type:as,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+i,h))},i+=h;break;case 8:r[u]={type:cs,value:new Date(new ve(new Uint8Array(e.buffer,e.byteOffset+i,8)).valueOf())},i+=8;break;case 9:const g=new Uint8Array(e.buffer,e.byteOffset+i,16);i+=16,r[u]={type:us,value:`${V(g.subarray(0,4))}-${V(g.subarray(4,6))}-${V(g.subarray(6,8))}-${V(g.subarray(8,10))}-${V(g.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}}var Pt;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(Pt||(Pt={}));const Mt="boolean",rs="byte",ns="short",is="integer",ss="long",os="binary",as="string",cs="timestamp",us="uuid",ls=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,fs="X-Amz-Algorithm",ds="X-Amz-Credential",Tr="X-Amz-Date",hs="X-Amz-SignedHeaders",ps="X-Amz-Expires",Pr="X-Amz-Signature",Mr="X-Amz-Security-Token",Br="authorization",kr=Tr.toLowerCase(),ms="date",gs=[Br,kr,ms],_s=Pr.toLowerCase(),tt="x-amz-content-sha256",ys=Mr.toLowerCase(),vs={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},bs=/^proxy-/,ws=/^sec-/,ke="AWS4-HMAC-SHA256",Ss="AWS4-HMAC-SHA256-PAYLOAD",As="UNSIGNED-PAYLOAD",Es=50,Ir="aws4_request",xs=60*60*24*7,Ee={},Ie=[],Fe=(t,e,r)=>`${t}/${e}/${r}/${Ir}`,Rs=async(t,e,r,i,c)=>{const u=await Bt(t,e.secretAccessKey,e.accessKeyId),f=`${r}:${i}:${c}:${V(u)}:${e.sessionToken}`;if(f in Ee)return Ee[f];for(Ie.push(f);Ie.length>Es;)delete Ee[Ie.shift()];let h=`AWS4${e.secretAccessKey}`;for(const g of[r,i,c,Ir])h=await Bt(t,h,g);return Ee[f]=h},Bt=(t,e,r)=>{const i=new t(e);return i.update(_e(r)),i.digest()},kt=({headers:t},e,r)=>{const i={};for(const c of Object.keys(t).sort()){if(t[c]==null)continue;const u=c.toLowerCase();(u in vs||e?.has(u)||bs.test(u)||ws.test(u))&&(!r||r&&!r.has(u))||(i[u]=t[c].trim().replace(/\s+/g," "))}return i},Cs=({query:t={}})=>{const e=[],r={};for(const i of Object.keys(t).sort()){if(i.toLowerCase()===_s)continue;e.push(i);const c=t[i];typeof c=="string"?r[i]=`${Se(i)}=${Se(c)}`:Array.isArray(c)&&(r[i]=c.slice(0).reduce((u,f)=>u.concat([`${Se(i)}=${Se(f)}`]),[]).sort().join("&"))}return e.map(i=>r[i]).filter(i=>i).join("&")},Os=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]",Ne=async({headers:t,body:e},r)=>{for(const i of Object.keys(t))if(i.toLowerCase()===tt)return t[i];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Os(e)){const i=new r;return i.update(_e(e)),V(await i.digest())}return As},Ds=(t,e)=>{t=t.toLowerCase();for(const r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},Fr=({headers:t,query:e,...r})=>({...r,headers:{...t},query:e?Ts(e):void 0}),Ts=t=>Object.keys(t).reduce((e,r)=>{const i=t[r];return{...e,[r]:Array.isArray(i)?[...i]:i}},{}),Ps=(t,e={})=>{const{headers:r,query:i={}}=typeof t.clone=="function"?t.clone():Fr(t);for(const c of Object.keys(r)){const u=c.toLowerCase();u.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(u)&&(i[c]=r[c],delete r[c])}return{...t,headers:r,query:i}},It=t=>{t=typeof t.clone=="function"?t.clone():Fr(t);for(const e of Object.keys(t.headers))gs.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},Ms=t=>Bs(t).toISOString().replace(/\.\d{3}Z$/,"Z"),Bs=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;class Ft{constructor({applyChecksum:e,credentials:r,region:i,service:c,sha256:u,uriEscapePath:f=!0}){this.headerMarshaller=new ts(or,ot),this.service=c,this.sha256=u,this.uriEscapePath=f,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=te(i),this.credentialProvider=te(r)}async presign(e,r={}){const{signingDate:i=new Date,expiresIn:c=3600,unsignableHeaders:u,unhoistableHeaders:f,signableHeaders:h,signingRegion:g,signingService:_}=r,v=await this.credentialProvider();this.validateResolvedCredentials(v);const S=g??await this.regionProvider(),{longDate:A,shortDate:R}=xe(i);if(c>xs)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");const E=Fe(R,S,_??this.service),O=Ps(It(e),{unhoistableHeaders:f});v.sessionToken&&(O.query[Mr]=v.sessionToken),O.query[fs]=ke,O.query[ds]=`${v.accessKeyId}/${E}`,O.query[Tr]=A,O.query[ps]=c.toString(10);const D=kt(O,u,h);return O.query[hs]=Nt(D),O.query[Pr]=await this.getSignature(A,E,this.getSigningKey(v,S,R,_),this.createCanonicalRequest(O,D,await Ne(e,this.sha256))),O}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):e.message?this.signMessage(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:i=new Date,priorSignature:c,signingRegion:u,signingService:f}){const h=u??await this.regionProvider(),{shortDate:g,longDate:_}=xe(i),v=Fe(g,h,f??this.service),S=await Ne({headers:{},body:r},this.sha256),A=new this.sha256;A.update(e);const R=V(await A.digest()),E=[Ss,_,v,c,R,S].join(`
`);return this.signString(E,{signingDate:i,signingRegion:h,signingService:f})}async signMessage(e,{signingDate:r=new Date,signingRegion:i,signingService:c}){return this.signEvent({headers:this.headerMarshaller.format(e.message.headers),payload:e.message.body},{signingDate:r,signingRegion:i,signingService:c,priorSignature:e.priorSignature}).then(f=>({message:e.message,signature:f}))}async signString(e,{signingDate:r=new Date,signingRegion:i,signingService:c}={}){const u=await this.credentialProvider();this.validateResolvedCredentials(u);const f=i??await this.regionProvider(),{shortDate:h}=xe(r),g=new this.sha256(await this.getSigningKey(u,f,h,c));return g.update(_e(e)),V(await g.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:i,unsignableHeaders:c,signingRegion:u,signingService:f}={}){const h=await this.credentialProvider();this.validateResolvedCredentials(h);const g=u??await this.regionProvider(),_=It(e),{longDate:v,shortDate:S}=xe(r),A=Fe(S,g,f??this.service);_.headers[kr]=v,h.sessionToken&&(_.headers[ys]=h.sessionToken);const R=await Ne(_,this.sha256);!Ds(tt,_.headers)&&this.applyChecksum&&(_.headers[tt]=R);const E=kt(_,c,i),O=await this.getSignature(v,A,this.getSigningKey(h,g,S,f),this.createCanonicalRequest(_,E,R));return _.headers[Br]=`${ke} Credential=${h.accessKeyId}/${A}, SignedHeaders=${Nt(E)}, Signature=${O}`,_}createCanonicalRequest(e,r,i){const c=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${Cs(e)}
${c.map(u=>`${u}:${r[u]}`).join(`
`)}

${c.join(";")}
${i}`}async createStringToSign(e,r,i){const c=new this.sha256;c.update(_e(i));const u=await c.digest();return`${ke}
${e}
${r}
${V(u)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){const r=[];for(const u of e.split("/"))u?.length!==0&&u!=="."&&(u===".."?r.pop():r.push(u));const i=`${e?.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&e?.endsWith("/")?"/":""}`;return encodeURIComponent(i).replace(/%2F/g,"/")}return e}async getSignature(e,r,i,c){const u=await this.createStringToSign(e,r,c),f=new this.sha256(await i);return f.update(_e(u)),V(await f.digest())}getSigningKey(e,r,i,c){return Rs(this.sha256,e,i,r,c||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}}const xe=t=>{const e=Ms(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},Nt=t=>Object.keys(t).sort().join(";"),Lo=t=>{let e;t.credentials&&(e=Li(t.credentials,Ni,Rr)),e||(t.credentialDefaultProvider?e=Ae(t.credentialDefaultProvider(Object.assign({},t,{parentClientConfig:t}))):e=async()=>{throw new Error("`credentials` is missing")});const{signingEscapePath:r=!0,systemClockOffset:i=t.systemClockOffset||0,sha256:c}=t;let u;return t.signer?u=Ae(t.signer):t.regionInfoProvider?u=()=>Ae(t.region)().then(async f=>[await t.regionInfoProvider(f,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},f]).then(([f,h])=>{const{signingRegion:g,signingService:_}=f;t.signingRegion=t.signingRegion||g||h,t.signingName=t.signingName||_||t.serviceId;const v={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:c,uriEscapePath:r},S=t.signerConstructor||Ft;return new S(v)}):u=async f=>{f=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Ae(t.region)(),properties:{}},f);const h=f.signingRegion,g=f.signingName;t.signingRegion=t.signingRegion||h,t.signingName=t.signingName||g||t.serviceId;const _={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:c,uriEscapePath:r},v=t.signerConstructor||Ft;return new v(_)},{...t,systemClockOffset:i,signingEscapePath:r,credentials:e,signer:u}};var ks={},Nr={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(t){var e,r,i,c,u,f,h,g,_,v,S,A,R,E,O,D,P,M,I,F,$,H,q;(function(y){var L=typeof X=="object"?X:typeof self=="object"?self:typeof this=="object"?this:{};y(n(L,n(t.exports)));function n(s,o){return s!==L&&(typeof Object.create=="function"?Object.defineProperty(s,"__esModule",{value:!0}):s.__esModule=!0),function(l,d){return s[l]=o?o(l,d):d}}})(function(y){var L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])};e=function(n,s){L(n,s);function o(){this.constructor=n}n.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)},r=Object.assign||function(n){for(var s,o=1,l=arguments.length;o<l;o++){s=arguments[o];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n},i=function(n,s){var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&s.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(n);d<l.length;d++)s.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(n,l[d])&&(o[l[d]]=n[l[d]]);return o},c=function(n,s,o,l){var d=arguments.length,a=d<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,o):l,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,s,o,l);else for(var b=n.length-1;b>=0;b--)(p=n[b])&&(a=(d<3?p(a):d>3?p(s,o,a):p(s,o))||a);return d>3&&a&&Object.defineProperty(s,o,a),a},u=function(n,s){return function(o,l){s(o,l,n)}},f=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},h=function(n,s,o,l){function d(a){return a instanceof o?a:new o(function(p){p(a)})}return new(o||(o=Promise))(function(a,p){function b(C){try{m(l.next(C))}catch(B){p(B)}}function T(C){try{m(l.throw(C))}catch(B){p(B)}}function m(C){C.done?a(C.value):d(C.value).then(b,T)}m((l=l.apply(n,s||[])).next())})},g=function(n,s){var o={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},l,d,a,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(m){return function(C){return T([m,C])}}function T(m){if(l)throw new TypeError("Generator is already executing.");for(;o;)try{if(l=1,d&&(a=m[0]&2?d.return:m[0]?d.throw||((a=d.return)&&a.call(d),0):d.next)&&!(a=a.call(d,m[1])).done)return a;switch(d=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,d=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){o.label=m[1];break}if(m[0]===6&&o.label<a[1]){o.label=a[1],a=m;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(m);break}a[2]&&o.ops.pop(),o.trys.pop();continue}m=s.call(n,o)}catch(C){m=[6,C],d=0}finally{l=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},q=function(n,s,o,l){l===void 0&&(l=o),n[l]=s[o]},_=function(n,s){for(var o in n)o!=="default"&&!s.hasOwnProperty(o)&&(s[o]=n[o])},v=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,o=s&&n[s],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},S=function(n,s){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var l=o.call(n),d,a=[],p;try{for(;(s===void 0||s-- >0)&&!(d=l.next()).done;)a.push(d.value)}catch(b){p={error:b}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(p)throw p.error}}return a},A=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(S(arguments[s]));return n},R=function(){for(var n=0,s=0,o=arguments.length;s<o;s++)n+=arguments[s].length;for(var l=Array(n),d=0,s=0;s<o;s++)for(var a=arguments[s],p=0,b=a.length;p<b;p++,d++)l[d]=a[p];return l},E=function(n){return this instanceof E?(this.v=n,this):new E(n)},O=function(n,s,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,s||[]),d,a=[];return d={},p("next"),p("throw"),p("return"),d[Symbol.asyncIterator]=function(){return this},d;function p(x){l[x]&&(d[x]=function(k){return new Promise(function(U,Z){a.push([x,k,U,Z])>1||b(x,k)})})}function b(x,k){try{T(l[x](k))}catch(U){B(a[0][3],U)}}function T(x){x.value instanceof E?Promise.resolve(x.value.v).then(m,C):B(a[0][2],x)}function m(x){b("next",x)}function C(x){b("throw",x)}function B(x,k){x(k),a.shift(),a.length&&b(a[0][0],a[0][1])}},D=function(n){var s,o;return s={},l("next"),l("throw",function(d){throw d}),l("return"),s[Symbol.iterator]=function(){return this},s;function l(d,a){s[d]=n[d]?function(p){return(o=!o)?{value:E(n[d](p)),done:d==="return"}:a?a(p):p}:a}},P=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],o;return s?s.call(n):(n=typeof v=="function"?v(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(a){o[a]=n[a]&&function(p){return new Promise(function(b,T){p=n[a](p),d(b,T,p.done,p.value)})}}function d(a,p,b,T){Promise.resolve(T).then(function(m){a({value:m,done:b})},p)}},M=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n},I=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var o in n)Object.hasOwnProperty.call(n,o)&&(s[o]=n[o]);return s.default=n,s},F=function(n){return n&&n.__esModule?n:{default:n}},$=function(n,s){if(!s.has(n))throw new TypeError("attempted to get private field on non-instance");return s.get(n)},H=function(n,s,o){if(!s.has(n))throw new TypeError("attempted to set private field on non-instance");return s.set(n,o),o},y("__extends",e),y("__assign",r),y("__rest",i),y("__decorate",c),y("__param",u),y("__metadata",f),y("__awaiter",h),y("__generator",g),y("__exportStar",_),y("__createBinding",q),y("__values",v),y("__read",S),y("__spread",A),y("__spreadArrays",R),y("__await",E),y("__asyncGenerator",O),y("__asyncDelegator",D),y("__asyncValues",P),y("__makeTemplateObject",M),y("__importStar",I),y("__importDefault",F),y("__classPrivateFieldGet",$),y("__classPrivateFieldSet",H)})})(Nr);var le={},fe={},de={},Lt;function Is(){if(Lt)return de;Lt=1,Object.defineProperty(de,"__esModule",{value:!0}),de.isEmptyData=void 0;function t(e){return typeof e=="string"?e.length===0:e.byteLength===0}return de.isEmptyData=t,de}var Le={},jt;function Lr(){return jt||(jt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])}(Le)),Le}const Fs={};function Ns(){return typeof window<"u"?window:typeof self<"u"?self:Fs}const Ls=Object.freeze(Object.defineProperty({__proto__:null,locateWindow:Ns},Symbol.toStringTag,{value:"Module"})),ct=cr(Ls);var $t;function jr(){if($t)return fe;$t=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.Sha256=void 0;var t=Is(),e=Lr(),r=Or,i=ct,c=function(){function h(g){this.secret=g,this.reset()}return h.prototype.update=function(g){var _=this;(0,t.isEmptyData)(g)||(this.operation=this.operation.then(function(v){return v.onerror=function(){_.operation=Promise.reject(new Error("Error encountered updating hash"))},v.process(f(g)),v}),this.operation.catch(function(){}))},h.prototype.digest=function(){return this.operation.then(function(g){return new Promise(function(_,v){g.onerror=function(){v(new Error("Error encountered finalizing hash"))},g.oncomplete=function(){g.result&&_(new Uint8Array(g.result)),v(new Error("Error encountered finalizing hash"))},g.finish()})})},h.prototype.reset=function(){this.secret?(this.operation=u(this.secret).then(function(g){return(0,i.locateWindow)().msCrypto.subtle.sign(e.SHA_256_HMAC_ALGO,g)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,i.locateWindow)().msCrypto.subtle.digest("SHA-256"))},h}();fe.Sha256=c;function u(h){return new Promise(function(g,_){var v=(0,i.locateWindow)().msCrypto.subtle.importKey("raw",f(h),e.SHA_256_HMAC_ALGO,!1,["sign"]);v.oncomplete=function(){v.result&&g(v.result),_(new Error("ImportKey completed without importing key."))},v.onerror=function(){_(new Error("ImportKey failed to import key."))}})}function f(h){return typeof h=="string"?(0,r.fromUtf8)(h):ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(h)}return fe}var he={},Ut;function $r(){if(Ut)return he;Ut=1,Object.defineProperty(he,"__esModule",{value:!0}),he.Sha256=void 0;var t=we(),e=Lr(),r=ct,i=function(){function c(u){this.toHash=new Uint8Array(0),this.secret=u,this.reset()}return c.prototype.update=function(u){if(!(0,t.isEmptyData)(u)){var f=(0,t.convertToBuffer)(u),h=new Uint8Array(this.toHash.byteLength+f.byteLength);h.set(this.toHash,0),h.set(f,this.toHash.byteLength),this.toHash=h}},c.prototype.digest=function(){var u=this;return this.key?this.key.then(function(f){return(0,r.locateWindow)().crypto.subtle.sign(e.SHA_256_HMAC_ALGO,f,u.toHash).then(function(h){return new Uint8Array(h)})}):(0,t.isEmptyData)(this.toHash)?Promise.resolve(e.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,r.locateWindow)().crypto.subtle.digest(e.SHA_256_HASH,u.toHash)}).then(function(f){return Promise.resolve(new Uint8Array(f))})},c.prototype.reset=function(){var u=this;this.toHash=new Uint8Array(0),this.secret&&this.secret!==void 0&&(this.key=new Promise(function(f,h){(0,r.locateWindow)().crypto.subtle.importKey("raw",(0,t.convertToBuffer)(u.secret),e.SHA_256_HMAC_ALGO,!1,["sign"]).then(f,h)}),this.key.catch(function(){}))},c}();return he.Sha256=i,he}var je={},$e={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ht;function Ur(){return Ht||(Ht=1,function(t){var e,r,i,c,u,f,h,g,_,v,S,A,R,E,O,D,P,M,I,F,$,H,q;(function(y){var L=typeof X=="object"?X:typeof self=="object"?self:typeof this=="object"?this:{};y(n(L,n(t.exports)));function n(s,o){return s!==L&&(typeof Object.create=="function"?Object.defineProperty(s,"__esModule",{value:!0}):s.__esModule=!0),function(l,d){return s[l]=o?o(l,d):d}}})(function(y){var L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])};e=function(n,s){L(n,s);function o(){this.constructor=n}n.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)},r=Object.assign||function(n){for(var s,o=1,l=arguments.length;o<l;o++){s=arguments[o];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n},i=function(n,s){var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&s.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(n);d<l.length;d++)s.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(n,l[d])&&(o[l[d]]=n[l[d]]);return o},c=function(n,s,o,l){var d=arguments.length,a=d<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,o):l,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,s,o,l);else for(var b=n.length-1;b>=0;b--)(p=n[b])&&(a=(d<3?p(a):d>3?p(s,o,a):p(s,o))||a);return d>3&&a&&Object.defineProperty(s,o,a),a},u=function(n,s){return function(o,l){s(o,l,n)}},f=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},h=function(n,s,o,l){function d(a){return a instanceof o?a:new o(function(p){p(a)})}return new(o||(o=Promise))(function(a,p){function b(C){try{m(l.next(C))}catch(B){p(B)}}function T(C){try{m(l.throw(C))}catch(B){p(B)}}function m(C){C.done?a(C.value):d(C.value).then(b,T)}m((l=l.apply(n,s||[])).next())})},g=function(n,s){var o={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},l,d,a,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(m){return function(C){return T([m,C])}}function T(m){if(l)throw new TypeError("Generator is already executing.");for(;o;)try{if(l=1,d&&(a=m[0]&2?d.return:m[0]?d.throw||((a=d.return)&&a.call(d),0):d.next)&&!(a=a.call(d,m[1])).done)return a;switch(d=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,d=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){o.label=m[1];break}if(m[0]===6&&o.label<a[1]){o.label=a[1],a=m;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(m);break}a[2]&&o.ops.pop(),o.trys.pop();continue}m=s.call(n,o)}catch(C){m=[6,C],d=0}finally{l=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},q=function(n,s,o,l){l===void 0&&(l=o),n[l]=s[o]},_=function(n,s){for(var o in n)o!=="default"&&!s.hasOwnProperty(o)&&(s[o]=n[o])},v=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,o=s&&n[s],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},S=function(n,s){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var l=o.call(n),d,a=[],p;try{for(;(s===void 0||s-- >0)&&!(d=l.next()).done;)a.push(d.value)}catch(b){p={error:b}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(p)throw p.error}}return a},A=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(S(arguments[s]));return n},R=function(){for(var n=0,s=0,o=arguments.length;s<o;s++)n+=arguments[s].length;for(var l=Array(n),d=0,s=0;s<o;s++)for(var a=arguments[s],p=0,b=a.length;p<b;p++,d++)l[d]=a[p];return l},E=function(n){return this instanceof E?(this.v=n,this):new E(n)},O=function(n,s,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,s||[]),d,a=[];return d={},p("next"),p("throw"),p("return"),d[Symbol.asyncIterator]=function(){return this},d;function p(x){l[x]&&(d[x]=function(k){return new Promise(function(U,Z){a.push([x,k,U,Z])>1||b(x,k)})})}function b(x,k){try{T(l[x](k))}catch(U){B(a[0][3],U)}}function T(x){x.value instanceof E?Promise.resolve(x.value.v).then(m,C):B(a[0][2],x)}function m(x){b("next",x)}function C(x){b("throw",x)}function B(x,k){x(k),a.shift(),a.length&&b(a[0][0],a[0][1])}},D=function(n){var s,o;return s={},l("next"),l("throw",function(d){throw d}),l("return"),s[Symbol.iterator]=function(){return this},s;function l(d,a){s[d]=n[d]?function(p){return(o=!o)?{value:E(n[d](p)),done:d==="return"}:a?a(p):p}:a}},P=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],o;return s?s.call(n):(n=typeof v=="function"?v(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(a){o[a]=n[a]&&function(p){return new Promise(function(b,T){p=n[a](p),d(b,T,p.done,p.value)})}}function d(a,p,b,T){Promise.resolve(T).then(function(m){a({value:m,done:b})},p)}},M=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n},I=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var o in n)Object.hasOwnProperty.call(n,o)&&(s[o]=n[o]);return s.default=n,s},F=function(n){return n&&n.__esModule?n:{default:n}},$=function(n,s){if(!s.has(n))throw new TypeError("attempted to get private field on non-instance");return s.get(n)},H=function(n,s,o){if(!s.has(n))throw new TypeError("attempted to set private field on non-instance");return s.set(n,o),o},y("__extends",e),y("__assign",r),y("__rest",i),y("__decorate",c),y("__param",u),y("__metadata",f),y("__awaiter",h),y("__generator",g),y("__exportStar",_),y("__createBinding",q),y("__values",v),y("__read",S),y("__spread",A),y("__spreadArrays",R),y("__await",E),y("__asyncGenerator",O),y("__asyncDelegator",D),y("__asyncValues",P),y("__makeTemplateObject",M),y("__importStar",I),y("__importDefault",F),y("__classPrivateFieldGet",$),y("__classPrivateFieldSet",H)})}($e)),$e.exports}var pe={},G={},zt;function Hr(){return zt||(zt=1,Object.defineProperty(G,"__esModule",{value:!0}),G.MAX_HASHABLE_LENGTH=G.INIT=G.KEY=G.DIGEST_LENGTH=G.BLOCK_SIZE=void 0,G.BLOCK_SIZE=64,G.DIGEST_LENGTH=32,G.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),G.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],G.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1),G}var me={},qt;function js(){if(qt)return me;qt=1,Object.defineProperty(me,"__esModule",{value:!0}),me.RawSha256=void 0;var t=Hr(),e=function(){function r(){this.state=Int32Array.from(t.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return r.prototype.update=function(i){if(this.finished)throw new Error("Attempted to update an already finished hash.");var c=0,u=i.byteLength;if(this.bytesHashed+=u,this.bytesHashed*8>t.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;u>0;)this.buffer[this.bufferLength++]=i[c++],u--,this.bufferLength===t.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},r.prototype.digest=function(){if(!this.finished){var i=this.bytesHashed*8,c=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),u=this.bufferLength;if(c.setUint8(this.bufferLength++,128),u%t.BLOCK_SIZE>=t.BLOCK_SIZE-8){for(var f=this.bufferLength;f<t.BLOCK_SIZE;f++)c.setUint8(f,0);this.hashBuffer(),this.bufferLength=0}for(var f=this.bufferLength;f<t.BLOCK_SIZE-8;f++)c.setUint8(f,0);c.setUint32(t.BLOCK_SIZE-8,Math.floor(i/4294967296),!0),c.setUint32(t.BLOCK_SIZE-4,i),this.hashBuffer(),this.finished=!0}for(var h=new Uint8Array(t.DIGEST_LENGTH),f=0;f<8;f++)h[f*4]=this.state[f]>>>24&255,h[f*4+1]=this.state[f]>>>16&255,h[f*4+2]=this.state[f]>>>8&255,h[f*4+3]=this.state[f]>>>0&255;return h},r.prototype.hashBuffer=function(){for(var i=this,c=i.buffer,u=i.state,f=u[0],h=u[1],g=u[2],_=u[3],v=u[4],S=u[5],A=u[6],R=u[7],E=0;E<t.BLOCK_SIZE;E++){if(E<16)this.temp[E]=(c[E*4]&255)<<24|(c[E*4+1]&255)<<16|(c[E*4+2]&255)<<8|c[E*4+3]&255;else{var O=this.temp[E-2],D=(O>>>17|O<<15)^(O>>>19|O<<13)^O>>>10;O=this.temp[E-15];var P=(O>>>7|O<<25)^(O>>>18|O<<14)^O>>>3;this.temp[E]=(D+this.temp[E-7]|0)+(P+this.temp[E-16]|0)}var M=(((v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7))+(v&S^~v&A)|0)+(R+(t.KEY[E]+this.temp[E]|0)|0)|0,I=((f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10))+(f&h^f&g^h&g)|0;R=A,A=S,S=v,v=_+M|0,_=g,g=h,h=f,f=M+I|0}u[0]+=f,u[1]+=h,u[2]+=g,u[3]+=_,u[4]+=v,u[5]+=S,u[6]+=A,u[7]+=R},r}();return me.RawSha256=e,me}var Gt;function $s(){if(Gt)return pe;Gt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.Sha256=void 0;var t=Ur(),e=Hr(),r=js(),i=we(),c=function(){function f(h){this.secret=h,this.hash=new r.RawSha256,this.reset()}return f.prototype.update=function(h){if(!((0,i.isEmptyData)(h)||this.error))try{this.hash.update((0,i.convertToBuffer)(h))}catch(g){this.error=g}},f.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},f.prototype.digest=function(){return t.__awaiter(this,void 0,void 0,function(){return t.__generator(this,function(h){return[2,this.digestSync()]})})},f.prototype.reset=function(){if(this.hash=new r.RawSha256,this.secret){this.outer=new r.RawSha256;var h=u(this.secret),g=new Uint8Array(e.BLOCK_SIZE);g.set(h);for(var _=0;_<e.BLOCK_SIZE;_++)h[_]^=54,g[_]^=92;this.hash.update(h),this.outer.update(g);for(var _=0;_<h.byteLength;_++)h[_]=0}},f}();pe.Sha256=c;function u(f){var h=(0,i.convertToBuffer)(f);if(h.byteLength>e.BLOCK_SIZE){var g=new r.RawSha256;g.update(h),h=g.digest()}var _=new Uint8Array(e.BLOCK_SIZE);return _.set(h),_}return pe}var Wt;function Us(){return Wt||(Wt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Ur();e.__exportStar($s(),t)}(je)),je}var Ue={},He={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vt;function zr(){return Vt||(Vt=1,function(t){var e,r,i,c,u,f,h,g,_,v,S,A,R,E,O,D,P,M,I,F,$,H,q;(function(y){var L=typeof X=="object"?X:typeof self=="object"?self:typeof this=="object"?this:{};y(n(L,n(t.exports)));function n(s,o){return s!==L&&(typeof Object.create=="function"?Object.defineProperty(s,"__esModule",{value:!0}):s.__esModule=!0),function(l,d){return s[l]=o?o(l,d):d}}})(function(y){var L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])};e=function(n,s){L(n,s);function o(){this.constructor=n}n.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)},r=Object.assign||function(n){for(var s,o=1,l=arguments.length;o<l;o++){s=arguments[o];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n},i=function(n,s){var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&s.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(n);d<l.length;d++)s.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(n,l[d])&&(o[l[d]]=n[l[d]]);return o},c=function(n,s,o,l){var d=arguments.length,a=d<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,o):l,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,s,o,l);else for(var b=n.length-1;b>=0;b--)(p=n[b])&&(a=(d<3?p(a):d>3?p(s,o,a):p(s,o))||a);return d>3&&a&&Object.defineProperty(s,o,a),a},u=function(n,s){return function(o,l){s(o,l,n)}},f=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},h=function(n,s,o,l){function d(a){return a instanceof o?a:new o(function(p){p(a)})}return new(o||(o=Promise))(function(a,p){function b(C){try{m(l.next(C))}catch(B){p(B)}}function T(C){try{m(l.throw(C))}catch(B){p(B)}}function m(C){C.done?a(C.value):d(C.value).then(b,T)}m((l=l.apply(n,s||[])).next())})},g=function(n,s){var o={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},l,d,a,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(m){return function(C){return T([m,C])}}function T(m){if(l)throw new TypeError("Generator is already executing.");for(;o;)try{if(l=1,d&&(a=m[0]&2?d.return:m[0]?d.throw||((a=d.return)&&a.call(d),0):d.next)&&!(a=a.call(d,m[1])).done)return a;switch(d=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,d=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){o.label=m[1];break}if(m[0]===6&&o.label<a[1]){o.label=a[1],a=m;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(m);break}a[2]&&o.ops.pop(),o.trys.pop();continue}m=s.call(n,o)}catch(C){m=[6,C],d=0}finally{l=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},q=function(n,s,o,l){l===void 0&&(l=o),n[l]=s[o]},_=function(n,s){for(var o in n)o!=="default"&&!s.hasOwnProperty(o)&&(s[o]=n[o])},v=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,o=s&&n[s],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},S=function(n,s){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var l=o.call(n),d,a=[],p;try{for(;(s===void 0||s-- >0)&&!(d=l.next()).done;)a.push(d.value)}catch(b){p={error:b}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(p)throw p.error}}return a},A=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(S(arguments[s]));return n},R=function(){for(var n=0,s=0,o=arguments.length;s<o;s++)n+=arguments[s].length;for(var l=Array(n),d=0,s=0;s<o;s++)for(var a=arguments[s],p=0,b=a.length;p<b;p++,d++)l[d]=a[p];return l},E=function(n){return this instanceof E?(this.v=n,this):new E(n)},O=function(n,s,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,s||[]),d,a=[];return d={},p("next"),p("throw"),p("return"),d[Symbol.asyncIterator]=function(){return this},d;function p(x){l[x]&&(d[x]=function(k){return new Promise(function(U,Z){a.push([x,k,U,Z])>1||b(x,k)})})}function b(x,k){try{T(l[x](k))}catch(U){B(a[0][3],U)}}function T(x){x.value instanceof E?Promise.resolve(x.value.v).then(m,C):B(a[0][2],x)}function m(x){b("next",x)}function C(x){b("throw",x)}function B(x,k){x(k),a.shift(),a.length&&b(a[0][0],a[0][1])}},D=function(n){var s,o;return s={},l("next"),l("throw",function(d){throw d}),l("return"),s[Symbol.iterator]=function(){return this},s;function l(d,a){s[d]=n[d]?function(p){return(o=!o)?{value:E(n[d](p)),done:d==="return"}:a?a(p):p}:a}},P=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],o;return s?s.call(n):(n=typeof v=="function"?v(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(a){o[a]=n[a]&&function(p){return new Promise(function(b,T){p=n[a](p),d(b,T,p.done,p.value)})}}function d(a,p,b,T){Promise.resolve(T).then(function(m){a({value:m,done:b})},p)}},M=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n},I=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var o in n)Object.hasOwnProperty.call(n,o)&&(s[o]=n[o]);return s.default=n,s},F=function(n){return n&&n.__esModule?n:{default:n}},$=function(n,s){if(!s.has(n))throw new TypeError("attempted to get private field on non-instance");return s.get(n)},H=function(n,s,o){if(!s.has(n))throw new TypeError("attempted to set private field on non-instance");return s.set(n,o),o},y("__extends",e),y("__assign",r),y("__rest",i),y("__decorate",c),y("__param",u),y("__metadata",f),y("__awaiter",h),y("__generator",g),y("__exportStar",_),y("__createBinding",q),y("__values",v),y("__read",S),y("__spread",A),y("__spreadArrays",R),y("__await",E),y("__asyncGenerator",O),y("__asyncDelegator",D),y("__asyncValues",P),y("__makeTemplateObject",M),y("__importStar",I),y("__importDefault",F),y("__classPrivateFieldGet",$),y("__classPrivateFieldSet",H)})}(He)),He.exports}var K={},Kt;function Hs(){if(Kt)return K;Kt=1,Object.defineProperty(K,"__esModule",{value:!0}),K.supportsZeroByteGCM=K.supportsSubtleCrypto=K.supportsSecureRandom=K.supportsWebCrypto=void 0;var t=zr(),e=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(f){if(i(f)&&typeof f.crypto.subtle=="object"){var h=f.crypto.subtle;return c(h)}return!1}K.supportsWebCrypto=r;function i(f){if(typeof f=="object"&&typeof f.crypto=="object"){var h=f.crypto.getRandomValues;return typeof h=="function"}return!1}K.supportsSecureRandom=i;function c(f){return f&&e.every(function(h){return typeof f[h]=="function"})}K.supportsSubtleCrypto=c;function u(f){return t.__awaiter(this,void 0,void 0,function(){var h,g;return t.__generator(this,function(_){switch(_.label){case 0:if(!c(f))return[2,!1];_.label=1;case 1:return _.trys.push([1,4,,5]),[4,f.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return h=_.sent(),[4,f.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},h,new Uint8Array(0))];case 3:return g=_.sent(),[2,g.byteLength===16];case 4:return _.sent(),[2,!1];case 5:return[2]}})})}return K.supportsZeroByteGCM=u,K}var Xt;function zs(){return Xt||(Xt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=zr();e.__exportStar(Hs(),t)}(Ue)),Ue}var ze={},qe={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Zt;function qs(){return Zt||(Zt=1,function(t){var e,r,i,c,u,f,h,g,_,v,S,A,R,E,O,D,P,M,I,F,$,H,q;(function(y){var L=typeof X=="object"?X:typeof self=="object"?self:typeof this=="object"?this:{};y(n(L,n(t.exports)));function n(s,o){return s!==L&&(typeof Object.create=="function"?Object.defineProperty(s,"__esModule",{value:!0}):s.__esModule=!0),function(l,d){return s[l]=o?o(l,d):d}}})(function(y){var L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])};e=function(n,s){L(n,s);function o(){this.constructor=n}n.prototype=s===null?Object.create(s):(o.prototype=s.prototype,new o)},r=Object.assign||function(n){for(var s,o=1,l=arguments.length;o<l;o++){s=arguments[o];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])}return n},i=function(n,s){var o={};for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&s.indexOf(l)<0&&(o[l]=n[l]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(n);d<l.length;d++)s.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(n,l[d])&&(o[l[d]]=n[l[d]]);return o},c=function(n,s,o,l){var d=arguments.length,a=d<3?s:l===null?l=Object.getOwnPropertyDescriptor(s,o):l,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,s,o,l);else for(var b=n.length-1;b>=0;b--)(p=n[b])&&(a=(d<3?p(a):d>3?p(s,o,a):p(s,o))||a);return d>3&&a&&Object.defineProperty(s,o,a),a},u=function(n,s){return function(o,l){s(o,l,n)}},f=function(n,s){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,s)},h=function(n,s,o,l){function d(a){return a instanceof o?a:new o(function(p){p(a)})}return new(o||(o=Promise))(function(a,p){function b(C){try{m(l.next(C))}catch(B){p(B)}}function T(C){try{m(l.throw(C))}catch(B){p(B)}}function m(C){C.done?a(C.value):d(C.value).then(b,T)}m((l=l.apply(n,s||[])).next())})},g=function(n,s){var o={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},l,d,a,p;return p={next:b(0),throw:b(1),return:b(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function b(m){return function(C){return T([m,C])}}function T(m){if(l)throw new TypeError("Generator is already executing.");for(;o;)try{if(l=1,d&&(a=m[0]&2?d.return:m[0]?d.throw||((a=d.return)&&a.call(d),0):d.next)&&!(a=a.call(d,m[1])).done)return a;switch(d=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return o.label++,{value:m[1],done:!1};case 5:o.label++,d=m[1],m=[0];continue;case 7:m=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){o=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){o.label=m[1];break}if(m[0]===6&&o.label<a[1]){o.label=a[1],a=m;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(m);break}a[2]&&o.ops.pop(),o.trys.pop();continue}m=s.call(n,o)}catch(C){m=[6,C],d=0}finally{l=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},q=function(n,s,o,l){l===void 0&&(l=o),n[l]=s[o]},_=function(n,s){for(var o in n)o!=="default"&&!s.hasOwnProperty(o)&&(s[o]=n[o])},v=function(n){var s=typeof Symbol=="function"&&Symbol.iterator,o=s&&n[s],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},S=function(n,s){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var l=o.call(n),d,a=[],p;try{for(;(s===void 0||s-- >0)&&!(d=l.next()).done;)a.push(d.value)}catch(b){p={error:b}}finally{try{d&&!d.done&&(o=l.return)&&o.call(l)}finally{if(p)throw p.error}}return a},A=function(){for(var n=[],s=0;s<arguments.length;s++)n=n.concat(S(arguments[s]));return n},R=function(){for(var n=0,s=0,o=arguments.length;s<o;s++)n+=arguments[s].length;for(var l=Array(n),d=0,s=0;s<o;s++)for(var a=arguments[s],p=0,b=a.length;p<b;p++,d++)l[d]=a[p];return l},E=function(n){return this instanceof E?(this.v=n,this):new E(n)},O=function(n,s,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,s||[]),d,a=[];return d={},p("next"),p("throw"),p("return"),d[Symbol.asyncIterator]=function(){return this},d;function p(x){l[x]&&(d[x]=function(k){return new Promise(function(U,Z){a.push([x,k,U,Z])>1||b(x,k)})})}function b(x,k){try{T(l[x](k))}catch(U){B(a[0][3],U)}}function T(x){x.value instanceof E?Promise.resolve(x.value.v).then(m,C):B(a[0][2],x)}function m(x){b("next",x)}function C(x){b("throw",x)}function B(x,k){x(k),a.shift(),a.length&&b(a[0][0],a[0][1])}},D=function(n){var s,o;return s={},l("next"),l("throw",function(d){throw d}),l("return"),s[Symbol.iterator]=function(){return this},s;function l(d,a){s[d]=n[d]?function(p){return(o=!o)?{value:E(n[d](p)),done:d==="return"}:a?a(p):p}:a}},P=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n[Symbol.asyncIterator],o;return s?s.call(n):(n=typeof v=="function"?v(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(a){o[a]=n[a]&&function(p){return new Promise(function(b,T){p=n[a](p),d(b,T,p.done,p.value)})}}function d(a,p,b,T){Promise.resolve(T).then(function(m){a({value:m,done:b})},p)}},M=function(n,s){return Object.defineProperty?Object.defineProperty(n,"raw",{value:s}):n.raw=s,n},I=function(n){if(n&&n.__esModule)return n;var s={};if(n!=null)for(var o in n)Object.hasOwnProperty.call(n,o)&&(s[o]=n[o]);return s.default=n,s},F=function(n){return n&&n.__esModule?n:{default:n}},$=function(n,s){if(!s.has(n))throw new TypeError("attempted to get private field on non-instance");return s.get(n)},H=function(n,s,o){if(!s.has(n))throw new TypeError("attempted to set private field on non-instance");return s.set(n,o),o},y("__extends",e),y("__assign",r),y("__rest",i),y("__decorate",c),y("__param",u),y("__metadata",f),y("__awaiter",h),y("__generator",g),y("__exportStar",_),y("__createBinding",q),y("__values",v),y("__read",S),y("__spread",A),y("__spreadArrays",R),y("__await",E),y("__asyncGenerator",O),y("__asyncDelegator",D),y("__asyncValues",P),y("__makeTemplateObject",M),y("__importStar",I),y("__importDefault",F),y("__classPrivateFieldGet",$),y("__classPrivateFieldSet",H)})}(qe)),qe.exports}var Ge={},Yt;function Gs(){return Yt||(Yt=1,Object.defineProperty(Ge,"__esModule",{value:!0})),Ge}var We={},Qt;function Ws(){return Qt||(Qt=1,Object.defineProperty(We,"__esModule",{value:!0})),We}var Ve={},Jt;function Vs(){return Jt||(Jt=1,Object.defineProperty(Ve,"__esModule",{value:!0})),Ve}var Ke={},er;function Ks(){return er||(er=1,Object.defineProperty(Ke,"__esModule",{value:!0})),Ke}var ge={},tr;function Xs(){if(tr)return ge;tr=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.isMsWindow=void 0;var t=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function e(i){return"MSInputMethodContext"in i&&"msCrypto"in i}function r(i){if(e(i)&&i.msCrypto.subtle!==void 0){var c=i.msCrypto,u=c.getRandomValues,f=c.subtle;return t.map(function(h){return f[h]}).concat(u).every(function(h){return typeof h=="function"})}return!1}return ge.isMsWindow=r,ge}var rr;function Zs(){return rr||(rr=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=qs();e.__exportStar(Gs(),t),e.__exportStar(Ws(),t),e.__exportStar(Vs(),t),e.__exportStar(Ks(),t),e.__exportStar(Xs(),t)}(ze)),ze}var nr;function Ys(){if(nr)return le;nr=1,Object.defineProperty(le,"__esModule",{value:!0}),le.Sha256=void 0;var t=jr(),e=$r(),r=Us(),i=zs(),c=Zs(),u=ct,f=we(),h=function(){function g(_){(0,i.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new e.Sha256(_):(0,c.isMsWindow)((0,u.locateWindow)())?this.hash=new t.Sha256(_):this.hash=new r.Sha256(_)}return g.prototype.update=function(_,v){this.hash.update((0,f.convertToBuffer)(_))},g.prototype.digest=function(){return this.hash.digest()},g.prototype.reset=function(){this.hash.reset()},g}();return le.Sha256=h,le}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0;var e=Nr.exports;e.__exportStar(Ys(),t);var r=jr();Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=$r();Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})})(ks);const Qs={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},qr={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},j={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},z={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Q={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class w{static getFirstMatch(e,r){const i=r.match(e);return i&&i.length>0&&i[1]||""}static getSecondMatch(e,r){const i=r.match(e);return i&&i.length>1&&i[2]||""}static matchAndReturnConst(e,r,i){if(e.test(r))return i}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(i=>parseInt(i,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(i=>parseInt(i,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,i=!1){const c=w.getVersionPrecision(e),u=w.getVersionPrecision(r);let f=Math.max(c,u),h=0;const g=w.map([e,r],_=>{const v=f-w.getVersionPrecision(_),S=_+new Array(v+1).join(".0");return w.map(S.split("."),A=>new Array(20-A.length).join("0")+A).reverse()});for(i&&(h=f-Math.min(c,u)),f-=1;f>=h;){if(g[0][f]>g[1][f])return 1;if(g[0][f]===g[1][f]){if(f===h)return 0;f-=1}else if(g[0][f]<g[1][f])return-1}}static map(e,r){const i=[];let c;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(c=0;c<e.length;c+=1)i.push(r(e[c]));return i}static find(e,r){let i,c;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(i=0,c=e.length;i<c;i+=1){const u=e[i];if(r(u,i))return u}}static assign(e,...r){const i=e;let c,u;if(Object.assign)return Object.assign(e,...r);for(c=0,u=r.length;c<u;c+=1){const f=r[c];typeof f=="object"&&f!==null&&Object.keys(f).forEach(g=>{i[g]=f[g]})}return e}static getBrowserAlias(e){return Qs[e]}static getBrowserTypeByAlias(e){return qr[e]||""}}const N=/version\/(\d+(\.?_?\d+)+)/i,Js=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=w.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=w.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=w.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=w.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=w.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=w.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=w.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=w.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=w.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=w.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=w.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=w.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=w.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=w.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=w.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=w.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=w.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=w.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=w.getFirstMatch(N,t)||w.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=w.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=w.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=w.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=w.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=w.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=w.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=w.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=w.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=w.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=w.getFirstMatch(N,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,c=t.search("\\(")!==-1?r:e;return{name:w.getFirstMatch(c,t),version:w.getSecondMatch(c,t)}}}],eo=[{test:[/Roku\/DVP/],describe(t){const e=w.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:z.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=w.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:z.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=w.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=w.getWindowsVersionName(e);return{name:z.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:z.iOS},r=w.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=w.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=w.getMacOSVersionName(e),i={name:z.MacOS,version:e};return r&&(i.versionName=r),i}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=w.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:z.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=w.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=w.getAndroidVersionName(e),i={name:z.Android,version:e};return r&&(i.versionName=r),i}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=w.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:z.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=w.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||w.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||w.getFirstMatch(/\bbb(\d+)/i,t);return{name:z.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=w.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:z.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=w.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:z.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:z.Linux}}},{test:[/CrOS/],describe(){return{name:z.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=w.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:z.PlayStation4,version:e}}}],to=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=w.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:j.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:j.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:j.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:j.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:j.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:j.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:j.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=w.getFirstMatch(/(ipod|iphone)/i,t);return{type:j.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:j.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:j.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:j.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:j.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:j.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:j.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:j.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:j.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:j.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:j.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:j.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:j.tv}}}],ro=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:Q.Blink};const r=w.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:Q.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:Q.Trident},r=w.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:Q.Presto},r=w.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:Q.Gecko},r=w.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Q.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:Q.WebKit},r=w.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class ir{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=w.find(Js,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=w.find(eo,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=w.find(to,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=w.find(ro,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(i=>this.test(i));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return w.assign({},this.parsedResult)}satisfies(e){const r={};let i=0;const c={};let u=0;if(Object.keys(e).forEach(h=>{const g=e[h];typeof g=="string"?(c[h]=g,u+=1):typeof g=="object"&&(r[h]=g,i+=1)}),i>0){const h=Object.keys(r),g=w.find(h,v=>this.isOS(v));if(g){const v=this.satisfies(r[g]);if(v!==void 0)return v}const _=w.find(h,v=>this.isPlatform(v));if(_){const v=this.satisfies(r[_]);if(v!==void 0)return v}}if(u>0){const h=Object.keys(c),g=w.find(h,_=>this.isBrowser(_,!0));if(g!==void 0)return this.compareVersion(c[g])}}isBrowser(e,r=!1){const i=this.getBrowserName().toLowerCase();let c=e.toLowerCase();const u=w.getBrowserTypeByAlias(c);return r&&u&&(c=u.toLowerCase()),c===i}compareVersion(e){let r=[0],i=e,c=!1;const u=this.getBrowserVersion();if(typeof u=="string")return e[0]===">"||e[0]==="<"?(i=e.substr(1),e[1]==="="?(c=!0,i=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?i=e.substr(1):e[0]==="~"&&(c=!0,i=e.substr(1)),r.indexOf(w.compareVersions(u,i,c))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Gr{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new ir(e,r)}static parse(e){return new ir(e).getResult()}static get BROWSER_MAP(){return qr}static get ENGINE_MAP(){return Q}static get OS_MAP(){return z}static get PLATFORMS_MAP(){return j}}const jo=({serviceId:t,clientVersion:e})=>async()=>{const r=typeof window<"u"&&window?.navigator?.userAgent?Gr.parse(window.navigator.userAgent):void 0,i=[["aws-sdk-js",e],["ua","2.0"],[`os/${r?.os?.name||"other"}`,r?.os?.version],["lang/js"],["md/browser",`${r?.browser?.name??"unknown"}_${r?.browser?.version??"unknown"}`]];return t&&i.push([`api/${t}`,e]),i},$o=t=>()=>Promise.reject(t),sr=typeof TextEncoder=="function"?new TextEncoder:null,Uo=t=>{if(typeof t=="string"){if(sr)return sr.encode(t).byteLength;let e=t.length;for(let r=e-1;r>=0;r--){const i=t.charCodeAt(r);i>127&&i<=2047?e++:i>2047&&i<=65535&&(e+=2),i>=56320&&i<=57343&&r--}return e}else{if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size}throw new Error(`Body Length computation failed for ${t}`)},no=(t,e,r)=>{let i,c,u,f=!1;const h=async()=>{c||(c=t());try{i=await c,u=!0,f=!1}finally{c=void 0}return i};return e===void 0?async g=>((!u||g?.forceRefresh)&&(i=await h()),i):async g=>((!u||g?.forceRefresh)&&(i=await h()),f?i:r&&!r(i)?(f=!0,i):(e(i)&&await h(),i))},io=["in-region","cross-region","mobile","standard","legacy"],Ho=({defaultsMode:t}={})=>no(async()=>{const e=typeof t=="function"?await t():t;switch(e?.toLowerCase()){case"auto":return Promise.resolve(so()?"mobile":"standard");case"mobile":case"in-region":case"cross-region":case"standard":case"legacy":return Promise.resolve(e?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${io.join(", ")}, got ${e}`)}}),so=()=>{const e=(typeof window<"u"&&window?.navigator?.userAgent?Gr.parse(window.navigator.userAgent):void 0)?.platform?.type;return e==="tablet"||e==="mobile"},zo=t=>{let e=async()=>{if(t.region===void 0)throw new Error("Region is missing from runtimeConfig");const r=t.region;return typeof r=="string"?r:r()};return{setRegion(r){e=r},region(){return e}}},qo=t=>({region:t.region()});export{No as A,Fo as B,Co as C,Je as D,fo as E,ho as F,po as G,_o as H,Eo as I,ko as J,Io as K,lo as L,Oo as M,gi as N,wi as O,Do as P,vi as Q,wo as R,Er as S,So as T,go as a,xo as b,Uo as c,jo as d,ks as e,ot as f,it as g,yo as h,$o as i,vo as j,Ho as k,To as l,Po as m,te as n,co as o,Qe as p,qo as q,Lo as r,Mo as s,uo as t,zo as u,bo as v,Ao as w,Ro as x,mo as y,Bo as z};
