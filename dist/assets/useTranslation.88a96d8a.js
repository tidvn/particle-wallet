import{a2 as f,aA as E,aB as z}from"./index.fbf0f355.js";function A(){if(console&&console.warn){for(var s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const S={};function w(){for(var s=arguments.length,e=new Array(s),n=0;n<s;n++)e[n]=arguments[n];typeof e[0]=="string"&&S[e[0]]||(typeof e[0]=="string"&&(S[e[0]]=new Date),A(...e))}const v=(s,e)=>()=>{if(s.isInitialized)e();else{const n=()=>{setTimeout(()=>{s.off("initialized",n)},0),e()};s.on("initialized",n)}};function T(s,e,n){s.loadNamespaces(e,v(s,n))}function R(s,e,n,d){typeof n=="string"&&(n=[n]),n.forEach(o=>{s.options.ns.indexOf(o)<0&&s.options.ns.push(o)}),s.loadLanguages(e,v(s,d))}function P(s,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const d=e.languages[0],o=e.options?e.options.fallbackLng:!1,t=e.languages[e.languages.length-1];if(d.toLowerCase()==="cimode")return!0;const g=(b,y)=>{const r=e.services.backendConnector.state[`${b}|${y}`];return r===-1||r===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!g(e.isLanguageChangingTo,s)?!1:!!(e.hasResourceBundle(d,s)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||g(d,s)&&(!o||g(t,s)))}function $(s,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(w("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(s,{lng:n.lng,precheck:(o,t)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!t(o.isLanguageChangingTo,s))return!1}}):P(s,e,n)}const j=f.exports.createContext();class k{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const F=(s,e)=>{const n=f.exports.useRef();return f.exports.useEffect(()=>{n.current=e?n.current:s},[s,e]),n.current};function B(s){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:d,defaultNS:o}=f.exports.useContext(j)||{},t=n||d||E();if(t&&!t.reportNamespaces&&(t.reportNamespaces=new k),!t){w("You will need to pass in an i18next instance by using initReactI18next");const a=(c,i)=>typeof i=="string"?i:i&&typeof i=="object"&&typeof i.defaultValue=="string"?i.defaultValue:Array.isArray(c)?c[c.length-1]:c,u=[a,{},!1];return u.t=a,u.i18n={},u.ready=!1,u}t.options.react&&t.options.react.wait!==void 0&&w("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const g={...z(),...t.options.react,...e},{useSuspense:b,keyPrefix:y}=g;let r=s||o||t.options&&t.options.defaultNS;r=typeof r=="string"?[r]:r||["translation"],t.reportNamespaces.addUsedNamespaces&&t.reportNamespaces.addUsedNamespaces(r);const p=(t.isInitialized||t.initializedStoreOnce)&&r.every(a=>$(a,t,g));function m(){return t.getFixedT(e.lng||null,g.nsMode==="fallback"?r:r[0],y)}const[C,h]=f.exports.useState(m);let N=r.join();e.lng&&(N=`${e.lng}${N}`);const I=F(N),l=f.exports.useRef(!0);f.exports.useEffect(()=>{const{bindI18n:a,bindI18nStore:u}=g;l.current=!0,!p&&!b&&(e.lng?R(t,e.lng,r,()=>{l.current&&h(m)}):T(t,r,()=>{l.current&&h(m)})),p&&I&&I!==N&&l.current&&h(m);function c(){l.current&&h(m)}return a&&t&&t.on(a,c),u&&t&&t.store.on(u,c),()=>{l.current=!1,a&&t&&a.split(" ").forEach(i=>t.off(i,c)),u&&t&&u.split(" ").forEach(i=>t.store.off(i,c))}},[t,N]);const L=f.exports.useRef(!0);f.exports.useEffect(()=>{l.current&&!L.current&&h(m),L.current=!1},[t,y]);const x=[C,t,p];if(x.t=C,x.i18n=t,x.ready=p,p||!p&&!b)return x;throw new Promise(a=>{e.lng?R(t,e.lng,r,()=>a()):T(t,r,()=>a())})}export{B as u};
