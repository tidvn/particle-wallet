import{w as Q}from"./chunk-WN72JIRK.a98c42cd.js";import{i as T}from"./chunk-QNAXMJIS.3ce008d2.js";import{N as V}from"./chunk-AMOVWUCP.62a50458.js";import{a2 as C,aC as o,aD as W,aE as B,aK as x,aL as f,aT as p,aS as w,bc as $,aY as F,aI as j,aF as U,a0 as G,bP as J,ah as X,a3 as m,c2 as Z}from"./index.fbf0f355.js";import{u as ee}from"./useRequest.5a6d3e71.js";import{Q as te}from"./dayjs.min.dc147111.js";import{u as ae}from"./useTranslation.88a96d8a.js";import"./throttle.73ef307f.js";import"./index.9705f4c9.js";var ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const re=ie;var M=function(e,a){return o(W,{...B(B({},e),{},{ref:a,icon:re})})};M.displayName="DotChartOutlined";const ne=C.exports.forwardRef(M);var ce=function(e){var a=e.prefixCls,d=e.className,u=e.style,i=e.size,l=e.shape,c=x(f(f({},"".concat(a,"-lg"),i==="large"),"".concat(a,"-sm"),i==="small")),t=x(f(f(f({},"".concat(a,"-circle"),l==="circle"),"".concat(a,"-square"),l==="square"),"".concat(a,"-round"),l==="round")),r=C.exports.useMemo(function(){return typeof i=="number"?{width:i,height:i,lineHeight:"".concat(i,"px")}:{}},[i]);return o("span",{className:x(a,c,t,d),style:p(p({},r),u)})};const P=ce;var le=function(e){var a=e.prefixCls,d=e.className,u=e.active,i=e.shape,l=i===void 0?"circle":i,c=e.size,t=c===void 0?"default":c,r=C.exports.useContext(w),v=r.getPrefixCls,s=v("skeleton",a),h=$(e,["prefixCls","className"]),y=x(s,"".concat(s,"-element"),f({},"".concat(s,"-active"),u),d);return o("div",{className:y,children:o(P,{prefixCls:"".concat(s,"-avatar"),shape:l,size:t,...h})})};const se=le;var oe=function(e){var a=e.prefixCls,d=e.className,u=e.active,i=e.block,l=i===void 0?!1:i,c=e.size,t=c===void 0?"default":c,r=C.exports.useContext(w),v=r.getPrefixCls,s=v("skeleton",a),h=$(e,["prefixCls"]),y=x(s,"".concat(s,"-element"),f(f({},"".concat(s,"-active"),u),"".concat(s,"-block"),l),d);return o("div",{className:y,children:o(P,{prefixCls:"".concat(s,"-button"),size:t,...h})})};const de=oe;var ve=function(e){var a=e.prefixCls,d=e.className,u=e.style,i=e.active,l=e.children,c=C.exports.useContext(w),t=c.getPrefixCls,r=t("skeleton",a),v=x(r,"".concat(r,"-element"),f({},"".concat(r,"-active"),i),d),s=l??o(ne,{});return o("div",{className:v,children:o("div",{className:x("".concat(r,"-image"),d),style:u,children:s})})};const ue=ve;var me="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",fe=function(e){var a=e.prefixCls,d=e.className,u=e.style,i=e.active,l=C.exports.useContext(w),c=l.getPrefixCls,t=c("skeleton",a),r=x(t,"".concat(t,"-element"),f({},"".concat(t,"-active"),i),d);return o("div",{className:r,children:o("div",{className:x("".concat(t,"-image"),d),style:u,children:o("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(t,"-image-svg"),children:o("path",{d:me,className:"".concat(t,"-image-path")})})})})};const xe=fe;var he=function(e){var a=e.prefixCls,d=e.className,u=e.active,i=e.block,l=e.size,c=l===void 0?"default":l,t=C.exports.useContext(w),r=t.getPrefixCls,v=r("skeleton",a),s=$(e,["prefixCls"]),h=x(v,"".concat(v,"-element"),f(f({},"".concat(v,"-active"),u),"".concat(v,"-block"),i),d);return o("div",{className:h,children:o(P,{prefixCls:"".concat(v,"-input"),size:c,...s})})};const ge=he;var pe=function(e){var a=function(r){var v=e.width,s=e.rows,h=s===void 0?2:s;if(Array.isArray(v))return v[r];if(h-1===r)return v},d=e.prefixCls,u=e.className,i=e.style,l=e.rows,c=F(Array(l)).map(function(t,r){return o("li",{style:{width:a(r)}},r)});return o("ul",{className:x(d,u),style:i,children:c})};const Ce=pe;var we=function(e){var a=e.prefixCls,d=e.className,u=e.width,i=e.style;return o("h3",{className:x(a,d),style:p({width:u},i)})};const Ne=we;function b(n){return n&&U(n)==="object"?n:{}}function ye(n,e){return n&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function ze(n,e){return!n&&e?{width:"38%"}:n&&e?{width:"50%"}:{}}function ke(n,e){var a={};return(!n||!e)&&(a.width="61%"),!n&&e?a.rows=3:a.rows=2,a}var N=function(e){var a=e.prefixCls,d=e.loading,u=e.className,i=e.style,l=e.children,c=e.avatar,t=c===void 0?!1:c,r=e.title,v=r===void 0?!0:r,s=e.paragraph,h=s===void 0?!0:s,y=e.active,A=e.round,E=C.exports.useContext(w),R=E.getPrefixCls,O=E.direction,g=R("skeleton",a);if(d||!("loading"in e)){var z=!!t,k=!!v,_=!!h,S;if(z){var Y=p(p({prefixCls:"".concat(g,"-avatar")},ye(k,_)),b(t));S=o("div",{className:"".concat(g,"-header"),children:o(P,{...Y})})}var D;if(k||_){var q;if(k){var H=p(p({prefixCls:"".concat(g,"-title")},ze(z,_)),b(v));q=o(Ne,{...H})}var I;if(_){var K=p(p({prefixCls:"".concat(g,"-paragraph")},ke(z,k)),b(h));I=o(Ce,{...K})}D=j("div",{className:"".concat(g,"-content"),children:[q,I]})}var L=x(g,f(f(f(f({},"".concat(g,"-with-avatar"),z),"".concat(g,"-active"),y),"".concat(g,"-rtl"),O==="rtl"),"".concat(g,"-round"),A),u);return j("div",{className:L,style:i,children:[S,D]})}return typeof l<"u"?l:null};N.Button=de;N.Avatar=se;N.Input=ge;N.Image=xe;N.Node=ue;const _e=N;var Pe=`.device-list-container {
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  color: var(--text-color);
}
.device-list-container .scroll-wrapper {
  flex: 1;
  overflow: auto;
}
.device-list-container .devices-description {
  margin: 32px 18px 40px;
  font-weight: 400;
  font-size: 13px;
  color: var(--secondary-text-color);
}
.device-list-container .ant-spin-nested-loading > div > .ant-spin {
  top: 10vh;
}
.device-list-container .device-list {
  width: 100%;
  padding: 0 18px;
}
.device-list-container .device-list .ant-skeleton-content .ant-skeleton-title {
  display: none;
}
.device-list-container .device-list .item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 70px;
  padding: 0 12px 0 14px;
  margin-bottom: 10px;
  border-radius: var(--card-border-radius);
  background: var(--card-unclickable-background-color);
  cursor: pointer;
}
.device-list-container .device-list .item .device {
  font-weight: 500;
  font-size: 14px;
}
.device-list-container .device-list .item .created_at {
  margin-top: 4px;
  font-weight: 400;
  font-size: 12px;
  line-height: 1.2;
  color: var(--secondary-text-color);
}
.device-list-container .device-list .item .right {
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 8px;
}
.device-list-container .device-list .item .right .arrow-right-icon {
  color: var(--text-color);
}
.device-list-container .device-list .item .right .arrow-right-icon svg {
  width: 12px;
  height: 12px;
}
.device-list-container .device-list .item .right .current-icon {
  position: relative;
  height: 20px;
  padding: 0 10px;
  border-radius: 30px;
  overflow: hidden;
  font-size: 13px;
  line-height: 20px;
  white-space: nowrap;
  color: var(--accent-color);
}
.device-list-container .device-list .item .right .current-icon::after {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--accent-color);
  opacity: 0.15;
  content: '';
}
`,be=()=>{let{t:n}=ae(),e=G(),{modalOptions:a}=J(),{language:d}=X(),{loading:u,data:i=[],run:l}=ee(()=>Z().then(c=>c.map(t=>{var r,v;if(t.updated_at&&(t.updated_at=te(new Date(t.updated_at)).format("YYYY/MM/DD HH:mm")),a.projectId===t.project_app_uuid&&(t.isCurrent=!0),t.login_channel&&(t.login_channel=t.login_channel.replace(/( |^)[a-z]/g,s=>s.toUpperCase())),(r=t?.location)!=null&&r.country_code)try{t.location.country_name=new Intl.DisplayNames([d||"en"],{type:"region"}).of((v=t?.location)==null?void 0:v.country_code)}catch{}return t})),{cacheKey:"getAuthorizations",manual:!0});return C.exports.useEffect(()=>{l()},[]),m.createElement("div",{className:"device-list-container"},m.createElement("style",null,Pe),m.createElement(Q,{displayBackBtn:!0},n("new.authorization")),m.createElement("div",{className:"scroll-wrapper"},m.createElement("div",{className:"devices-description"},n("new.authorization_tips")),u?m.createElement("div",{className:"device-list"},m.createElement(_e,null)):m.createElement("div",{className:"device-list"},i?.map((c,t)=>m.createElement("div",{className:"item",key:t,onClick:()=>{e("/manageDevices/deviceDetails",{state:{loginDeviceInfo:c}})}},m.createElement("div",{className:"left"},m.createElement("div",{className:"wrap"},m.createElement("div",{className:"s-row device"},c.project_app_name),m.createElement("div",{className:"s-row created_at"},c.updated_at))),m.createElement("div",{className:"right"},c.isCurrent&&m.createElement("div",{className:"current-icon"},n("new.current")),m.createElement(T,{className:"arrow-right-icon",name:"arrow_right_icon"})))))),m.createElement(V,{className:"footer-box-v2"}))},Ae=be;export{Ae as default};
