const h=(n,s)=>{for(const e of Object.keys(n)){const a=n[e],c=async function(r,t,i){const o=new a(r);if(typeof t=="function")this.send(o,t);else if(typeof i=="function"){if(typeof t!="object")throw new Error(`Expected http options but got ${typeof t}`);this.send(o,t||{},i)}else return this.send(o,t)},f=(e[0].toLowerCase()+e.slice(1)).replace(/Command$/,"");s.prototype[f]=c}},p=async(n,s,e,...a)=>await s.send(new n(e),...a);function y(n,s,e,a,c){return async function*(r,t,...i){let o=r.startingToken||void 0,l=!0,d;for(;l;){if(t[e]=o,c&&(t[c]=t[c]??r.pageSize),r.client instanceof n)d=await p(s,r.client,t,...i);else throw new Error(`Invalid client, expected instance of ${n.name}`);yield d;const u=o;o=m(d,a),l=!!(o&&(!r.stopOnSameToken||o!==u))}return void 0}}const m=(n,s)=>{let e=n;const a=s.split(".");for(const c of a){if(!e||typeof e!="object")return;e=e[c]}return e};export{y as a,h as c};
